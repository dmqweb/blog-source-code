{
    "version": "https://jsonfeed.org/version/1",
    "title": "æœæ˜æ¸…çš„ä¸ªäººåšå®¢",
    "subtitle": "ğŸ‘»æ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ğŸ‘»",
    "icon": "https://dmqweb.cn/images/favicon.ico",
    "description": "",
    "home_page_url": "https://dmqweb.cn",
    "items": [
        {
            "id": "https://dmqweb.cn/2024/08/03/rollup/",
            "url": "https://dmqweb.cn/2024/08/03/rollup/",
            "title": "rollup",
            "date_published": "2024-08-03T07:54:39.000Z",
            "content_html": "<h1 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h1>\n<blockquote>\n<p>rollup æ˜¯ä¸€ä¸ª ES æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¼–è¯‘å°çš„ä»£ç åˆ°ä¸€ä¸ªå¤§çš„ã€è´Ÿè´£çš„ä»£ç ä¸­ï¼Œæ¯”å¦‚ä¸€ä¸ªåº“æˆ–è€…ä¸€ä¸ªåº”ç”¨ç¨‹åº</p>\n</blockquote>\n<h1 id=\"å¯¹æ¯”\"><a class=\"anchor\" href=\"#å¯¹æ¯”\">#</a> å¯¹æ¯”</h1>\n<blockquote>\n<p>æˆ‘ä»¬ä¼šå‘ç° Rollup çš„å®šä¹‰ã€å®šä½å’Œ webpack éå¸¸çš„ç›¸ä¼¼ï¼š</p>\n</blockquote>\n<ul>\n<li>Rollup ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯ Rollup ä¸»è¦æ˜¯é’ˆå¯¹ ES Modulej è¿›è¡Œæ‰“åŒ…çš„ï¼›</li>\n<li>å¦å¤– webpacki é€šå¸¸å¯ä»¥é€šè¿‡å„ç§ loader å¤„ç†å„ç§å„æ ·çš„æ–‡ä»¶ï¼Œä»¥åŠå¤„ç†å®ƒä»¬çš„ä¾èµ–å…³ç³»ï¼›</li>\n<li>rollup æ›´å¤šæ—¶å€™æ˜¯ä¸“æ³¨äºå¤„ç† JavaScript ä»£ç çš„ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥å¤„ç† cssã€fontã€vue ç­‰æ–‡ä»¶</li>\n<li>å¦å¤– rollup çš„é…ç½®å’Œç†å¿µç›¸å¯¹äº webpack æ¥è¯´ï¼Œæ›´åŠ çš„ç®€æ´å’Œå®¹æ˜“ç†è§£ï¼›</li>\n<li>åœ¨æ—©æœŸ webpack ä¸æ”¯æŒ tree shaking æ—¶ï¼Œrollup. å…·å¤‡æ›´å¼ºçš„ä¼˜åŠ¿ï¼š</li>\n</ul>\n<blockquote>\n<p>ç›®å‰ webpack å’Œ rollup åˆ†åˆ«åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ</p>\n</blockquote>\n<ul>\n<li>é€šå¸¸åœ¨å®é™…é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ webpack (æ¯”å¦‚ vueã€reactã€angularI é¡¹ç›®éƒ½æ˜¯åŸºäº webpack çš„)</li>\n<li>åœ¨å¯¹åº“æ–‡ä»¶è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ rollup (æ¯”å¦‚ vueã€reactã€.dayjs æºç æœ¬èº«éƒ½æ˜¯åŸºäº rollupl çš„)ï¼›</li>\n</ul>\n<h1 id=\"ä¼˜ç‚¹\"><a class=\"anchor\" href=\"#ä¼˜ç‚¹\">#</a> ä¼˜ç‚¹</h1>\n<ul>\n<li>rollup å¼€å‘ JavaScript åº“æ–‡ä»¶æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ rollup è¿›è¡Œæ‰“åŒ…æ„å»º</li>\n<li>rollup çš„ä¼˜åŠ¿åœ¨äºï¼šé…ç½®å°‘ï¼Œè¾“å‡ºçº¯å‡€ï¼Œæ²¡æœ‰å¤šä½™å¤æ‚çš„é…ç½®å’ŒåŠŸèƒ½</li>\n<li>rollup å¯ä»¥åˆ›å»ºæ›´å°çš„ bundleï¼Œä»è€Œæå‡é¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œä¼˜åŒ–æ€§èƒ½</li>\n<li>rollup å…·æœ‰è‰¯å¥½çš„å…¼å®¹æ€§ï¼Œå°½ç®¡ rollup åŸç”Ÿæ”¯æŒ ES æ¨¡å—ï¼Œä½†æ˜¯é€šè¿‡é…ç½®ä¹Ÿå¯ä»¥ç”Ÿæˆ CommonJSã€IIFEã€UMD å’Œ AMD ç­‰æ¨¡å—</li>\n<li>rollup å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰“åŒ…å„ç§æ¨¡å—åŒ–è§„èŒƒï¼ˆiifeã€esã€amdã€umd ç­‰ï¼‰</li>\n</ul>\n<h1 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i <span class=\"token parameter variable\">-g</span> rollup</pre></td></tr></table></figure><h1 id=\"å‘½ä»¤\"><a class=\"anchor\" href=\"#å‘½ä»¤\">#</a> å‘½ä»¤</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>rollup <span class=\"token parameter variable\">--init</span> <span class=\"token comment\"># ç”Ÿæˆé…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>rollup src/main.js <span class=\"token parameter variable\">--config</span> rollup.config.js <span class=\"token comment\"># ä½¿ç”¨ rollup.config.js æ‰“åŒ… main.js æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>rollup src/main.js <span class=\"token parameter variable\">--config</span> rollup.config.js <span class=\"token parameter variable\">--watch</span> <span class=\"token comment\"># --watch çƒ­å¯åŠ¨æ‰“åŒ…</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>rollup src/main.js <span class=\"token parameter variable\">--config</span> rollup.config.js <span class=\"token parameter variable\">--output</span> dist/bundle.js <span class=\"token comment\">#æŒ‡å®šè¾“å‡ºæ–‡ä»¶åç§°</span></pre></td></tr></table></figure><h1 id=\"rollupconfigjs\"><a class=\"anchor\" href=\"#rollupconfigjs\">#</a> rollup.config.js</h1>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> commonjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@rollup/plugin-commonjs\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// éœ€è¦è¿›è¡Œå®‰è£…</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> resolve <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@rollup/plugin-node-resolve\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> babel <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@babel/core\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/main.js\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span><span class=\"token string\">\"umd\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//name æŒ‡æ˜äº†å¯¼å‡ºåˆ°å…¨å±€çš„å˜é‡å</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token literal-property property\">file</span><span class=\"token operator\">:</span><span class=\"token string\">\"dist/test.umd.js\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token literal-property property\">globals</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">//globals æŒ‡æ˜äº†å¤–éƒ¨ä¾èµ–å¾—å˜é‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åº“æ‰€ä¾èµ–çš„å¤–éƒ¨æ¨¡å—</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token string-property property\">\"react\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"React\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token string-property property\">\"react-dom\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"ReactDOM\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span><span class=\"token string\">\"es\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token literal-property property\">file</span><span class=\"token operator\">:</span><span class=\"token string\">\"dist/test.es.js\"</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span><span class=\"token string\">\"iife\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token literal-property property\">file</span><span class=\"token operator\">:</span><span class=\"token string\">\"dist/test.iife.js\"</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token function\">commonjs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token function\">babel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token literal-property property\">babelHelpers</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bundled\"</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "rollup",
                "rollup"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/08/03/Gulp/",
            "url": "https://dmqweb.cn/2024/08/03/Gulp/",
            "title": "Gulp",
            "date_published": "2024-08-03T07:38:34.000Z",
            "content_html": "<h1 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h1>\n<blockquote>\n<p>gulp æ˜¯å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­å¯¹ä»£ç è¿›è¡Œæ„å»ºçš„å·¥å…·ï¼Œæ˜¯è‡ªåŠ¨åŒ–é¡¹ç›®çš„ç†å™¨ï¼Œèƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­åšå¾ˆå¤šé‡å¤çš„ä»»åŠ¡ï¼Œå¹¶ä½¿ç”¨å·¥å…·è‡ªåŠ¨å®Œæˆï¼Œå¯ä»¥å¤§å¤§æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡<br />\n glup å¯¹å·¥ç¨‹åŒ–çš„ä½œç”¨ï¼šè‡ªåŠ¨å‹ç¼© JS æ–‡ä»¶ ã€‚è‡ªåŠ¨å‹ç¼© CSS æ–‡ä»¶ã€‚è‡ªåŠ¨åˆå¹¶æ–‡ä»¶ã€‚è‡ªåŠ¨ç¼–è¯‘ sassã€‚è‡ªåŠ¨å‹ç¼©å›¾ç‰‡ã€‚è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ ç­‰</p>\n</blockquote>\n<h1 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h1>\n<blockquote>\n<p>ä½¿ç”¨ gulp å‘½ä»¤éœ€è¦å®‰è£…å¯¹åº”çš„è„šæ‰‹æ¶å·¥å…·</p>\n</blockquote>\n<h1 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨</h1>\n<blockquote>\n<p>æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª gulpfile.js æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­å®šä¹‰å…·ä½“æµç¨‹ï¼ˆå¯ä»¥ä½¿ç”¨å„ç§æ’ä»¶ï¼‰ï¼Œå¯¼å‡ºçš„å°±æ˜¯ä¸€ä¸ªä¸ªä»»åŠ¡ã€‚</p>\n</blockquote>\n<h1 id=\"api\"><a class=\"anchor\" href=\"#api\">#</a> API</h1>\n<blockquote>\n<p>gulp å¸¸ç”¨çš„ API æœ‰ï¼š</p>\n</blockquote>\n<ul>\n<li>Taskï¼šè¿™ä¸ª API ç”¨æ¥åˆ›å»ºä»»åŠ¡ï¼Œåœ¨å‘½ä»¤ä¸‹å¯ä»¥è¾“å…¥ gulp test æ¥æ‰§è¡Œ test ä»»åŠ¡ã€‚</li>\n<li>Watch: è¿™ä¸ª API ç”¨æ¥ç›‘å¬ä»»åŠ¡ã€‚</li>\n<li>Src: è¿™ä¸ª API è®¾ç½®éœ€è¦å¤„ç†çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡ä»¶ä»¥æ•°ç»„çš„å½¢å¼ [main.scssï¼Œvender.scss], ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ /**/*.scssã€‚</li>\n<li>Dest: è¿™ä¸ª API è®¾ç½®ç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„ï¼Œä¸€ä¸ªä»»åŠ¡å¯ä»¥æœ‰å¤šä¸ªç”Ÿæˆè·¯å¾„ï¼Œä¸€ä¸ªå¯ä»¥è¾“å‡ºæœªå‹ç¼©çš„ç‰ˆæœ¬ï¼Œå¦ä¸€ä¸ªå¯ä»¥è¾“å‡ºå‹ç¼©åçš„ç‰ˆæœ¬</li>\n</ul>\n<h1 id=\"å·¥ä½œæ–¹å¼\"><a class=\"anchor\" href=\"#å·¥ä½œæ–¹å¼\">#</a> å·¥ä½œæ–¹å¼</h1>\n<blockquote>\n<p>gulp çš„ä½¿ç”¨æµç¨‹ä¸€èˆ¬æ˜¯ï¼š</p>\n</blockquote>\n<ul>\n<li>é¦–å…ˆé€šè¿‡ <code>gulp.src()</code>  æ–¹æ³•è·å–åˆ°æƒ³è¦å¤„ç†çš„æ–‡ä»¶æµï¼Œ</li>\n<li>ç„¶åæŠŠæ–‡ä»¶æµé€šè¿‡ <code>pipeæ–¹æ³•</code> å¯¼å…¥åˆ° gulp çš„æ’ä»¶ä¸­ï¼Œ</li>\n<li>æœ€åæŠŠç»è¿‡æ’ä»¶å¤„ç†åçš„æµå†é€šè¿‡ pipe æ–¹æ³•å¯¼å…¥åˆ° <code>gulp.dest()</code>  ä¸­ï¼Œgulp.dest () æ–¹æ³•åˆ™æŠŠæµä¸­çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­</li>\n</ul>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> gulp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gulp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script/jquery.js\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–æµçš„ API, ä¹Ÿå¯ä»¥ä¼ æ­£åˆ™è¡¨è¾¾å¼</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dist/foo.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å†™æ”¾æ–‡ä»¶çš„ API</span></pre></td></tr></table></figure><h1 id=\"ç¤ºä¾‹\"><a class=\"anchor\" href=\"#ç¤ºä¾‹\">#</a> ç¤ºä¾‹</h1>\n<blockquote>\n<p>éœ€è¦å…ˆå®‰è£…å¯¹åº”çš„ä½¿ç”¨åˆ°çš„æ’ä»¶</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> gulp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> sass <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> autoprefixer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-autoprefixer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> rename <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-rename'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> cleanCSS <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-clean-css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> jshint <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-jshint'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">const</span> concat <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-concat'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">const</span> uglify <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-uglify'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> notify <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-notify'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">'styles'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// ç¼–è¯‘ sass</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">return</span> gulp<span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/styles/main.scss'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">sass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">style</span><span class=\"token operator\">:</span> <span class=\"token string\">'expanded'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// æ·»åŠ å‰ç¼€</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">autoprefixer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'last 2 version'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'safari 5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ie 8'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ie 9'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'opera 12.1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ios 6'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'android 4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// ä¿å­˜æœªå‹ç¼©æ–‡ä»¶åˆ°æˆ‘ä»¬æŒ‡å®šçš„ç›®å½•ä¸‹é¢</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dist/assets/css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// ç»™æ–‡ä»¶æ·»åŠ .min åç¼€</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">rename</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">suffix</span><span class=\"token operator\">:</span> <span class=\"token string\">'.min'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">// å‹ç¼©æ ·å¼æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">minifycss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">// è¾“å‡ºå‹ç¼©æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dist/assets/css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">// æé†’ä»»åŠ¡å®Œæˆ</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">'Styles task complete'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// å‘å¸ƒä»»åŠ¡</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     <span class=\"token comment\">//js ä»£ç æ ¡éªŒ</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     <span class=\"token keyword\">return</span> gulp<span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"javascripts/*.js\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">jshint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>jshint<span class=\"token punctuation\">.</span><span class=\"token function\">reporter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"default\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     <span class=\"token comment\">//js ä»£ç åˆå¹¶</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"all.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     <span class=\"token comment\">// ç»™æ–‡ä»¶æ·»åŠ .min åç¼€</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">rename</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">suffix</span><span class=\"token operator\">:</span><span class=\"token string\">\".min\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>     <span class=\"token comment\">// å‹ç¼©è„šæœ¬æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">uglify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>     <span class=\"token comment\">// è¾“å‡ºå‹ç¼©æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"assets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>     <span class=\"token comment\">// æé†’ä»»åŠ¡å®Œæˆ</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>     <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">message</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Scripts task complete\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token comment\">// é»˜è®¤ä»»åŠ¡ï¼Œè¿è¡Œ styles å’Œ scripts ä»»åŠ¡</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> gulp<span class=\"token punctuation\">.</span><span class=\"token function\">parallel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'styles'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scripts'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "Gulp",
                "Gulp"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/29/%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC/",
            "url": "https://dmqweb.cn/2024/07/29/%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC/",
            "title": "æ¶æ„é£æ ¼",
            "date_published": "2024-07-29T06:56:39.000Z",
            "content_html": "<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzOTQzMDY4MjA1MDY0I2hlYWRpbmctMA==\">æ¨è</span></p>\n<h1 id=\"åˆ†å±‚æ¶æ„\"><a class=\"anchor\" href=\"#åˆ†å±‚æ¶æ„\">#</a> åˆ†å±‚æ¶æ„</h1>\n<h1 id=\"ç®¡é“æ¶æ„\"><a class=\"anchor\" href=\"#ç®¡é“æ¶æ„\">#</a> ç®¡é“æ¶æ„</h1>\n<h1 id=\"å¤åˆ¶é£æ ¼\"><a class=\"anchor\" href=\"#å¤åˆ¶é£æ ¼\">#</a> å¤åˆ¶é£æ ¼</h1>\n<h1 id=\"å¾®å†…æ ¸æ¶æ„\"><a class=\"anchor\" href=\"#å¾®å†…æ ¸æ¶æ„\">#</a> å¾®å†…æ ¸æ¶æ„</h1>\n<h1 id=\"å¾®å‰ç«¯æ¶æ„\"><a class=\"anchor\" href=\"#å¾®å‰ç«¯æ¶æ„\">#</a> å¾®å‰ç«¯æ¶æ„</h1>\n<h1 id=\"ç»„ä»¶åŒ–æ¶æ„\"><a class=\"anchor\" href=\"#ç»„ä»¶åŒ–æ¶æ„\">#</a> ç»„ä»¶åŒ–æ¶æ„</h1>\n",
            "tags": [
                "æ¶æ„é£æ ¼",
                "æ¶æ„é£æ ¼"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/26/%E6%A1%86%E6%9E%B6%E9%AB%98%E7%BA%A7/",
            "url": "https://dmqweb.cn/2024/07/26/%E6%A1%86%E6%9E%B6%E9%AB%98%E7%BA%A7/",
            "title": "æ¡†æ¶é«˜çº§",
            "date_published": "2024-07-26T04:24:04.000Z",
            "content_html": "<h1 id=\"vueé«˜çº§ç”¨æ³•\"><a class=\"anchor\" href=\"#vueé«˜çº§ç”¨æ³•\">#</a> vue é«˜çº§ç”¨æ³•</h1>\n<h3 id=\"watcheffectå‡½æ•°\"><a class=\"anchor\" href=\"#watcheffectå‡½æ•°\">#</a> watchEffect å‡½æ•°</h3>\n<blockquote>\n<p>ç«‹å³è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼ŒåŒæ—¶è‡ªåŠ¨è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œã€‚<br />\nwatchEffect çš„è¿”å›å€¼æ˜¯ç”¨äºæ¸…é™¤è¯¥å‰¯ä½œç”¨çš„å‡½æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> stop <span class=\"token operator\">=</span> <span class=\"token function\">watchEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span><span class=\"token string\">'dataå˜åŒ–äº†'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ¸…é™¤å“åº”æ€§ç›‘å¬</span></pre></td></tr></table></figure><blockquote>\n<p>watchEffect çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ options é…ç½®é¡¹ï¼Œå¯ä»¥é…ç½® flushã€onTrack å‡½æ•°å’Œ onTrigger å‡½æ•°</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">watchEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token literal-property property\">flush</span><span class=\"token operator\">:</span><span class=\"token string\">\"post\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//flush é…ç½®é¡¹é…ç½®å›è°ƒå‡½æ•°çš„åˆ·æ–°æ—¶æœºï¼Œpost ä¼šåœ¨ DOM æ¸²æŸ“ä¹‹åè§¦å‘ã€sync ä¼šåœ¨ vue è¿›è¡Œä»»ä½•æ›´æ–°ä¹‹å‰è¿›è¡Œè§¦å‘</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">onTrack</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">debugger</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">onTrigger</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">debugger</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"watchsynceffectå‡½æ•°\"><a class=\"anchor\" href=\"#watchsynceffectå‡½æ•°\">#</a> watchSyncEffect å‡½æ•°</h3>\n<blockquote>\n<p>å›è°ƒå‡½æ•°ä¼šåœ¨ DOM æ¸²æŸ“ä¹‹åè§¦å‘ï¼Œç›¸å½“äº watchEffect ä¸­é…ç½®äº† fulsh:&quot;post&quot;</p>\n</blockquote>\n<h3 id=\"watchsynceffectå‡½æ•°-2\"><a class=\"anchor\" href=\"#watchsynceffectå‡½æ•°-2\">#</a> watchSyncEffect å‡½æ•°</h3>\n<blockquote>\n<p>å›è°ƒå‡½æ•°åœ¨ vue è¿›è¡Œä»»ä½•æ›´æ–°ä¹‹å‰è§¦å‘ï¼Œç›¸å½“äº watchEffect ä¸­é…ç½®äº† fulsh:&quot;sync&quot;</p>\n</blockquote>\n<h3 id=\"effectscopeå‡½æ•°\"><a class=\"anchor\" href=\"#effectscopeå‡½æ•°\">#</a> effectScope å‡½æ•°</h3>\n<blockquote>\n<p>effectScope å‡½æ•°åˆ›å»ºä¸€ä¸ª effect ä½œç”¨åŸŸï¼Œå¯ä»¥æ•è·å…¶ä¸­æ‰€åˆ›å»ºçš„å“åº”å¼å‰¯ä½œç”¨ï¼ˆå³è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨ï¼‰ï¼Œè¿™æ ·æ•è·åˆ°çš„å‰¯ä½œç”¨å¯ä»¥ä¸€èµ·å¤„ç†ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> scope <span class=\"token operator\">=</span> <span class=\"token function\">effectScope</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>scope<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> doubled <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> counter<span class=\"token punctuation\">.</span>value <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>doubled<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doubled<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">watchEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Count: '</span><span class=\"token punctuation\">,</span> doubled<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>scope<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ¸…é™¤æ‰ä½œç”¨åŸŸå†…æ‰€æœ‰çš„ effect</span></pre></td></tr></table></figure><h3 id=\"getcurrentscopeå‡½æ•°\"><a class=\"anchor\" href=\"#getcurrentscopeå‡½æ•°\">#</a> getCurrentScope å‡½æ•°</h3>\n<blockquote>\n<p>è·å–å½“å‰æ´»è·ƒçš„ effect ä½œç”¨åŸŸ</p>\n</blockquote>\n<h3 id=\"onscopedispostå‡½æ•°\"><a class=\"anchor\" href=\"#onscopedispostå‡½æ•°\">#</a> onScopeDispost å‡½æ•°</h3>\n<blockquote>\n<p>åœ¨å½“å‰æ´»è·ƒçš„ effect ä½œç”¨åŸŸä¸Šæ³¨å†Œä¸€ä¸ªå¤„ç†å›è°ƒå‡½æ•°ã€‚å½“ç›¸å…³çš„ effect ä½œç”¨åŸŸåœæ­¢æ—¶ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ã€‚</p>\n</blockquote>\n<h3 id=\"shallowrefå‡½æ•°\"><a class=\"anchor\" href=\"#shallowrefå‡½æ•°\">#</a> shallowRef å‡½æ•°</h3>\n<blockquote>\n<p>ç”¨äºæµ…å±‚å“åº”å¼ï¼Œé¿å…æ·±å±‚æ¯”è¾ƒå¸¦æ¥çš„æ•ˆç‡é—®é¢˜</p>\n</blockquote>\n<h3 id=\"triggerrefå‡½æ•°\"><a class=\"anchor\" href=\"#triggerrefå‡½æ•°\">#</a> triggerRef å‡½æ•°</h3>\n<blockquote>\n<p>å¼ºåˆ¶è§¦å‘ä¾èµ–äºä¸€ä¸ªæµ…å±‚ ref çš„å‰¯ä½œç”¨ï¼Œé€šå¸¸åœ¨å¯¹æµ…å¼•ç”¨çš„å†…éƒ¨å€¼è¿›è¡Œæ·±åº¦å˜æ›´åä½¿ç”¨</p>\n</blockquote>\n<h3 id=\"customrefå‡½æ•°\"><a class=\"anchor\" href=\"#customrefå‡½æ•°\">#</a> customRef å‡½æ•°</h3>\n<blockquote>\n<p>customRef å‡½æ•°åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œæ˜¾ç¤ºå£°æ˜å¯¹å…¶ä¾èµ–è¿½è¸ªå’Œæ›´æ–°è§¦å‘çš„æ§åˆ¶æ–¹å¼ã€‚é¢„æœŸæ¥å—ä¸€ä¸ªå·¥å‚å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå·¥å‚å‡½æ•°æ¥æ”¶ track å’Œ trigger ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰ get å’Œ set æ–¹æ³•çš„å¯¹è±¡</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªè¿”å›æ‡’æ‰§è¡Œå“åº”å¼æ•°æ®çš„å‡½æ•°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">useDebouncedRef</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span>delay<span class=\"token operator\">=</span><span class=\"token number\">200</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">let</span> timeout<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">customRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">track<span class=\"token punctuation\">,</span>trigger</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token function\">track</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                timeout <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                    value <span class=\"token operator\">=</span> newValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                    <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>delay<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"shallowreactive\"><a class=\"anchor\" href=\"#shallowreactive\">#</a> shallowReactive</h3>\n<blockquote>\n<p>shallowReactive æ˜¯ reactive çš„æµ…å±‚ä½œç”¨å½¢å¼ï¼Œåªæœ‰è·Ÿçº§åˆ«çš„å±æ€§æ˜¯å“åº”å¼çš„ï¼Œå±æ€§çš„å€¼ä¼šè¢«åŸæ ·å­˜å‚¨å’Œæš´éœ²ï¼Œè¿™ä¹Ÿæ„å‘³ç€å€¼ä¸º ref çš„å±æ€§ä¸ä¼šè¢«è‡ªåŠ¨è§£åŒ…äº†ã€‚</p>\n</blockquote>\n<h3 id=\"shallowreadonly\"><a class=\"anchor\" href=\"#shallowreadonly\">#</a> shallowReadonly</h3>\n<blockquote>\n<p>shallowReadonly æ˜¯ readonly çš„æµ…å±‚ä½œç”¨å½¢å¼ã€‚</p>\n</blockquote>\n<h3 id=\"isrefå‡½æ•°\"><a class=\"anchor\" href=\"#isrefå‡½æ•°\">#</a> isRef å‡½æ•°</h3>\n<blockquote>\n<p>ç”¨äºæ£€æŸ¥æŸä¸ªå€¼æ˜¯å¦æ˜¯ ref</p>\n</blockquote>\n<h3 id=\"unrefå‡½æ•°\"><a class=\"anchor\" href=\"#unrefå‡½æ•°\">#</a> unref å‡½æ•°</h3>\n<blockquote>\n<p>å¦‚æœæ˜¯ refï¼Œè¿”å› ref å†…éƒ¨çš„å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«</p>\n</blockquote>\n<h3 id=\"torefå‡½æ•°\"><a class=\"anchor\" href=\"#torefå‡½æ•°\">#</a> toRef å‡½æ•°</h3>\n<ul>\n<li>ä¼ å…¥ ref è¿”å› ref æœ¬èº«</li>\n<li>ä¼ å…¥ props.key åˆ›å»ºä¸€ä¸ªåªè¯»çš„ ref</li>\n<li>ä¼ å…¥ number æˆ–è€… string ç›¸å½“äº ref å‡½æ•°</li>\n<li>ä¼ å…¥å“åº”å¼æ•°æ®å’Œé”®å€¼ä¼šå°è£…ä¸ºä¸€ä¸ª refï¼Œä½†æ˜¯ç›¸æ¯”äºç›´æ¥å°è£… ref æ¥è¯´ï¼Œä¼šä¸æºå±æ€§è¿›è¡ŒåŒæ­¥<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">bar</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> fooRef <span class=\"token operator\">=</span> <span class=\"token function\">toRef</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//fooRef ä¼šå’Œ state çš„å“åº”æ€§ç›¸å…³è”</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> fooRef2 <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//fooRef2 ä¸ä¼šå’Œ state.foo çš„å“åº”æ€§ç›¸å…³è”</span></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"torefså‡½æ•°\"><a class=\"anchor\" href=\"#torefså‡½æ•°\">#</a> toRefs å‡½æ•°</h3>\n<blockquote>\n<p>vue3 ä¸­çš„ ref å°† reactive å“åº”æ€§ç»‘å®šåˆ°.value å±æ€§ä¸Šï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸ºäº†é˜²æ­¢å¼€å‘è€…é”™è¯¯çš„å°†å“åº”å¼æ•°æ®è¿›è¡Œè§£æ„åçš„å˜é‡åˆå…¶å½“ä½œå“åº”å¼æ•°æ®ã€‚æ‰€ä»¥åŠ äº†ä¸€å±‚éš”ç¦»ã€‚toRefs å‡½æ•°ä¹Ÿæ˜¯ç”¨äºè§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br />\nå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯æŒ‡å‘æºå¯¹è±¡ç›¸åº”å±æ€§çš„ refã€‚æ¯ä¸ªå•ç‹¬çš„ ref éƒ½æ˜¯ä½¿ç”¨ toRef åˆ›å»ºçš„</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">\"å¼ ä¸‰\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span><span class=\"token number\">18</span>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> stateAsRefs <span class=\"token operator\">=</span> <span class=\"token function\">toRefs</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>state<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"æå››\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//toRefs è¿”å›çš„å“åº”å¼æ•°æ®å’ŒåŸå“åº”å¼æ•°æ®ç›¸äº’å…³è”</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>stateAsRefs<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token comment\">// æå››</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">//toRefs çš„å­˜åœ¨æ˜¯ä¸ºäº†ä¿è¯ reactive å“åº”å¼è¢«è§£æ„ä¹‹åä»ç„¶å­˜åœ¨å“åº”æ€§</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span>name<span class=\"token punctuation\">,</span>age<span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">toRefs</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// è§£æ„ä¹‹åçš„ name å’Œ age éƒ½æ˜¯å“åº”å¼å¯¹è±¡</span></pre></td></tr></table></figure><h3 id=\"torawå‡½æ•°\"><a class=\"anchor\" href=\"#torawå‡½æ•°\">#</a> toRaw å‡½æ•°</h3>\n<blockquote>\n<p>toRaw è¿”å›ç”± reactiveã€readonlyã€shallowReactive æˆ–è€… shallowReadonly åˆ›å»ºçš„ä»£ç†å¯¹åº”çš„åŸå§‹å¯¹è±¡ï¼ˆæ ˆèµ‹å€¼ï¼‰ï¼Œè¿”å›çš„å¯¹è±¡ä¸å†å…·æœ‰å“åº”å¼ï¼Œæ ˆèµ‹å€¼æ—¶ä¸ä¼šå½±å“åˆ°é¡µé¢çš„å±•ç¤ºï¼Œä½†å¦‚æœæ”¹å˜è¯¥å¯¹è±¡çš„å †ä¸­çš„å±æ€§ï¼ŒåŸå¯¹è±¡çš„ä¾èµ–é¡¹ä¹Ÿä¼šéšä¹‹å˜åŒ–</p>\n</blockquote>\n<h3 id=\"markrawå‡½æ•°\"><a class=\"anchor\" href=\"#markrawå‡½æ•°\">#</a> markRaw å‡½æ•°</h3>\n<blockquote>\n<p>å°†ä¸€ä¸ªå¯¹è±¡æ ‡è®°ä¸ºä¸å¯è¢«è½¬ä¸ºä»£ç†ï¼Œè¿”å›è¯¥å¯¹è±¡æœ¬èº«</p>\n</blockquote>\n<h3 id=\"tovalueå‡½æ•°\"><a class=\"anchor\" href=\"#tovalueå‡½æ•°\">#</a> toValue å‡½æ•°</h3>\n<blockquote>\n<p>å°†å€¼ã€å‡½æ•°ã€æˆ–å“åº”å¼æ•°æ®è§„èŒƒåŒ–ä¸ºæ™®é€šå€¼ï¼ŒtoValue (ref (1)) ---&gt; 1</p>\n</blockquote>\n<h3 id=\"isproxyå‡½æ•°\"><a class=\"anchor\" href=\"#isproxyå‡½æ•°\">#</a> isProxy å‡½æ•°</h3>\n<blockquote>\n<p>æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactiveã€readonlyã€shallowReactive æˆ–è€… shallowReadonly åˆ›å»ºçš„ä»£ç†ã€‚</p>\n</blockquote>\n<h3 id=\"isreactiveå‡½æ•°\"><a class=\"anchor\" href=\"#isreactiveå‡½æ•°\">#</a> isReactive å‡½æ•°</h3>\n<blockquote>\n<p>æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactive æˆ– shallowReactive åˆ›å»ºçš„ä»£ç†</p>\n</blockquote>\n<h3 id=\"isreadonlyå‡½æ•°\"><a class=\"anchor\" href=\"#isreadonlyå‡½æ•°\">#</a> isreadonly å‡½æ•°</h3>\n<blockquote>\n<p>æ£€æŸ¥ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯åªè¯»å¯¹è±¡ï¼Œåªè¯»å¯¹è±¡çš„å±æ€§å¯ä»¥æ›´æ”¹ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡ä¼ å…¥çš„å¯¹è±¡ç›´æ¥èµ‹å€¼ã€‚</p>\n</blockquote>\n<h3 id=\"transitionç»„ä»¶\"><a class=\"anchor\" href=\"#transitionç»„ä»¶\">#</a> Transition ç»„ä»¶</h3>\n<ul>\n<li>ä½¿ç”¨è¿‡æ¸¡æ ·å¼</li>\n<li>mode å±æ€§å®šä¹‰åŠ¨ç”»è¿›è¡Œçš„é¡ºåºï¼Œå¸¸ç”¨ out-in</li>\n<li>name å±æ€§å®šä¹‰åŠ¨ç”»çš„åç§°ï¼Œé…åˆ css ä½¿ç”¨</li>\n<li>appear å±æ€§åˆæ¬¡æ¸²æŸ“è¿‡æ¸¡</li>\n<li>ç”Ÿå‘½å‘¨æœŸé’©å­ç”¨äºè‡ªå®šä¹‰è¿‡æ¸¡ä¸­æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾æ¬¡æ˜¯ before-enter,enter,after-enter,enter-cancelled,before-leave,leave,leave-cancelled, å¯ç”¨çš„å‚æ•°æœ‰ el å’Œ done ()</li>\n<li>css æ ·å¼è¿‡æ¸¡:name-enter-from\\name-enter-active\\name-enter-to\\name-leave-from\\name-leave-active\\name-leave-to å®šä¹‰å¯¹åº”æ—¶æœŸçš„æ ·å¼ (åªå¯¹å¯ä»¥è¿‡æ¸¡å˜åŒ–çš„æ ·å¼ç”Ÿæ•ˆ)</li>\n</ul>\n<h3 id=\"transitiongroupç»„ä»¶\"><a class=\"anchor\" href=\"#transitiongroupç»„ä»¶\">#</a> TransitionGroup ç»„ä»¶</h3>\n<ul>\n<li>TransitionGroup ç»„ä»¶ç”¨äºå¯¹ v-for åˆ—è¡¨ä¸­çš„å…ƒç´ æˆ–ç»„ä»¶æ’å…¥ ã€ç§»é™¤æˆ–é¡ºåºå˜åŒ–æ·»åŠ åŠ¨ç”»æ•ˆæœ.</li>\n<li>å±æ€§å’Œç”Ÿå‘½å‘¨æœŸå’Œ Transition ä¸€æ ·</li>\n<li>tag å±æ€§å¯ä»¥æŒ‡å®š TransitionGroup ä¸ºä¸€ä¸ªå®¹å™¨</li>\n</ul>\n<h3 id=\"keepaliveç»„ä»¶\"><a class=\"anchor\" href=\"#keepaliveç»„ä»¶\">#</a> KeepAlive ç»„ä»¶</h3>\n<ul>\n<li>KeepAlive ç”¨äºåœ¨å¤šä¸ªç»„ä»¶é—´åˆ‡æ¢çŠ¶æ€æ—¶ç¼“å­˜è¢«ç§»é™¤çš„ç»„ä»¶å®ä¾‹ (ä½¿ç»„ä»¶ä¿å­˜çŠ¶æ€)</li>\n<li>KeepAlive çš„åŸç†å°±æ˜¯å½“ KeepAlive ä¸­çš„ç»„ä»¶è¢«ç§»é™¤æ—¶ï¼Œç”¨å˜é‡å°†æ•´ä¸ªç»„ä»¶ç¼“å­˜èµ·æ¥ï¼Œéœ€è¦åˆ‡æ¢æ—¶ç›´æ¥ä½¿ç”¨ç¼“å­˜èµ·æ¥çš„å˜é‡</li>\n<li>include å’Œ exclude å±æ€§ç”¨äºåŒ…å«æˆ–æ’é™¤å¯¹åº”çš„ç»„ä»¶ name</li>\n<li>KeepAlive çš„ç»„ä»¶åŒ…å« onActivated å’Œ onDeactived ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­</li>\n</ul>\n<h3 id=\"teleportç»„ä»¶\"><a class=\"anchor\" href=\"#teleportç»„ä»¶\">#</a> Teleport ç»„ä»¶</h3>\n<ul>\n<li>Teleport ç»„ä»¶ï¼Œç”¨äºå°†ç»„ä»¶å†…éƒ¨çš„ä¸€éƒ¨åˆ†æ¨¡æ¿ä¼ é€åˆ°å¤–éƒ¨ç»“æ„ä¸­å»</li>\n<li>to å±æ€§ç”¨äºæŒ‡å®šä¼ é€åˆ°çš„ç»„ä»¶æˆ–è€… DOM å…ƒç´ </li>\n</ul>\n<h3 id=\"suspenseç»„ä»¶\"><a class=\"anchor\" href=\"#suspenseç»„ä»¶\">#</a> Suspense ç»„ä»¶</h3>\n<ul>\n<li>Suspense ç»„ä»¶ç”¨äºæ˜¾ç¤ºå¼‚æ­¥ç»„ä»¶åŠ è½½ä¸­çš„æ˜¾ç¤ºçŠ¶æ€</li>\n<li>Suspense ç»„ä»¶ä¸­ fallback å…·åæ’æ§½ç”¨äºæ˜¾ç¤ºåŠ è½½å†…å®¹</li>\n<li>Suspense ç»„ä»¶åµŒå¥— Suspense ç»„ä»¶æ—¶ï¼Œç»™å†…éƒ¨ Suspense ç»„ä»¶åŠ ä¸Š suspensible å±æ€§è¡¨ç¤ºä¸ºå¼‚æ­¥ç»„ä»¶ï¼Œå¦åˆ™åˆ™ä¼šè¢«çˆ¶çº§ Suspense ç»„ä»¶è§†ä¸ºåŒæ­¥ç»„ä»¶</li>\n</ul>\n<h3 id=\"watchçš„optionsé…ç½®é¡¹\"><a class=\"anchor\" href=\"#watchçš„optionsé…ç½®é¡¹\">#</a> watch çš„ options é…ç½®é¡¹</h3>\n<blockquote>\n<p>watch çš„ options é…ç½®é¡¹ä¸­å¯ä»¥ä½¿ç”¨:</p>\n</blockquote>\n<ul>\n<li>immediate, ä¸º true æ—¶ä¼šåœ¨åˆå§‹åŒ–æ—¶ç«‹å³æ‰§è¡Œä¸€æ¬¡</li>\n<li>deep, ä¸º true æ—¶ä¼šæ·±åº¦ç›‘å¬å¯¹è±¡å †ä¸­å˜åŒ–</li>\n<li>flush, è°ƒæ•´å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœº</li>\n<li>once, å›è°ƒå‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡</li>\n<li>onTrack å‡½æ•°ï¼Œå½“å“åº”å¼è¢«æ”¶é›†æ—¶è¿›è¡Œè§¦å‘<strong>åªåœ¨å¼€å‘æ¨¡å¼ä¸‹æœ‰æ•ˆ</strong></li>\n<li>onTrigger å‡½æ•°ï¼Œå½“ä¾èµ–é¡¹å˜æ›´æ—¶è¿›è¡Œè§¦å‘<strong>åªåœ¨å¼€å‘æ¨¡å¼ä¸‹æœ‰æ•ˆ</strong></li>\n</ul>\n<h3 id=\"computedçš„optionsé…ç½®é¡¹\"><a class=\"anchor\" href=\"#computedçš„optionsé…ç½®é¡¹\">#</a> computed çš„ options é…ç½®é¡¹</h3>\n<ul>\n<li>onTrack å‡½æ•°ï¼Œå½“å“åº”å¼è¢«æ”¶é›†æ—¶è¿›è¡Œè§¦å‘<strong>åªåœ¨å¼€å‘æ¨¡å¼ä¸‹æœ‰æ•ˆ</strong></li>\n<li>onTrigger å‡½æ•°ï¼Œå½“ä¾èµ–é¡¹å˜æ›´æ—¶è¿›è¡Œè§¦å‘<strong>åªåœ¨å¼€å‘æ¨¡å¼ä¸‹æœ‰æ•ˆ</strong></li>\n</ul>\n<h3 id=\"vueå¯¹jsxçš„æ”¯æŒå‹å¥½\"><a class=\"anchor\" href=\"#vueå¯¹jsxçš„æ”¯æŒå‹å¥½\">#</a> vue å¯¹ jsx çš„æ”¯æŒå‹å¥½</h3>\n<ul>\n<li>åœ¨ vue ä¸­ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„å»é›†æˆ jsx æˆ– tsx è¯­æ³•ï¼Œtsx è¯­æ³•éœ€è¦åœ¨ tsconfig.json ä¸­é…ç½®ï¼šjsxï¼špreserveï¼Œæœ€ç»ˆçš„ jsx è¯­æ³•ä¼šè¢«è½¬æ¢ä¸º h å‡½æ•°</li>\n<li>å¯¹äºäº‹ä»¶å’Œæ¡ˆä»¶ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ vue ä¸­çš„ withModifiers å‡½æ•°</li>\n</ul>\n<h3 id=\"vueå¯¹web-componentçš„æ”¯æŒå‹å¥½\"><a class=\"anchor\" href=\"#vueå¯¹web-componentçš„æ”¯æŒå‹å¥½\">#</a> vue å¯¹ web component çš„æ”¯æŒå‹å¥½</h3>\n<ul>\n<li>åœ¨ Vue åº”ç”¨ä¸­ä½¿ç”¨è‡ªå®šä¹‰å…ƒç´ åŸºæœ¬ä¸Šä¸ä½¿ç”¨åŸç”Ÿ HTML å…ƒç´ çš„æ•ˆæœç›¸åŒ</li>\n<li>éœ€è¦åœ¨æ„å»ºå·¥å…·ä¸­é…ç½® compilerOptions.isCustomElement è¿™ä¸ªé€‰é¡¹</li>\n<li>ä¼ é€’ ODM å±æ€§æ—¶ï¼Œéœ€è¦ä½¿ç”¨ v-bind ç»‘å®šï¼Œé€šè¿‡.prop ä¿®é¥°ç¬¦è¿›è¡Œè®¾ç½®<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>my-element</span> <span class=\"token attr-name\">:user.prop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&#123; name: 'jack' &#125;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>my-element</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">&lt;!-- ç­‰ä»·ç®€å†™ --></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>my-element</span> <span class=\"token attr-name\">.user</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&#123; name: 'jack' &#125;<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>my-element</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure></li>\n<li>ä½¿ç”¨ vue æ„å»º web component éœ€è¦ä½¿ç”¨ defineCustomElement è¿™ä¸ªæ–¹æ³•å®šä¹‰å‡ºç»„ä»¶ï¼Œç„¶åé€šè¿‡ customElement.define è¿™ä¸ªæ–¹æ³•å°† vue ç»„ä»¶æ·»åŠ æ ‡ç­¾åˆ° HTML ä¸­</li>\n</ul>\n<h3 id=\"web-componentçš„ä¼˜ç¼ºç‚¹\"><a class=\"anchor\" href=\"#web-componentçš„ä¼˜ç¼ºç‚¹\">#</a> web component çš„ä¼˜ç¼ºç‚¹</h3>\n<ul>\n<li>å…¨éƒ¨ä½¿ç”¨è‡ªå®šä¹‰å…ƒç´ æ¥æ„å»ºåº”ç”¨çš„æ–¹å¼å¯ä»¥ä½¿å¾—åº”ç”¨æ°¸ä¸è¿‡æ—¶å’Œå¤šå¹³å°ã€æ¡†æ¶å…±äº«</li>\n<li>ä½†æ˜¯è®¾æƒ³ä¸æ˜¾ç¤ºæ€»æ˜¯å­˜åœ¨åå·®ï¼š</li>\n<li>\n<ul>\n<li>1ã€åŸç”Ÿ web component å¹¶ä¸å…·å¤‡å“åº”å¼çš„ç³»ç»Ÿ</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>2ã€åŸç”Ÿ web component å¹¶ä¸å…·å¤‡ä¸€ä¸ªå£°æ˜å¼çš„ã€é«˜æ•ˆçš„æ¨¡æ¿ç³»ç»Ÿ</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>3ã€SSR æ¸²æŸ“æ—¶ï¼Œweb component éœ€è¦åœ¨ node.js ä¸­æ¨¡æ‹Ÿå‡º DOMï¼Œè¿™å°†å¢å¤§æœåŠ¡å™¨ç«¯çš„å‹åŠ›</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>4ã€å½“ä¸‹è¦æƒ³ä½¿ç”¨ shadow DOM ä¹¦å†™å±€éƒ¨ä½œç”¨åŸŸçš„ CSSï¼Œå¿…é¡»è¦å°†æ ·å¼åµŒå…¥åˆ° JavaScript ä¸­æ‰å¯ä»¥åœ¨è¿è¡Œæ—¶æ³¨å…¥åˆ° shadow root ä¸Šï¼Œè¿™å°†å¯¼è‡´ SSR åœºæ™¯ä¸‹éœ€è¦æ¸²æŸ“å¤§é‡é‡å¤çš„æ ·å¼æ ‡ç­¾ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"vueç»“åˆjsåŠ¨ç”»åº“\"><a class=\"anchor\" href=\"#vueç»“åˆjsåŠ¨ç”»åº“\">#</a> vue ç»“åˆ js åŠ¨ç”»åº“</h3>\n<ul>\n<li>ä»¥ gsap ä¸ºä¾‹ï¼Œvue ç»“åˆ js åŠ¨ç”»åº“å®ç°åŠ¨ç”»æ•ˆæœæ—¶ï¼Œä¸èƒ½ç›´æ¥å¯¹å“åº”å¼å˜é‡è¿›è¡ŒåŠ¨ç”»è®¾ç½®ï¼Œå› ä¸ºæ˜¯å“åº”å¼å®Œæˆä¹‹åæ‰è¢«ç›‘å¬åˆ°ï¼Œæ­¤æ—¶å“åº”å¼å˜é‡å·²ç»æ˜¯æœ€æ–°çš„å€¼ï¼Œæ‰€ä»¥åº”è¯¥å†æ¥ä¸€ä¸ªå“åº”å¼å˜é‡ä¸­è½¬ä¸€ä¸‹ï¼Œé¡µé¢åŠ¨ç”»æ•ˆæœç»‘å®šçš„æ˜¯ä¸­è½¬çš„å˜é‡ã€‚</li>\n</ul>\n<h3 id=\"vueç”Ÿå‘½å‘¨æœŸ\"><a class=\"anchor\" href=\"#vueç”Ÿå‘½å‘¨æœŸ\">#</a> vue ç”Ÿå‘½å‘¨æœŸ</h3>\n<ul>\n<li>vue3 ä¸­ setup æ›¿ä»£äº† beforeCreate å’Œ created</li>\n<li>beforeMountã€monutedã€beforeUpdateã€updatedã€beforeUnmountã€unMounted</li>\n<li>é”™è¯¯æ•è·é’©å­ï¼šonErrorCapturedï¼Œå¦‚æœåœ¨ onErrorCaptured ä¸­æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œåˆ™ä¼šè¢« app.config.errorHandler æ•è·åˆ°</li>\n<li>å¼€å‘æ—¶é’©å­ï¼šonRenderTrackedï¼ˆç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­è¿½è¸ªåˆ°å“åº”å¼ä¾èµ–æ—¶è°ƒç”¨ï¼‰å’Œ onRenderTriggeredï¼ˆå½“å“åº”å¼ä¾èµ–è§¦å‘äº†ç»„ä»¶æ¸²æŸ“æ—¶è°ƒç”¨ï¼‰</li>\n<li>SSR é’©å­ï¼šonServerPrefetchï¼ˆæ³¨å†Œä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œåœ¨ç»„ä»¶å®ä¾‹åœ¨æœåŠ¡å™¨ä¸Šè¢«æ¸²æŸ“ä¹‹å‰è°ƒç”¨ï¼‰ï¼ŒSSR æ¸²æŸ“æ—¶ï¼Œç»„ä»¶ä½œä¸ºåˆå§‹è¯·æ±‚çš„ä¸€éƒ¨åˆ†è¢«æ¸²æŸ“ï¼Œè¿™æ—¶å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šé¢„è¯·æ±‚æ•°æ®ï¼Œå› ä¸ºå®ƒæ¯”åœ¨å®¢æˆ·ç«¯ä¸Šæ›´å¿«ã€‚</li>\n<li>keepAlive ç»„ä»¶ä¸‹çš„é’©å­ï¼šonActivated å’Œ onDeactivated ä¸¤ä¸ªï¼Œç”¨äºå½“ç»„ä»¶æ¿€æ´»å’Œå¤±æ´»æ—¶è°ƒç”¨</li>\n</ul>\n<h1 id=\"react\"><a class=\"anchor\" href=\"#react\">#</a> React</h1>\n<h2 id=\"fiber\"><a class=\"anchor\" href=\"#fiber\">#</a> Fiber</h2>\n<blockquote>\n<p>Fiber æ¶æ„ï¼šFiber æ¶æ„æ˜¯ä¸€ä¸ªå¢é‡æ¸²æŸ“ï¼Œæ¶æ„é£æ ¼ç±»ä¼¼åç¨‹ï¼ŒFiber æ¶æ„å‡ºç°çš„åŸå› æ˜¯ç”±äº JS å•çº¿ç¨‹æ‰§è¡Œçš„ç‰¹æ€§å½“é‡åˆ°ç¹ççš„æ‰§è¡Œä»»åŠ¡æ—¶ï¼ŒåŸæ¥ React15 çš„åè°ƒè¿‡ç¨‹å°±ä¼šå¾ˆé•¿ï¼Œä»è€Œå»¶è¿Ÿ DOM çš„æ¸²æŸ“æ›´æ–°ï¼Œè¿›è€Œå‡ºç°æ‰å¸§ã€‚Fiber æ¶æ„å°†ä»»åŠ¡åˆ†ç»™ä¸€ä¸ªä¸ªçš„è¿­ä»£å™¨è¿›è¡Œæ‰§è¡Œï¼Œå¹¶ä¸”ä½¿è¿­ä»£å™¨çš„æ‰§è¡Œè¿‡ç¨‹å‘ç”Ÿåœ¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´ï¼Œä»è€Œæœ€å¤§ç¨‹åº¦åˆ©ç”¨äº†è¿™éƒ¨åˆ†èµ„æºï¼Œä½¿å¾— UI æ¸²æŸ“ä¸ä¼šè¢«å¤§é‡æ‰§è¡Œä»»åŠ¡æ‰€é˜»å¡ã€‚<br />\nfiber æ ‘ï¼šfiber æ ‘æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ¶æ„åœ¨è™šæ‹Ÿ DOM è½¬æ¢åˆ°çœŸå® DOM ä¹‹é—´ï¼Œåœ¨ Fiber ç»“æ„ä¸­çš„ä»»åŠ¡æ˜¯å¯ä»¥ä¸­æ–­æ‰§è¡Œçš„ï¼Œç»§ç»­æ‰§è¡Œæ—¶ä¼šä¸¢å¼ƒæ‰åŸæ¥çš„å·¥ä½œä»å¤´å†æ¥ï¼Œå¹¶ä¸”é‡æ–°æ‰§è¡Œä¸­æ–­çš„ä»»åŠ¡ï¼Œå¯¹ç”¨äºæ¥è¯´ä¹Ÿæ˜¯æ— æ„Ÿçš„ï¼Œå› ä¸º Fiber æ¶æ„çš„è§†å›¾æ›´æ–°æ˜¯åç¼“å†²åŒºè§†å›¾ æ›¿æ¢ å‰ç¼“å†²åŒºè§†å›¾çš„è¿‡ç¨‹ã€‚<br />\nç”±äº Fiber æ¶æ„ä¸‹çš„ reconciler åè°ƒé˜¶æ®µæ˜¯å¼‚æ­¥å¯ä¸­æ–­çš„ï¼Œä¸”ä¼šè¢«åå¤é‡æ–°æ‰§è¡Œï¼Œä½¿å¾—åå¤æ‰§è¡Œæ—¶æœ‰å¯èƒ½è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸé’©å­è¢«åºŸå¼ƒï¼Œä¾‹å¦‚ï¼šcomponentWillMountã€componentWillReceivePropsã€componentWillUpdate è¿™äº›ã€‚<br />\nfiber æ ‘ï¼ˆfiber èŠ‚ç‚¹æ„æˆçš„æ ‘çŠ¶é“¾è¡¨ï¼‰çš„éå†ä¸æ‰§è¡Œï¼š</p>\n</blockquote>\n<ul>\n<li>fiber æ ‘éå†ï¼šchildren å­èŠ‚ç‚¹ ----sibling å…„å¼ŸèŠ‚ç‚¹ ----return çˆ¶èŠ‚ç‚¹</li>\n<li>fiber æ ‘çš„æ‰§è¡Œï¼šéå†åˆ°æœ€åº•å±‚å­èŠ‚ç‚¹ A----A çš„å…„å¼ŸèŠ‚ç‚¹ -----A çš„çˆ¶èŠ‚ç‚¹ B------B çš„å…„å¼ŸèŠ‚ç‚¹ï¼ˆæ·±åº¦ä¼˜å…ˆéå†ï¼‰</li>\n</ul>\n<blockquote>\n<p>fiber èŠ‚ç‚¹ï¼ˆå¯¹è±¡ï¼‰ï¼šä¸€ä¸ª fiber èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ª React ç»„ä»¶ï¼Œfiber èŠ‚ç‚¹é‡ŒåŒ…å«äº†ç»„ä»¶çš„ work ä»»åŠ¡ç­‰ä¿¡æ¯ï¼Œæ¯”å¦‚ç»„ä»¶çš„ Hooks æ‰§è¡Œé€»è¾‘ï¼ˆå®ƒæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œå¯ä»¥é€šè¿‡ memorizedState æ‹¿åˆ°è·ŸèŠ‚ç‚¹ï¼ŒHooks æ‰§è¡Œé€»è¾‘é‡Œé¢å­˜å‚¨äº† stateï¼‰ã€ç”Ÿå‘½å‘¨æœŸã€å¯¹äº html ç»„ä»¶çš„å¢åˆ æ”¹æŸ¥ç­‰å‰¯ä½œç”¨<br />\nå½“æ‰§è¡Œ fiber èŠ‚ç‚¹ä¸­çš„ä»»åŠ¡æ—¶ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¹‹å React å°±ä¼šæ£€æŸ¥å½“å‰å¸§è¿˜å‰©å¤šå°‘æ—¶é—´ï¼Œæ²¡æœ‰æ—¶é—´å°±ä¼šå°†æ§åˆ¶æƒè®©å‡ºå»ã€‚</p>\n</blockquote>\n<h3 id=\"fiberæ ‘-vdomå’Œdiffç®—æ³•\"><a class=\"anchor\" href=\"#fiberæ ‘-vdomå’Œdiffç®—æ³•\">#</a> fiber æ ‘ã€VDOM å’Œ diff ç®—æ³•</h3>\n<blockquote>\n<p>fiber æ ‘å°±æ˜¯ VDOM,fiber æ ‘çš„å˜åŒ–åæ˜ äº†ç»„ä»¶çš„çŠ¶æ€å˜åŒ–<br />\n diff ç®—æ³•çš„æœ¬è´¨å°±æ˜¯ï¼šå¯¹æ¯” <code>current fiber</code>  å’Œ  <code>JSXå¯¹è±¡</code>  ç”Ÿæˆ  <code>work-in-progress-fiber</code> <br />\n å³ä½¿æ˜¯æœ€å‰æ²¿çš„ç®—æ³•ï¼Œå®Œå…¨å¯¹æ¯”ä¸¤æ£µæ ‘çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿéœ€è¦ O (n^3), å…¶ä¸­</p>\n</blockquote>\n<h2 id=\"hooks\"><a class=\"anchor\" href=\"#hooks\">#</a> Hooks</h2>\n<blockquote>\n<p>æ³¨æ„ï¼šreact Hooks åªèƒ½åœ¨ä»¶é¡¶å±‚è¿›è¡Œè°ƒç”¨å¹¶ä¸”ä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œè¿™æ˜¯å› ä¸º hooks ä»¥é“¾è¡¨çš„å½¢å¼å­˜æ”¾åœ¨ fiber èŠ‚ç‚¹ä¸­ï¼ˆç±»ç»„ä»¶çš„å‰¯ä½œç”¨ä¹Ÿå­˜åœ¨ fiber èŠ‚ç‚¹ä¸­ï¼‰ï¼Œæ¯æ¬¡æ›´æ–°æ—¶ä¼šåŸºäºé“¾è¡¨çš„é¡ºåºè¿›è¡Œè°ƒç”¨ï¼Œè€Œè°ƒç”¨ hooks æ‰€äº§ç”Ÿçš„ state å°±å­˜åœ¨äº hooks èŠ‚ç‚¹ä¹‹ä¸­ï¼Œå¦‚æœ hooks å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­åˆ™å¯¼è‡´ hooks é“¾è¡¨æ‰§è¡Œæ··ä¹±ï¼Œä½¿å¾—çŠ¶æ€æ›´æ–°å‡ºé”™ã€‚</p>\n</blockquote>\n<h2 id=\"workloopå·¥ä½œå¾ªç¯\"><a class=\"anchor\" href=\"#workloopå·¥ä½œå¾ªç¯\">#</a> workLoop å·¥ä½œå¾ªç¯</h2>\n<blockquote>\n<p>workLoop ä¸­ä¼šæ ¹æ®å½“å‰å¸§çš„å‰©ä½™æ—¶é—´å»æ‰§è¡Œ fiber èŠ‚ç‚¹ä¸­çš„ä»»åŠ¡ï¼Œå¦‚æœæ—¶é—´ä¸å¤Ÿå°±å°†æ§åˆ¶æƒè½¬ç»™ UI æ¸²æŸ“ï¼Œå¹¶ä¿å­˜å½“æœŸçš„æ‰§è¡Œä¸Šä¸‹æ–‡ (åŒ…æ‹¬å½“å‰ fiber èŠ‚ç‚¹çš„çŠ¶æ€), å½“ UI æ¸²æŸ“å®Œæ¯•åï¼Œæ¢å¤å…¶æ‰§è¡Œ (æ‰§è¡Œåˆ°ä¸€åŠçš„ä»»åŠ¡ä¼šé‡æ–°æ‰§è¡Œ)</p>\n</blockquote>\n<h2 id=\"åŒç¼“å†²ç­–ç•¥\"><a class=\"anchor\" href=\"#åŒç¼“å†²ç­–ç•¥\">#</a> åŒç¼“å†²ç­–ç•¥</h2>\n<blockquote>\n<p>åŒç¼“å†²ç­–ç•¥æ˜¯ç”¨äºå‡å°‘ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­çš„é—ªçƒå’Œå¡é¡¿ã€‚åŒç¼“å†²ç­–ç•¥æ˜¯å¯¹äº fiber æ ‘æ¥è¯´çš„<br />\nåŒç¼“å†²ç­–ç•¥ä¼šç»´æŠ¤ä¸¤ä¸ª Fiber æ ‘ï¼šWork-in-progress-fiber æ ‘ å’Œ current-fiber æ ‘ã€‚åè°ƒè¿‡ç¨‹ä¸­ React ä¼šæ¯”è¾ƒæ–°æ—§ä¸¤ä¸ª fiber æ ‘çš„å·®å¼‚ï¼Œä»è€Œç¡®å®šå“ªäº›ç»„ä»¶éœ€è¦æ›´æ–°ã€‚ä¸€æ—¦æ–°çš„ fiber æ ‘æ„å»ºå®Œæˆï¼ŒReact å°±ä¼šä½¿ç”¨ diff ç®—æ³•å»æ›´æ–°çœŸå® DOMã€‚æ›´æ–°å®Œæˆåä¼šå°†å·¥ä½œ Fiber æ ‘çš„æ ¹èŠ‚ç‚¹ä¸å½“å‰ Fiber æ ‘çš„æ ¹èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšæäº¤ã€‚</p>\n</blockquote>\n<h3 id=\"fiberæ›´æ–°çš„ä¸‰ä¸ªé˜¶æ®µ\"><a class=\"anchor\" href=\"#fiberæ›´æ–°çš„ä¸‰ä¸ªé˜¶æ®µ\">#</a> Fiber æ›´æ–°çš„ä¸‰ä¸ªé˜¶æ®µ</h3>\n<ul>\n<li>å¼€å§‹é˜¶æ®µ:  <code>ReactFiberBeginWork</code></li>\n<li>\n<ul>\n<li>è¿™ä¸ªé˜¶æ®µ react éœ€è¦å†³å®šå“ªäº›ç»„ä»¶éœ€è¦æ›´æ–°ã€å“ªäº›ç»„ä»¶å¯ä»¥å¤ç”¨ã€å“ªäº›ç»„ä»¶éœ€è¦è¢«æŒ‚è½½æˆ–å¸è½½</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>React é€šè¿‡æ¯”è¾ƒæ–°æ—§ Fiber æ ‘æ¥ç¡®å®šå˜åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºåè°ƒç®—æ³•ï¼ˆReconciliationï¼‰ã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>æ­¤é˜¶æ®µä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œè¿›åº¦æ ‘ï¼ˆwork-in-progress treeï¼‰ï¼Œè¡¨ç¤º UI çš„æœ€æ–°çŠ¶æ€ã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>è¿™ä¸ªé˜¶æ®µæ˜¯å¯ä¸­æ–­çš„ï¼ŒReact å¯ä»¥å†³å®šæŒ‚èµ·æ¸²æŸ“è¿‡ç¨‹ï¼Œç¨åå†æ¢å¤ã€‚</li>\n</ul>\n</li>\n<li>å®Œæˆé˜¶æ®µ:  <code>ReactFiberCompeleteWork</code></li>\n<li>\n<ul>\n<li>è¿™ä¸ªé˜¶æ®µå‘ç”Ÿåœ¨å®é™…å°†æ›´æ–°åº”ç”¨åˆ°å±å¹•ä¹‹å‰ã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>React æ‰§è¡Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¦‚ getSnapshotBeforeUpdateï¼Œå…è®¸ç»„ä»¶æ•è·å½“å‰çš„ DOM çŠ¶æ€æˆ–æ‰§è¡Œæ•è·æ“ä½œã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>è¿™ä¸ªé˜¶æ®µç”¨äºæ‰§è¡Œé‚£äº›éœ€è¦åœ¨æäº¤å‰çŸ¥é“å¸ƒå±€æ•ˆæœçš„å‰¯ä½œç”¨ï¼Œä¾‹å¦‚ï¼Œæµ‹é‡ç»„ä»¶çš„å°ºå¯¸æˆ–ä½ç½®ã€‚</li>\n</ul>\n</li>\n<li>æäº¤é˜¶æ®µ:  <code>ReactFiberCommitWork</code></li>\n<li>\n<ul>\n<li>è¿™æ˜¯å®é™…å°†æ›´æ”¹åº”ç”¨åˆ°çœŸå® DOM çš„é˜¶æ®µã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>React å¤„ç†æ‰€æœ‰å‰¯ä½œç”¨ï¼Œå¦‚ componentDidMountã€componentDidUpdate å’Œ componentWillUnmount ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>æ›´æ–° DOM å…ƒç´ å’Œå±æ€§ï¼Œæ·»åŠ æˆ–åˆ é™¤ DOM èŠ‚ç‚¹ï¼Œä»¥ç¡®ä¿çœŸå® DOM ä¸å·¥ä½œè¿›åº¦æ ‘åŒæ­¥ã€‚è¿™ä¸ªé˜¶æ®µæ˜¯è¿ç»­çš„ï¼Œä¸èƒ½è¢«ä¸­æ–­ï¼Œå› ä¸º DOM æ›´æ–°é€šå¸¸éœ€è¦åŸå­æ€§åœ°å®Œæˆã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ä¸ºä»€ä¹ˆhooksä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆhooksä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­\">#</a> ä¸ºä»€ä¹ˆ hooks ä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­</h2>\n<blockquote>\n<p>hooks å‡½æ•°æœ€ç»ˆä¼šè¢«å­˜åœ¨ç»„ä»¶å¯¹åº”çš„ fiber èŠ‚ç‚¹çš„ memoizatedState ä¸­ï¼Œç»„ä»¶æ¯æ¬¡æ›´æ–°ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ (hooks é‡Œé¢å­˜ç€ state çŠ¶æ€)ï¼Œå¦‚æœç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶çš„ hooks é“¾è¡¨é¡ºåºä¹±äº†ï¼Œå°±ä¼šå¯¼è‡´ state å¯¹åº”ä¸ä¸Šã€çŠ¶æ€æ··ä¹±</p>\n</blockquote>\n<h2 id=\"reactä¸å¯å˜æ•°æ®\"><a class=\"anchor\" href=\"#reactä¸å¯å˜æ•°æ®\">#</a> react ä¸å¯å˜æ•°æ®</h2>\n<blockquote>\n<p>ä¾‹å¦‚å½“ setData (data + 1) å‰¯ä½œç”¨åœ¨ç»„ä»¶å†…è¿ç»­è°ƒç”¨ä¸‰æ¬¡æ—¶ï¼Œå…¶å®æ˜¯ç›¸å½“äºåªè°ƒç”¨äº†ä¸€æ¬¡ï¼Œè¿™å°±æ˜¯ react ä¸å¯å˜æ•°æ®æˆ–è€…è¯´ï¼šå½“å‰å¿«ç…§åªèƒ½æ“ä½œå½“å‰å¿«ç…§çš„å€¼ï¼›<br />\n å‡ºç° react ä¸å¯å˜æ•°æ®ç°è±¡çš„åŸå› æ˜¯ç”±äº: hooks æ‰§è¡Œé€»è¾‘æœ€åä¼šä»¥é“¾è¡¨çš„å½¢å¼å­˜å‚¨åœ¨ fiber èŠ‚ç‚¹ä¹‹ä¸­ï¼Œè€Œé‚£é‡Œé¢ä¸ä¼šæœ‰ç±»ä¼¼ä¸Šé¢ data è¿™æ ·çš„å˜é‡ï¼Œdata ä¼šåœ¨ hooks æ‰§è¡Œè¿‡ç¨‹è¢«å­˜å‚¨ä¹‹å‰è½¬æ¢ä¸ºå…¶å…·ä½“çš„å€¼ï¼Œä¸Šä¾‹æ­£ç¡®çš„å†™æ³•æ˜¯å†™æˆä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·åœ¨å­˜å‚¨ hooks æ‰§è¡Œé€»è¾‘åˆ° fiber èŠ‚ç‚¹ä¸­æ—¶å°±ä¼šå…ˆæ‰§è¡Œä¼ å…¥çš„è¿™ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚åº”è¯¥å†™æˆ:setData (()=&gt;data+1)</p>\n</blockquote>\n<h2 id=\"reactfiberlaneæ¨¡å‹å¹¶å‘æ¨¡å¼\"><a class=\"anchor\" href=\"#reactfiberlaneæ¨¡å‹å¹¶å‘æ¨¡å¼\">#</a> ReactFiberLane æ¨¡å‹ (å¹¶å‘æ¨¡å¼)</h2>\n<blockquote>\n<p>React å¹¶å‘æ¨¡å¼ï¼šé¦–å…ˆï¼Œå¹¶å‘å’Œå¹¶è¡Œä¸ä¸€æ ·ï¼Œå¹¶è¡Œæ˜¯åŒä¸€æ—¶åˆ»å¤šä»¶äº‹æƒ…åŒæ—¶è¿›è¡Œï¼Œ <code>è€Œå¹¶å‘æ˜¯åªè¦ä¸€æ®µæ—¶é—´å†…åŒæ—¶å‘ç”Ÿå¤šä»¶äº‹æƒ…å°±è¡Œ</code> ã€‚React å¹¶å‘æ¨¡å¼å…è®¸å¤šä¸ªçŠ¶æ€åœ¨åŒä¸€æ—¶é—´æ®µè¿›è¡Œæ›´æ–°ï¼ŒFiber èŠ‚ç‚¹ä¸Šçš„ Lanes æ ‡è®°å‘Šè¯‰ React å¦‚ä½•å¹¶å‘å¤„ç†è¿™äº›çŠ¶æ€æ›´æ–°ã€‚<br />\nä¸ºäº†è®©é«˜ä¼˜å…ˆçº§çš„æ›´æ–°èƒ½å…ˆæ¸²æŸ“ï¼Œreact å®ç°äº†å¹¶å‘æ¨¡å¼ã€‚React ä¸­æ›´æ–° State æœ‰ä¸¤ç§æ¨¡å¼ï¼šåŒæ­¥æ¨¡å¼æ˜¯å¾ªç¯å¤„ç† fiber èŠ‚ç‚¹ï¼Œå¹¶å‘æ¨¡å¼å¤šäº†ä¸ª shouldYield çš„åˆ¤æ–­ï¼Œæ¯ 5ms æ‰“æ–­ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ—¶é—´åˆ†ç‰‡ã€‚å¹¶ä¸”ä¹‹åä¼šé‡æ–°è°ƒåº¦æ¸²æŸ“ã€‚<br />\nReact å¹¶å‘æ˜¯æŒ‡ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¬¡ State çŠ¶æ€å˜åŒ–è¦æ‰§è¡Œçš„ Hooks é“¾è¡¨çš„æ›´æ–°ï¼Œå†å¾ªç¯æ‰§è¡Œæ—¶éƒ½ä¼šåˆ¤æ–­ä¸€ä¸‹æ˜¯å¦éœ€è¦æ‰“æ–­è¿™æ¬¡å¾ªç¯ï¼Œä»è€Œå°†æ›´æ–°è®©ç»™å…¶ä»–ä»»åŠ¡<br />\nè¿™äº›å¹¶å‘ç‰¹æ€§çš„ api éƒ½æ˜¯é€šè¿‡è®¾ç½® Lane å®ç°çš„ï¼Œreact æ£€æµ‹åˆ°å¯¹åº”çš„ Lane å°±ä¼šå¼€å¯ <code>å¸¦æœ‰æ—¶é—´åˆ†ç‰‡çš„ workLoopConcurrent å¾ªç¯</code> ã€‚æ—¶é—´åˆ†ç‰‡çš„ workLoop + ä¼˜å…ˆçº§è°ƒåº¦ï¼Œè¿™å°±æ˜¯ React å¹¶å‘æœºåˆ¶çš„å®ç°åŸç†ã€‚è¿™å°±æ˜¯ React å¹¶å‘æœºåˆ¶çš„å®ç°åŸç†ã€‚<br />\nåŸºäº Lane çš„ä¼˜å…ˆçº§å®ç°çš„ api, ä¾‹å¦‚:useTransitionã€useDeferredValueã€‚å½“è¢«ç”¨åˆ° çš„æ—¶å€™ï¼Œreact æ‰ä¼šå¯ç”¨ workLoopConcurrent å¸¦æ—¶é—´åˆ†ç‰‡çš„å¾ªç¯ã€‚<br />\nè¢«æ‰“æ–­çš„ Hooks é“¾è¡¨çš„æ›´æ–°ä»»åŠ¡ä¼šè¢«ä¸¢å¼ƒï¼Œç”±äºæ²¡æœ‰æ¸²æŸ“å®Œæ‰€ä»¥éœ€è¦å†æ·»åŠ ä¸€ä¸ªä»»åŠ¡è¿›ä»»åŠ¡é˜Ÿåˆ—<br />\n Lane æ¨¡å‹æ˜¯ React ä¸­çš„ä¸€ç§çŠ¶æ€æ›´æ–°æœºåˆ¶ï¼Œç›®çš„æ˜¯æé«˜åº”ç”¨çš„æ€§èƒ½å’Œå“åº”é€Ÿåº¦ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å°† UI ä¸­çš„çŠ¶æ€å˜åŒ–æŠ½è±¡æˆä¸€ç³»åˆ—çš„ lane å˜åŒ–ï¼Œæ¯ä¸ª lane åªæè¿°äº†ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡å®Œæ•´å¾—çŠ¶æ€æ›´æ–°ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—çŠ¶æ€å˜åŒ–æ›´åŠ æ¸…æ™°æ˜“äºå¤„ç†å’Œç»´æŠ¤<br />\n react çš„å¹¶å‘æ¨¡å¼çš„æ‰“æ–­åªä¼šæ ¹æ®æ—¶é—´ç‰‡ï¼Œä¹Ÿå°±æ˜¯æ¯ 5ms å°±æ‰“æ–­ä¸€æ¬¡ï¼Œå¹¶ä¸ä¼šæ ¹æ®ä¼˜å…ˆçº§æ¥æ‰“æ–­ï¼Œä¼˜å…ˆçº§åªä¼šå½±å“ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡æ’åºã€‚<br />\nReact é€šè¿‡ Scheduler è°ƒåº¦ä»»åŠ¡æ—¶ï¼Œä¼šå…ˆæŠŠ Lane è½¬ä¸ºäº‹ä»¶ä¼˜å…ˆçº§ï¼Œå†æŠŠäº‹ä»¶ä¼˜å…ˆçº§è½¬ä¸º Scheduler çš„äº”ç§ä¼˜å…ˆçº§<br />\næ‰€è°“çš„å¹¶å‘æ¸²æŸ“å°±æ˜¯åŠ äº†ä¸€ä¸ª 5ms ä¸€æ¬¡çš„æ—¶é—´åˆ†ç‰‡ï¼Œreact18 é‡ŒåŒæ—¶å­˜åœ¨ç€è¿™ä¸¤ç§å¾ªç¯æ–¹å¼ï¼Œæ™®é€šçš„å¾ªç¯å’Œå¸¦æ—¶é—´åˆ†ç‰‡çš„å¾ªç¯ã€‚ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„ç‰¹æ€§éƒ½è¦æ—¶é—´åˆ†ç‰‡ï¼Œåªæœ‰éƒ¨åˆ†éœ€è¦ï¼Œå¦‚æœè¿™æ¬¡ setState æ›´æ–°é‡ŒåŒ…å«äº†å¹¶å‘ç‰¹æ€§ï¼Œå°±æ˜¯ç”¨ workLoopConcurrentï¼Œå¦åˆ™èµ° workLooSync å°±å¥½äº†ã€‚<br />\næ¯”å¦‚ä¸Šé¢æœ‰ä¸¤ä¸ª setStateï¼Œå…¶ä¸­ä¸€ä¸ªä¼˜å…ˆçº§é«˜ï¼Œå¦ä¸€ä¸ªä¼˜å…ˆçº§ä½ï¼Œé‚£å°±æŠŠä½çš„é‚£ä¸ªç”¨ startTransition åŒ…è£¹èµ·æ¥ã€‚å°±å¯ä»¥å®ç°é«˜ä¼˜å…ˆçº§çš„é‚£ä¸ªä¼˜å…ˆæ¸²æŸ“ã€‚ <code>å®ç°åŸç†æ˜¯</code> ï¼šåœ¨è°ƒç”¨å›è°ƒå‡½æ•°ä¹‹å‰è®¾ç½®äº†æ›´æ–°çš„ä¼˜å…ˆçº§ä¸º ContinuousEvent çš„ä¼˜å…ˆçº§ï¼Œä¹Ÿå°±æ˜¯è¿ç»­äº‹ä»¶ä¼˜å…ˆçº§ï¼Œæ¯” DiscreteEvent ç¦»æ•£äº‹ä»¶ä¼˜å…ˆçº§æ›´ä½ï¼Œæ‰€ä»¥ä¼šæ¯”å¦ä¸€ä¸ª setState è§¦å‘çš„æ¸²æŸ“çš„ä¼˜å…ˆçº§ä½ï¼Œåœ¨è°ƒåº¦çš„æ—¶å€™æ’åœ¨åé¢ã€‚è¿™é‡Œè®¾ç½®çš„å…¶å®å°±æ˜¯ Lane çš„ä¼˜å…ˆçº§ï¼šé‚£æ¸²æŸ“çš„æ—¶å€™å°±ä¼šèµ° <code>workLoopConcurrent çš„å¸¦æ—¶é—´åˆ†ç‰‡çš„å¾ªç¯</code> ï¼Œç„¶åé€šè¿‡ Scheduler å¯¹ä»»åŠ¡æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œå°±å®ç°äº†é«˜ä¼˜å…ˆçº§çš„æ¸²æŸ“å…ˆæ‰§è¡Œçš„æ•ˆæœã€‚<br />\nReact ä½¿ç”¨ 31 ä½äºŒè¿›åˆ¶æ¥è¡¨ç¤ºä¼˜å…ˆçº§è½¦é“ï¼Œä¸€å…± 31 æ¡ï¼Œä½æ•°è¶Šå° (1 çš„ä½ç½®è¶Šé å³) è¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜.<br />\nReact æ¯æ¬¡æ›´æ–°çŠ¶æ€ä¼šå°†åŒç±»å‹çš„ Lane (é€šè¿‡ä½è¿ç®—ä¸) åˆå¹¶å½¢æˆ Lanes (é€šè¿‡ä½è¿ç®—æˆ–), ç„¶åä»åŒç±»å‹çš„ Lanes ä¸­æ‰¾å‡ºä¼˜å…ˆçº§æœ€é«˜çš„äº‹ä»¶<br />\nå½“ä¸€ä¸ª Fiber èŠ‚ç‚¹éœ€è¦æ›´æ–°æ—¶ï¼ŒReact ä¼šæ ¹æ®çŠ¶æ€å¾—å˜åŒ–åˆ›å»ºæ›´æ–°ç±»å‹ï¼Œé€šè¿‡æ›´æ–°ç±»å‹åœ¨è¯¥èŠ‚ç‚¹ä¸Šæ ‡è®°ç›¸åº”çš„ Lanes, æŒ‡ç¤ºäº†è¯¥èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ç±»å‹ï¼ŒReact è¿™ç§å¹¶å‘æ¨¡å¼å…è®¸å¤šä¸ªæ›´æ–°åŒæ—¶è¿›è¡Œå¤„ç†ï¼ŒReact ä¼šæ ¹æ® Fiber èŠ‚ç‚¹ä¸Šçš„ Lanes æ¥å†³å®šå“ªäº›æ›´æ–°å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œä»¥åŠä»–ä»¬çš„æ‰§è¡Œé¡ºåºï¼Œå¦‚æœä¸€ä¸ªé«˜ä¼˜å…ˆçº§çš„æ›´æ–°éœ€è¦ç«‹å³å¤„ç†ï¼ŒReact å¯ä»¥ä¸­æ–­å½“å‰æ­£åœ¨è¿›è¡Œçš„ä½ä¼˜å…ˆçº§æ›´æ–°ï¼Œè½¬è€Œå¤„ç†é«˜ä¼˜å…ˆçº§çš„æ›´æ–°ã€‚ä¸€æ—¦é«˜ä¼˜å…ˆçº§çš„æ›´æ–°å®Œæˆï¼Œä¹‹å‰ä¸­æ–­çš„æ›´æ–°å¯ä»¥æ¢å¤ã€‚</p>\n</blockquote>\n<h3 id=\"usestateé’©å­\"><a class=\"anchor\" href=\"#usestateé’©å­\">#</a> useState é’©å­</h3>\n<blockquote>\n<p>åˆ›å»ºå¯ä»¥ç›´æ¥æ›´æ–°çš„çŠ¶æ€å˜é‡</p>\n</blockquote>\n<h3 id=\"usereduceré’©å­\"><a class=\"anchor\" href=\"#usereduceré’©å­\">#</a> useReducer é’©å­</h3>\n<blockquote>\n<p>ä¸ useState ç›¸ä¼¼ï¼Œåˆ›å»ºçŠ¶æ€å˜é‡ï¼ŒåŒæ—¶å¯ä»¥è‡ªå®šä¹‰ reducerï¼ˆå†…éƒ¨å˜é‡å˜åŒ–çš„è°ƒåº¦æœºåˆ¶ï¼‰</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\">// æ³¨æ„ï¼šreducer ä¸­çš„è¿”å›å€¼å°±æ˜¯æ–°çš„ state</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dataReducer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> aciton</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>aciton<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token keyword\">case</span> <span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"ä½ å¥½\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token keyword\">case</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"ä¸–ç•Œ\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">case</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"ä½ å¥½ä¸–ç•Œ\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"ä¸–ç•Œä½ å¥½\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> dispatchData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>dataReducer<span class=\"token punctuation\">,</span> <span class=\"token string\">\"ä½ å¥½ä¸–ç•Œ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">&#123;</span>data<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatchData</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ä½ å¥½</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatchData</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ä¸–ç•Œ</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      &lt;button onClick = </span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token function\">dispatchData</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token plain-text\">>ä½ å¥½ä¸–ç•Œ</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatchData</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ä¸–ç•Œä½ å¥½</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"createcontextå’Œusecontexté’©å­\"><a class=\"anchor\" href=\"#createcontextå’Œusecontexté’©å­\">#</a> createContext å’Œ useContext é’©å­</h3>\n<blockquote>\n<p>createContext å’Œ useContext ç›´æ¥ä½¿ç”¨ç›¸å½“äºæ˜¯åˆ›å»ºå¯ç”¨çš„å˜é‡</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> testContext <span class=\"token operator\">=</span> <span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åˆå§‹åŒ–æ•°æ®\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// åœ¨ç»„ä»¶ä¸­å°±å¯ä»¥æ‹¿åˆ° testContextData, ç„¶åä½¿ç”¨:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> testContextData <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>testContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>createContext å’Œ useContext é«˜çº§ç”¨æ³•æœ¬è´¨ä¸Šæ˜¯ä¾èµ–æ³¨å…¥ï¼Œä»–è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ Provider å±æ€§æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºæ³¨å…¥æ•°æ®ï¼ˆåœ¨ Provider ç»„ä»¶ä¸Šç»‘å®š value å±æ€§ï¼‰ï¼Œæ³¨å…¥çš„æ•°æ®å¯ä»¥é€šè¿‡ useContext è·å–</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> ThemeContext <span class=\"token operator\">=</span> <span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// åˆ›å»º context</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">MyPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> setTheme<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token comment\">// å°†ä¾èµ–æ³¨å…¥åˆ°ç»„ä»¶å†…éƒ¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>theme<span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeText</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeContext.Provider</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// ç»„ä»¶å†…éƒ¨ä½¿ç”¨æ³¨å…¥çš„ä¾èµ–</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">ThemeText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">const</span> themeData <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>ThemeContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">&#123;</span>themeData<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"userefé’©å­\"><a class=\"anchor\" href=\"#userefé’©å­\">#</a> useRef é’©å­</h3>\n<blockquote>\n<p>å¸®åŠ©å¼•ç”¨ä¸€ä¸ªä¸éœ€è¦æ¸²æŸ“çš„å€¼ (ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“), è¿”å›ä¸€ä¸ªå…·æœ‰ current å±æ€§çš„å¯¹è±¡ï¼Œé€šå¸¸ç”¨äºä¿å­˜ DOM èŠ‚ç‚¹<br />\næ³¨æ„ï¼Œæ”¹å˜ ref ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥ ref ä¸é€‚åˆç”¨äºå­˜å‚¨æœŸæœ›æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ä¿¡æ¯ã€‚å¦‚æœ‰éœ€è¦ï¼Œä½¿ç”¨ state ä»£æ›¿ã€‚React å¸Œæœ›ä¸è¦åœ¨æ¸²æŸ“æœŸé—´å†™å…¥æˆ–è€…è¯»å– ref.current, å¦‚æœä¸å¾—ä¸åœ¨æ¸²æŸ“æœŸé—´è¯»å– æˆ–è€…å†™å…¥ï¼Œé‚£ä¹ˆåº”è¯¥ ä½¿ç”¨ state ä»£æ›¿ã€‚</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inputFocus</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ref</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    ref<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> inputRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>inputRef<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onclick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">inputFocus</span><span class=\"token punctuation\">(</span>inputRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">èšç„¦è¾“å…¥æ¡†</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App</pre></td></tr></table></figure><h3 id=\"useeffecté’©å­\"><a class=\"anchor\" href=\"#useeffecté’©å­\">#</a> useEffect é’©å­</h3>\n<blockquote>\n<p>æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå‰¯ä½œç”¨å‡½æ•°å’Œä¾èµ–é¡¹æ•°ç»„ï¼Œå½“ä¾èµ–é¡¹å˜åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå‰¯ä½œç”¨å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ¸…ç†å‡½æ•°ï¼Œä¼šåœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°å‰è¿›è¡Œæ‰§è¡Œ<br />\n useEffect ä¸­ç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ ä»£è¡¨<strong>æ¯æ¬¡æ¸²æŸ“ç»„ä»¶åéƒ½æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œä¼ ç©ºæ•°ç»„ä»£è¡¨<strong>åªä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½åæ‰§è¡Œ</strong>ï¼Œä¼ ä¾èµ–é¡¹ä»£è¡¨åœ¨ ** ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰§è¡Œã€‚** å¹¶ä¸”é»˜è®¤ç»„ä»¶æŒ‚è½½æ—¶å°±ä¼šè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥ä¾¿å¯ä»¥è¯»å–åˆ°ä¾èµ–é¡¹<br />\n useEffect ä¾èµ–é¡¹ä¸­ä¼ å…¥ ref é€šå¸¸æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸º ref ç›¸å½“äºä¸ä½¿ç”¨æ¸²æŸ“èµ‹å€¼çš„ state çŠ¶æ€ï¼Œä¼ é€’è¿‡å»çš„ ref å¼•ç”¨å§‹ç»ˆç›¸åŒï¼ˆä¸éšç€å¿«ç…§çš„æ¸²æŸ“è€Œå˜åŒ–ï¼‰ã€‚<br />\næŸäº›é€»è¾‘ä¸èƒ½æ”¾åœ¨ effect ä¸­æ‰§è¡Œï¼Œå› ä¸º effect çš„æ‰§è¡Œæ˜¯å’Œç»„ä»¶æ¸²æŸ“å¼ºç»‘å®šçš„ï¼ˆä¾‹å¦‚ä¸èƒ½åœ¨ effect ä¸­å†™è´­ä¹°å•†å“çš„é€»è¾‘ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç»„ä»¶ä»¥ä»»ä½•æ–¹å¼è¢«æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œè´­ä¹°é€»è¾‘ï¼Œè¿™æ ·æ˜¯ä¸å¯¹çš„ï¼‰<br />\neffect ä¸­ return çš„å‡½æ•°ä¼šåœ¨ä¸‹ä¸€æ¬¡ effect æ‰§è¡Œå‰è¢«æ‰§è¡Œï¼Œå¸¸ç”¨äºæ‰§è¡Œæ¸…ç†å‡½æ•°ï¼ˆæ¸…é™¤å®šæ—¶å™¨ç­‰ï¼‰</p>\n</blockquote>\n<h3 id=\"uselayouteffecté’©å­\"><a class=\"anchor\" href=\"#uselayouteffecté’©å­\">#</a> useLayoutEffect é’©å­</h3>\n<blockquote>\n<p>åœ¨æµè§ˆå™¨é‡æ–°ç»˜åˆ¶å±å¹•å‰æ‰§è¡Œï¼Œå¯ä»¥åœ¨æ­¤å¤„æµ‹é‡å¸ƒå±€ã€‚</p>\n</blockquote>\n<h3 id=\"useinsertioneffecté’©å­\"><a class=\"anchor\" href=\"#useinsertioneffecté’©å­\">#</a> useInsertionEffect é’©å­</h3>\n<blockquote>\n<p>åœ¨ React å¯¹ DOM è¿›è¡Œæ›´æ”¹ä¹‹å‰è§¦å‘ï¼Œåº“å¯ä»¥åœ¨æ­¤å¤„æ’å…¥åŠ¨æ€ CSSã€‚</p>\n</blockquote>\n<h3 id=\"usememoé’©å­\"><a class=\"anchor\" href=\"#usememoé’©å­\">#</a> useMemo é’©å­</h3>\n<blockquote>\n<p>ç¼“å­˜å‡½æ•°çš„è®¡ç®—ç»“æœï¼Œåªæœ‰å½“ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—</p>\n</blockquote>\n<h3 id=\"usecallbacké’©å­\"><a class=\"anchor\" href=\"#usecallbacké’©å­\">#</a> useCallback é’©å­</h3>\n<blockquote>\n<p>ç¼“å­˜å‡½æ•°çš„å®šä¹‰ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯ï¼šç¼“å­˜å‡½æ•°å’Œä¾èµ–é¡¹ï¼Œåªæœ‰å½“ä¾èµ–é¡¹ (æ ˆå€¼) å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ›´æ–°</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">ProductPage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> productId<span class=\"token punctuation\">,</span> referrer<span class=\"token punctuation\">,</span> theme <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\">// åœ¨å¤šæ¬¡æ¸²æŸ“ä¸­ç¼“å­˜å‡½æ•°</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> handleSubmit <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">orderDetails</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/product/'</span> <span class=\"token operator\">+</span> productId <span class=\"token operator\">+</span> <span class=\"token string\">'/buy'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      referrer<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      orderDetails<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>productId<span class=\"token punctuation\">,</span> referrer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// åªè¦è¿™äº›ä¾èµ–æ²¡æœ‰æ”¹å˜</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>theme<span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      </span><span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* ShippingForm å°±ä¼šæ”¶åˆ°åŒæ ·çš„ props å¹¶ä¸”è·³è¿‡é‡æ–°æ¸²æŸ“ */</span><span class=\"token punctuation\">&#125;</span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ShippingForm</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>handleSubmit<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>useCallback æ˜¯ç”± useMemo å°è£…è€Œæ¥: (useCallback å†…éƒ¨å­˜å‚¨çš„ä¸æ˜¯åŸæ¥çš„å‡½æ•°ä½“ï¼Œè€Œæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°è¿”å›å‡½æ•°ä½“è¢« useMemo ç¼“å­˜çš„ç»“æœ)</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">useCallback</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fn<span class=\"token punctuation\">,</span>dependencies</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span>fn<span class=\"token punctuation\">,</span>dependencies<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"usetransitioné’©å­\"><a class=\"anchor\" href=\"#usetransitioné’©å­\">#</a> useTransition é’©å­</h3>\n<blockquote>\n<p>å…è®¸å°†çŠ¶æ€è½¬æ¢æ ‡è®°ä¸ºéé˜»å¡ï¼Œå¹¶å…è®¸å…¶ä»–æ›´æ–°ä¸­æ–­å®ƒã€‚ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶ç»„ä»¶æ›´æ–°å’ŒåŠ¨ç”»è€Œè®¾è®¡</p>\n</blockquote>\n<h3 id=\"usedeferredvalueé’©å­\"><a class=\"anchor\" href=\"#usedeferredvalueé’©å­\">#</a> useDeferredValue é’©å­</h3>\n<blockquote>\n<p>å…è®¸å»¶è¿Ÿæ›´æ–° UI çš„éå…³é”®éƒ¨åˆ†ï¼Œä»¥è®©å…¶ä»–éƒ¨åˆ†å…ˆæ›´æ–°ã€‚</p>\n</blockquote>\n<h3 id=\"fragmentç»„ä»¶\"><a class=\"anchor\" href=\"#fragmentç»„ä»¶\">#</a> Fragment ç»„ä»¶</h3>\n<blockquote>\n<p>&lt;Fragment&gt; é€šå¸¸ä½¿ç”¨ &lt;&gt;...&lt;/&gt; ä»£æ›¿ï¼Œå®ƒä»¬éƒ½å…è®¸ä½ åœ¨ä¸æ·»åŠ é¢å¤–èŠ‚ç‚¹çš„æƒ…å†µä¸‹å°†å­å…ƒç´ ç»„åˆã€‚</p>\n</blockquote>\n<h3 id=\"profilerç»„ä»¶\"><a class=\"anchor\" href=\"#profilerç»„ä»¶\">#</a> Profiler ç»„ä»¶</h3>\n<blockquote>\n<p>&lt;Profiler&gt; å…è®¸ä½ ç¼–ç¨‹å¼æµ‹é‡ React æ ‘çš„æ¸²æŸ“æ€§èƒ½ã€‚æ¥å—ä¸€ä¸ª id ç”¨äºè¡¨ç¤ºæµ‹é‡çš„ UI éƒ¨åˆ†ï¼Œæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“åŒ…è£¹çš„ç»„ä»¶æ ‘æ›´æ–°æ—¶ä¼šä¼ å…¥æ¸²æŸ“ä¿¡æ¯è¿›è¡Œè°ƒç”¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Profiler</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>App<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onRender</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>onRender<span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Profiler</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h3 id=\"strictmodeç»„ä»¶\"><a class=\"anchor\" href=\"#strictmodeç»„ä»¶\">#</a> StrictMode ç»„ä»¶</h3>\n<blockquote>\n<p>å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå¼€å‘é˜¶æ®µä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼Œä½¿å¾—å°½æ—©åœ°å‘ç°ç»„ä»¶ä¸­é”™è¯¯</p>\n</blockquote>\n<h3 id=\"suspenseç»„ä»¶-2\"><a class=\"anchor\" href=\"#suspenseç»„ä»¶-2\">#</a> Suspense ç»„ä»¶</h3>\n<blockquote>\n<p>å±•ç¤ºå­ç»„ä»¶åŠ è½½å®Œæˆå‰æ¸²æŸ“çš„å†…å®¹.</p>\n</blockquote>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Suspense</span></span> <span class=\"token attr-name\">fallback</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Loading</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AsyncComponent</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Suspense</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h3 id=\"memoæ–¹æ³•\"><a class=\"anchor\" href=\"#memoæ–¹æ³•\">#</a> memo æ–¹æ³•</h3>\n<blockquote>\n<p>memo å…è®¸ä½ çš„ç»„ä»¶åœ¨é“å…·æ²¡æœ‰æ”¹å˜çš„æƒ…å†µä¸‹è·³è¿‡é‡æ–°æ¸²æŸ“</p>\n</blockquote>\n<h3 id=\"createportalæ–¹æ³•\"><a class=\"anchor\" href=\"#createportalæ–¹æ³•\">#</a> createPortal æ–¹æ³•</h3>\n<blockquote>\n<p>createPortal å…è®¸ä½ å°† JSX ä½œä¸º children æ¸²æŸ“è‡³ DOM çš„æŒ‡å®šéƒ¨åˆ†ã€‚</p>\n</blockquote>\n<h3 id=\"createrootæ–¹æ³•\"><a class=\"anchor\" href=\"#createrootæ–¹æ³•\">#</a> createRoot æ–¹æ³•</h3>\n<blockquote>\n<p>createRoot å…è®¸åœ¨æµè§ˆå™¨çš„ DOM èŠ‚ç‚¹ä¸­åˆ›å»ºæ ¹èŠ‚ç‚¹ä»¥æ˜¾ç¤º React ç»„ä»¶ã€‚</p>\n</blockquote>\n<h3 id=\"hydraterootæ–¹æ³•\"><a class=\"anchor\" href=\"#hydraterootæ–¹æ³•\">#</a> hydrateRoot æ–¹æ³•</h3>\n<blockquote>\n<p>hydrateRoot å‡½æ•°å…è®¸ä½ åœ¨å…ˆå‰ç”± react-dom/server ç”Ÿæˆçš„æµè§ˆå™¨ HTML DOM èŠ‚ç‚¹ä¸­å±•ç¤º React ç»„ä»¶ã€‚</p>\n</blockquote>\n<h3 id=\"actæ–¹æ³•\"><a class=\"anchor\" href=\"#actæ–¹æ³•\">#</a> act æ–¹æ³•</h3>\n<blockquote>\n<p>è¡Œä¸ºæµ‹è¯•åŠ©æ‰‹ï¼Œç”¨äºæµ‹è¯•</p>\n</blockquote>\n<h3 id=\"forwardrefæ–¹æ³•\"><a class=\"anchor\" href=\"#forwardrefæ–¹æ³•\">#</a> forwardRef æ–¹æ³•</h3>\n<blockquote>\n<p>å…è®¸ç»„ä»¶ä½¿ç”¨ ref å°† DOM èŠ‚ç‚¹æŒ‡å‘ç»™çˆ¶ç»„ä»¶ã€‚</p>\n</blockquote>\n<h3 id=\"lazyæ–¹æ³•\"><a class=\"anchor\" href=\"#lazyæ–¹æ³•\">#</a> lazy æ–¹æ³•</h3>\n<blockquote>\n<p>å»¶è¿ŸåŠ è½½ç»„ä»¶ (æ‡’åŠ è½½)ã€‚å¸¸é…åˆ Suspense ç»„ä»¶ä½¿ç”¨</p>\n</blockquote>\n<h3 id=\"starttransitionæ–¹æ³•\"><a class=\"anchor\" href=\"#starttransitionæ–¹æ³•\">#</a> startTransition æ–¹æ³•</h3>\n<blockquote>\n<p>å¯ä»¥åœ¨ä¸é˜»æ­¢ UI çš„æƒ…å†µä¸‹æ›´æ–°çŠ¶æ€ã€‚</p>\n</blockquote>\n<h1 id=\"vueå’Œreactæ¯”å¯¹\"><a class=\"anchor\" href=\"#vueå’Œreactæ¯”å¯¹\">#</a> Vue å’Œ React æ¯”å¯¹</h1>\n<h3 id=\"setupå’Œhooks\"><a class=\"anchor\" href=\"#setupå’Œhooks\">#</a> setup å’Œ Hooks</h3>\n<ul>\n<li>React Hooks åœ¨ç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶ï¼Œå¦‚æœä¸åšä¼˜åŒ–å°±ä¼šé‡æ–°è°ƒç”¨ï¼Œè¿™ä¹Ÿå¸¦æ¥ä¸€äº›æ€§èƒ½é—®é¢˜</li>\n<li>Hooks æœ‰ä¸¥æ ¼çš„è°ƒç”¨é¡ºåºï¼Œå¹¶ä¸”ä¸èƒ½å†™åœ¨æ¡ä»¶åˆ†æ”¯ä¸­ï¼Œè¿˜å¿…é¡»è¦å†™åœ¨ react ç»„ä»¶é‡Œé¢</li>\n<li>æ˜‚è´µçš„è®¡ç®—éœ€è¦ä½¿ç”¨ useMemo, ä¹Ÿéœ€è¦ä¼ å…¥æ­£ç¡®çš„æ•°ç»„</li>\n<li>è¦è§£å†³å˜é‡é—­åŒ…å¯¼è‡´çš„é—®é¢˜ï¼Œå†ç»“åˆå¹¶å‘åŠŸèƒ½ï¼Œä½¿å¾—å¾ˆéš¾æ¨ç†å‡ºä¸€æ®µé’©å­ä»£ç æ˜¯ä»€ä¹ˆæ—¶å€™è¿è¡Œçš„ï¼Œå¹¶ä¸”å¾ˆä¸å¥½å¤„ç†éœ€è¦åœ¨å¤šæ¬¡æ¸²æŸ“é—´ä¿æŒå¼•ç”¨çš„å¯å˜çŠ¶æ€</li>\n</ul>\n<h1 id=\"reactç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶\"><a class=\"anchor\" href=\"#reactç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶\">#</a> react ç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶</h1>\n<blockquote>\n<p>ç±»ç»„ä»¶å’Œå‡½æ•°å¼çš„æ¯”å¯¹å®é™…ä¸Šæ˜¯ï¼šé¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹è¿™ä¸¤å¤§ç¼–ç¨‹æ€æƒ³çš„ç¢°æ’<br />\nå‡½æ•°å¼ç¼–ç¨‹å…³å¿ƒçš„æ˜¯ï¼šéœ€è¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ€ä¹ˆå»åšï¼Œè€Œé¢å‘å¯¹è±¡å…³å¿ƒçš„æ˜¯ï¼šæ•°æ®å’Œå¯¹è±¡</p>\n</blockquote>\n<h2 id=\"é¢å‘å¯¹è±¡ç¼–ç¨‹\"><a class=\"anchor\" href=\"#é¢å‘å¯¹è±¡ç¼–ç¨‹\">#</a> é¢å‘å¯¹è±¡ç¼–ç¨‹</h2>\n<blockquote>\n<p>å®ŒæˆæŸé¡¹ä»»åŠ¡å…³å¿ƒçš„æ˜¯ï¼šæ•°æ®å’Œå¯¹è±¡<br />\né¢å‘å¯¹è±¡ç¼–ç¨‹ä¸»è¦å›´ç»•ç€æ•°æ®æˆ–è€…å¯¹è±¡è€Œä¸æ˜¯åŠŸèƒ½å’Œé€»è¾‘å®ç°ï¼Œä»–å°† <code>å…³æ³¨ç‚¹æ”¾åœ¨å¯¹äºæ•°æ®çš„æ“ä½œæ–¹æ³•</code> ï¼Œ <code>é¢å‘å¯¹è±¡å°†æ•°æ®å’Œæ“ä½œæ–¹æ³•å°è£…ä¸ºä¸€ä¸ªç±»ä¸­,è¿™æ ·æœ‰åˆ©äºä»£ç çš„å¯å¤ç”¨æ€§å’Œå¯æ‰©å±•æ€§</code> <br />\né¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¼˜ç‚¹æ˜¯ï¼šæ•ˆç‡é«˜ (ç¬¦åˆç°å®ä¸–ç•Œ)ã€å®¹æ˜“ç»´æŠ¤ (ç»“æ„æ¸…æ™°)ã€æ˜“æ‰©å±• (é¢å‘å¯¹è±¡çš„ç¨‹åºå¾€å¾€é«˜å†…èšè€Œä½è€¦åˆ)ã€å¯é‡ç”¨ (å¾—ç›Šäºå¯¹è±¡çš„ç»§æ‰¿)<br />\n é¢å‹å¯¹è±¡ç¼–ç¨‹çš„ç¼ºç‚¹æ˜¯ï¼šè¿‡åº¦çš„å¯¹è±¡åŒ–ã€çŠ¶æ€è¿‡äºå…±äº«å¯¼è‡´æ¨ç†å¤æ‚ã€çŠ¶æ€å…±äº«å¯¼è‡´çš„å¹¶å‘é—®é¢˜ (å¯å˜çŠ¶æ€å¤æ‚çš„å…±äº«æœºåˆ¶å¯¼è‡´é¢å‘å¯¹è±¡çš„ä»£ç å‡ ä¹ä¸å¯èƒ½å¹¶è¡ŒåŒ–ï¼Œéœ€è¦å¤æ‚çš„çº¿ç¨‹é”å®šã€äº’æ–¥ç­‰æœºåˆ¶)ã€æ¶ˆè€—å†…å­˜ã€æ€§èƒ½ä½ (ä¼šåˆ›å»ºå¾ˆå¤šçš„ç±»å’Œå®ä¾‹)</p>\n</blockquote>\n<h3 id=\"é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹\"><a class=\"anchor\" href=\"#é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹\">#</a> é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹:</h3>\n<ul>\n<li>å°è£…</li>\n<li>\n<ul>\n<li><code>å°è£…æ„å‘³ç€æ‰€æœ‰çš„æ•°æ®å’Œæ–¹æ³•éƒ½è¢«å°è£…åœ¨å¯¹è±¡å†…</code> ï¼Œç”±å¼€å‘è€…è‡ªå·±é€‰æ‹©æ€§çš„å»å…¬å¼€å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºåˆ›å»ºçš„å®ä¾‹æ¥è¯´ä»–èƒ½è®¿é—®çš„åªèƒ½æ˜¯è¿™äº›å…¬å¼€çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå¯¹äºå…¶ä»–å¯¹è±¡æ¥è¯´æ˜¯æ— æƒè®¿é—®æ­¤ç±»æˆ–è€…è¿›è¡Œæ›´æ”¹ï¼Œ <code>å°è£…è¿™ä¸€ç‰¹æ€§ä¸ºç¨‹åºæä¾›äº†æ›´é«˜çš„å®‰å…¨æ€§</code> ã€‚</li>\n</ul>\n</li>\n<li>ç»§æ‰¿</li>\n<li>\n<ul>\n<li><code>ç»§æ‰¿æ„å‘³ç€ä»£ç çš„å¯é‡ç”¨æ€§</code> ï¼Œå­ç±»å’Œçˆ¶ç±»è¿™ä¸¤ä¸ªæ¦‚å¿µå°±æ˜¯å¾ˆå¥½çš„ä½“ç°ï¼Œå­ç±»æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•é¿å…æ•°æ®å’Œæ–¹æ³•çš„é‡å¤å®šä¹‰ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿä¿æŒç‹¬ç‰¹çš„å±‚æç»“æ„ï¼Œ <code>ç»§æ‰¿è¿™ä¸€ç‰¹æ€§ä¸ºç¨‹åºæä¾›äº†å¯é‡ç”¨æ€§</code> ã€‚</li>\n</ul>\n</li>\n<li>å¤šæ€</li>\n<li>\n<ul>\n<li>å¤šæ€æ„å‘³ç€è®¾è®¡å¯¹è±¡ä»¥å…±äº«è¡Œä¸ºï¼Œä½¿ç”¨ç»§æ‰¿å­ç±»å¯ä»¥ç”¨æ–°çš„æ–¹æ³•å»è¦†ç›–çˆ¶ç±»å…±äº«çš„è¡Œä¸ºï¼Œå¤šæ€æ€§å…è®¸åŒä¸€ä¸ªæ–¹æ³•æ‰§è¡Œä¸¤ç§ä¸åŒçš„è¡Œä¸ºï¼šè¦†ç›–å’Œé‡è½½ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å‡½æ•°å¼ç¼–ç¨‹\"><a class=\"anchor\" href=\"#å‡½æ•°å¼ç¼–ç¨‹\">#</a> å‡½æ•°å¼ç¼–ç¨‹</h2>\n<blockquote>\n<p>å®ŒæˆæŸé¡¹ä»»åŠ¡å…³å¿ƒçš„æ˜¯ï¼šéœ€è¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ€ä¹ˆå»åš<br />\nå‡½æ•°å¼ç¼–ç¨‹åˆç§°å£°æ˜å¼ç¼–ç¨‹ï¼Œæœ€æ˜æ˜¾çš„ç‰¹ç‚¹å°±æ˜¯æˆ‘ä»¬ <code>ä¸å¤ªå…³å¿ƒå‡½æ•°çš„å…·ä½“å®ç°</code> ï¼Œè€Œ <code>åªå…³å¿ƒè‡ªå·±çš„ä¸šåŠ¡é€»è¾‘çº¿è·¯</code> <br />\nå‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹æ˜¯ï¼šä»£ç å¯è¯»æ€§å¼ºã€æœ‰ä¸€å®šçš„é€»è¾‘å¤ç”¨èƒ½åŠ›ã€å¹¶å‘é€Ÿåº¦å¿«ã€å‡ºé”™ç‡å°‘æ˜“æ’æŸ¥ï¼›<br />\n å‡½æ•°å¼ç¼–ç¨‹çš„ç¼ºç‚¹æ˜¯ï¼šæ€§èƒ½æ¶ˆè€—å¤§ (ä¸»è¦æ˜¯åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„æ¶ˆè€—) å’Œ èµ„æºå ç”¨å¤§ (æ•°æ®ä¸å¯å˜å¯¼è‡´è¦åˆ›å»ºå¾ˆå¤šé‡å¤çš„å¯¹è±¡), åŒæ—¶ä¸åˆ©äºå®ç°æ—¶é—´æ—…è¡Œç­‰æ“ä½œ (çŠ¶æ€å¾ˆéš¾å›æ»š)</p>\n</blockquote>\n<h3 id=\"å‡½æ•°å¼ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹\"><a class=\"anchor\" href=\"#å‡½æ•°å¼ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹\">#</a> å‡½æ•°å¼ç¼–ç¨‹ä¸‰å¤§ç‰¹ç‚¹:</h3>\n<ul>\n<li>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼šåœ¨ JS ä¸­å‡½æ•°å’Œå…¶ä»–æ•°æ®ç±»å‹ä¸€æ ·å¤„äºå¹³ç­‰åœ°ä½ï¼Œå¯ä»¥ä½œä¸ºå˜é‡èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼</li>\n<li>å£°æ˜å¼ç¼–ç¨‹ï¼šå‡½æ•°å¼ç¼–ç¨‹åˆç§°å£°æ˜å¼ç¼–ç¨‹ï¼Œæˆ‘ä»¬ä¸å¤ªå…³å¿ƒå‡½æ•°å†…éƒ¨çš„å…·ä½“å®ç°ï¼Œè€Œæ˜¯å…³å¿ƒä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œæµç¨‹</li>\n<li>çº¯å‡½æ•°ï¼šçº¯å‡½æ•°ç‰¹ç‚¹ï¼šæ— å‰¯ä½œç”¨ã€å¼•ç”¨é€æ˜ å’Œ æ•°æ®ä¸å¯å˜</li>\n<li>\n<ul>\n<li>æ— å‰¯ä½œç”¨ï¼šæœ¬èº«ä¸ä¼šä¾èµ–å’Œä¿®æ”¹å¤–éƒ¨å˜é‡</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>å¼•ç”¨é€æ˜ï¼šè¾“å…¥ç›¸åŒçš„å€¼ä¸€å®šä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>æ•°æ®ä¸å¯å˜ï¼šé’ˆå¯¹å¼•ç”¨æ•°æ®ç±»å‹çš„å…¥å‚ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯é‡æ–°ç”Ÿæˆä¸€ä»½æ•°æ®</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "æ¡†æ¶é«˜çº§",
                "æ¡†æ¶é«˜çº§"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/23/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/",
            "url": "https://dmqweb.cn/2024/07/23/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/",
            "title": "æ“ä½œç³»ç»Ÿ",
            "date_published": "2024-07-23T07:02:19.000Z",
            "content_html": "<h1 id=\"æ“ä½œç³»ç»Ÿå®šä¹‰\"><a class=\"anchor\" href=\"#æ“ä½œç³»ç»Ÿå®šä¹‰\">#</a> æ“ä½œç³»ç»Ÿå®šä¹‰</h1>\n<blockquote>\n<p>æ“ä½œç³»ç»Ÿï¼ˆOperating Systemï¼‰æ˜¯ä¸€ç»„ä¸»ç®¡å¹¶æ§åˆ¶è®¡ç®—æœºæ“ä½œã€è¿ç”¨å’Œè¿è¡Œç¡¬ä»¶ã€è½¯ä»¶èµ„æºå’Œæä¾›å…¬å…±æœåŠ¡æ¥ç»„ç»‡ç”¨æˆ·äº¤äº’çš„ç›¸äº’å…³è”çš„ç³»ç»Ÿè½¯ä»¶åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶ä¹Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿçš„å†…æ ¸å’ŒåŸºçŸ³ã€‚<br />\næ“ä½œç³»ç»Ÿéœ€è¦å¤„ç†å¦‚ç®¡ç†ä¸é…ç½®å†…å­˜ã€å†³å®šç³»ç»Ÿèµ„æºä¾›éœ€çš„ä¼˜å…ˆæ¬¡åºã€æ§åˆ¶è¾“å…¥ä¸è¾“å‡ºè®¾å¤‡ã€æ“ä½œç½‘ç»œä¸ç®¡ç†æ–‡ä»¶ç³»ç»Ÿç­‰åŸºæœ¬äº‹åŠ¡ã€‚</p>\n</blockquote>\n<h1 id=\"è¿›ç¨‹\"><a class=\"anchor\" href=\"#è¿›ç¨‹\">#</a> è¿›ç¨‹</h1>\n<blockquote>\n<p>è¿›ç¨‹æ˜¯ï¼šæ“ä½œç³»ç»Ÿè¿›è¡Œ <code>èµ„æºåˆ†é…</code> çš„åŸºæœ¬å•ä½</p>\n</blockquote>\n<h1 id=\"çº¿ç¨‹\"><a class=\"anchor\" href=\"#çº¿ç¨‹\">#</a> çº¿ç¨‹</h1>\n<blockquote>\n<p>çº¿ç¨‹æ˜¯ï¼šæ“ä½œç³»ç»Ÿè¿›è¡Œ <code>èµ„æºè°ƒåº¦</code> çš„åŸºæœ¬å•ä½</p>\n</blockquote>\n<h1 id=\"å†…å­˜\"><a class=\"anchor\" href=\"#å†…å­˜\">#</a> å†…å­˜</h1>\n<blockquote>\n<p>å†…å­˜æ˜¯ï¼šè®¡ç®—æœºçš„éšæœºè®¿é—®å­˜å‚¨å™¨ï¼ˆRAMï¼‰ï¼Œæ˜¯è®¡ç®—æœºçš„ä¸»è¦å­˜å‚¨èµ„æºä¹‹ä¸€ï¼Œç”¨äºå­˜å‚¨è®¡ç®—æœºè¿è¡Œæ—¶æ­£åœ¨ä½¿ç”¨æˆ–å³å°†ä½¿ç”¨çš„æ•°æ®å’ŒæŒ‡ä»¤ã€‚<br />\nå†…å­˜å…·æœ‰ï¼šæ˜“å¤±æ€§ï¼ˆè®¡ç®—æœºå…³é—­æ—¶å†…å­˜ä¸­çš„æ•°æ®ä¼šä¸¢å¤±ï¼‰ã€è®¿é—®é€Ÿåº¦å¿«ç­‰ç‰¹ç‚¹</p>\n</blockquote>\n<h1 id=\"è™šæ‹Ÿå†…å­˜åœ°å€ç©ºé—´\"><a class=\"anchor\" href=\"#è™šæ‹Ÿå†…å­˜åœ°å€ç©ºé—´\">#</a> è™šæ‹Ÿå†…å­˜ï¼ˆåœ°å€ç©ºé—´ï¼‰</h1>\n<blockquote>\n<p>è™šæ‹Ÿå†…å­˜æ˜¯ï¼šè™šæ‹Ÿå†…å­˜æ˜¯æ“ä½œç³»ç»Ÿå¯¹ç‰©ç†å†…å­˜çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§å†…å­˜ç®¡ç†æŠ€æœ¯ï¼Œå…è®¸æ“ä½œç³»ç»Ÿå°†ç¡¬ç›˜ç©ºé—´ç”¨ä½œä¸´æ—¶çš„ RAM æ¥ä½¿ç”¨<br />\nè™šæ‹Ÿå†…å­˜èƒ½å¤Ÿè¿è¡Œæ¯”ç‰©ç†å†…å­˜æ›´å¤šçš„å†…å­˜çš„ç¨‹åºï¼ŒåŒæ—¶ä¹Ÿä¸ºæ“ä½œç³»ç»Ÿæä¾›äº†æ›´å¤§çš„åœ°å€ç©ºé—´ï¼Œè™šæ‹Ÿå†…å­˜çš„å…³é”®æœ‰ï¼š</p>\n</blockquote>\n<ul>\n<li>åœ°å€è½¬æ¢</li>\n<li>åˆ†é¡µ</li>\n<li>é¡µé¢ç½®æ¢ç®—æ³•</li>\n<li>ç¡¬ç›˜ç©ºé—´ä½¿ç”¨</li>\n<li>æ€§èƒ½å½±å“</li>\n<li>å†…å­˜ç®¡ç†</li>\n</ul>\n<h1 id=\"æ–‡ä»¶\"><a class=\"anchor\" href=\"#æ–‡ä»¶\">#</a> æ–‡ä»¶</h1>\n<blockquote>\n<p>æ–‡ä»¶æ˜¯ï¼šæ“ä½œç³»ç»Ÿå¯¹ç‰©ç†ç£ç›˜çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ•°æ®å­˜å‚¨å•å…ƒï¼Œç”¨äºåœ¨è®¡ç®—æœºç³»ç»Ÿæˆ–å­˜å‚¨è®¾å¤‡ä¸Šä¿å­˜æ•°æ®ã€‚</p>\n</blockquote>\n<h1 id=\"shell\"><a class=\"anchor\" href=\"#shell\">#</a> shell</h1>\n<blockquote>\n<p>shell æ˜¯ï¼šä¸€ä¸ªç¨‹åºï¼Œå¯ä»¥ä»é”®ç›˜ä¸­è·å–å‘½ä»¤å¹¶å°†å…¶æä¾›ç»™æ“ä½œç³»ç»Ÿè¿›è¡Œæ‰§è¡Œã€‚</p>\n</blockquote>\n<h1 id=\"gui\"><a class=\"anchor\" href=\"#gui\">#</a> GUI</h1>\n<blockquote>\n<p>GUI æ˜¯ï¼šä¸€ä¸ªç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å›¾å½¢æˆ–å›¾æ ‡æŒ‡ç¤ºç¬¦ä¸ç”µå­è®¾å¤‡è¿›è¡Œäº¤äº’</p>\n</blockquote>\n<h1 id=\"è®¡ç®—æœºæ¶æ„\"><a class=\"anchor\" href=\"#è®¡ç®—æœºæ¶æ„\">#</a> è®¡ç®—æœºæ¶æ„</h1>\n<blockquote>\n<p>è®¡ç®—æœºæ¶æ„æ˜¯ï¼šè®¡ç®—æœºä½“ç³»ç»“æ„æ˜¯æè¿°è®¡ç®—æœºç³»ç»ŸåŠŸèƒ½ï¼Œç»„ç»‡å’Œå®ç°çš„ä¸€ç»„è§„åˆ™å’Œæ–¹æ³•ï¼Œä¸»è¦åŒ…æ‹¬ï¼šæŒ‡ä»¤é›†ã€å†…å­˜ç®¡ç†ã€I/O å’Œæ€»çº¿ç»“æ„ç­‰ã€‚</p>\n</blockquote>\n<h1 id=\"å¤šå¤„ç†ç³»ç»Ÿ\"><a class=\"anchor\" href=\"#å¤šå¤„ç†ç³»ç»Ÿ\">#</a> å¤šå¤„ç†ç³»ç»Ÿ</h1>\n<blockquote>\n<p>å¤šå¤„ç†ç³»ç»Ÿæ˜¯ï¼šæŒ‡è®¡ç®—æœºåŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºçš„èƒ½åŠ›ã€‚</p>\n</blockquote>\n<h1 id=\"ç¨‹åºè®¡æ•°å™¨\"><a class=\"anchor\" href=\"#ç¨‹åºè®¡æ•°å™¨\">#</a> ç¨‹åºè®¡æ•°å™¨</h1>\n<blockquote>\n<p>ç¨‹åºè®¡æ•°å™¨æ˜¯ï¼šä¸€ä¸ª CPU ä¸­çš„å¯„å­˜å™¨ï¼Œç”¨äºæŒ‡ç¤ºè®¡ç®—æœºåœ¨å…¶ç¨‹åºåºåˆ—ä¸­çš„ä½ç½®ã€‚</p>\n</blockquote>\n<h1 id=\"å¤šçº¿ç¨‹\"><a class=\"anchor\" href=\"#å¤šçº¿ç¨‹\">#</a> å¤šçº¿ç¨‹</h1>\n<blockquote>\n<p>å¤šçº¿ç¨‹æ˜¯ï¼šæŒ‡ä¸€ä¸ªè½¯ä»¶æˆ–ç¡¬ä»¶ä¸Šå®ç°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æŠ€æœ¯ã€‚</p>\n</blockquote>\n<h1 id=\"cpuæ ¸å¿ƒcore\"><a class=\"anchor\" href=\"#cpuæ ¸å¿ƒcore\">#</a> CPU æ ¸å¿ƒï¼ˆcoreï¼‰</h1>\n<blockquote>\n<p>CPU æ ¸å¿ƒæ˜¯ï¼šCPU çš„å¤§è„‘ï¼Œå®ƒæ¥æ”¶æŒ‡ä»¤ï¼Œå¹¶æ‰§è¡Œè®¡ç®—æˆ–è¿ç®—ä»¥æ»¡è¶³è¿™äº›æŒ‡ä»¤ï¼Œä¸€ä¸ª CPU å¯ä»¥æœ‰å¤šä¸ªå†…æ ¸ã€‚</p>\n</blockquote>\n<h1 id=\"å›¾å½¢å¤„ç†å™¨è§†è§‰å¤„ç†å™¨\"><a class=\"anchor\" href=\"#å›¾å½¢å¤„ç†å™¨è§†è§‰å¤„ç†å™¨\">#</a> å›¾å½¢å¤„ç†å™¨ï¼ˆè§†è§‰å¤„ç†å™¨ï¼‰</h1>\n<blockquote>\n<p>å›¾å½¢å¤„ç†å™¨æ˜¯ï¼š</p>\n</blockquote>\n<h1 id=\"ç¼“å­˜å‘½ä¸­\"><a class=\"anchor\" href=\"#ç¼“å­˜å‘½ä¸­\">#</a> ç¼“å­˜å‘½ä¸­</h1>\n<blockquote>\n<p>å½“åº”ç”¨ç¨‹åºæˆ–è½¯ä»¶è¯·æ±‚æ•°æ®æ—¶ï¼Œä¼šé¦–å…ˆå‘ç”Ÿç¼“å­˜å‘½ä¸­</p>\n</blockquote>\n<h1 id=\"raméšæœºå­˜å–å­˜å‚¨å™¨-ä¸»å­˜\"><a class=\"anchor\" href=\"#raméšæœºå­˜å–å­˜å‚¨å™¨-ä¸»å­˜\">#</a> RAMï¼ˆéšæœºå­˜å–å­˜å‚¨å™¨ã€ä¸»å­˜ï¼‰</h1>\n<blockquote>\n<p>RAM æ˜¯ï¼šä¸ CPU ç›´æ¥äº¤æ¢æ•°æ®çš„å†…å­˜å­˜å‚¨å™¨</p>\n</blockquote>\n<h1 id=\"romåªè¯»å­˜å‚¨å™¨\"><a class=\"anchor\" href=\"#romåªè¯»å­˜å‚¨å™¨\">#</a> ROMï¼ˆåªè¯»å­˜å‚¨å™¨ï¼‰</h1>\n<blockquote>\n<p>ROM æ˜¯ï¼šä¸€åŠ©æ”»åŠå¯¼ä½“å­˜å‚¨å™¨ï¼Œç‰¹ç‚¹æ˜¯ä¸€æ—¦å­˜å‚¨æ•°æ®å°±æ— æ³•æ”¹å˜æˆ–åˆ é™¤</p>\n</blockquote>\n<h1 id=\"é©±åŠ¨ç¨‹åº\"><a class=\"anchor\" href=\"#é©±åŠ¨ç¨‹åº\">#</a> é©±åŠ¨ç¨‹åº</h1>\n<blockquote>\n<p>é©±åŠ¨ç¨‹åºæ˜¯ï¼šä¸€ä¸ªå…è®¸é«˜çº§åˆ«ç”µè„‘è½¯ä»¶ä¸ç¡¬ä»¶äº¤äº’çš„ç¨‹åº</p>\n</blockquote>\n<h1 id=\"usb\"><a class=\"anchor\" href=\"#usb\">#</a> USB</h1>\n<blockquote>\n<p>USB æ˜¯ï¼šè¿æ¥è®¡ç®—æœºç³»ç»Ÿä¸å¤–éƒ¨è®¾å¤‡çš„ä¸€ç§ä¸²å£æ€»çº¿æ ‡å‡†ï¼Œä¹Ÿæ˜¯ä¸€ç§è¾“å…¥è¾“å‡ºæ¥å£çš„æŠ€æœ¯è§„èŒƒ</p>\n</blockquote>\n<h1 id=\"åœ°å€ç©ºé—´\"><a class=\"anchor\" href=\"#åœ°å€ç©ºé—´\">#</a> åœ°å€ç©ºé—´</h1>\n<blockquote>\n<p>åœ°å€ç©ºé—´æ˜¯ï¼šå†…å­˜ä¸­å¯ä¾›ç¨‹åºæˆ–è¿›ç¨‹ä½¿ç”¨çš„æœ‰æ•ˆåœ°å€è§„èŒƒ</p>\n</blockquote>\n<h1 id=\"è¿›ç¨‹é—´é€šä¿¡\"><a class=\"anchor\" href=\"#è¿›ç¨‹é—´é€šä¿¡\">#</a> è¿›ç¨‹é—´é€šä¿¡</h1>\n<blockquote>\n<p>è¿›ç¨‹é—´é€šä¿¡æ˜¯ï¼šæŒ‡è‡³å°‘ä¸¤ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹é—´ä¼ é€æ•°æ®æˆ–ä¿¡å·çš„ä¸€äº›æŠ€æœ¯æˆ–æ–¹æ³•<br />\nè¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼æœ‰ï¼šç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜ã€ä¿¡å·é‡ã€ä¿¡å·ã€å¥—æ¥å­—</p>\n</blockquote>\n<ul>\n<li>ç®¡é“<br />\nç®¡é“ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œæ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œç®¡é“å®è´¨ä¸Šæ˜¯ä¸€ä¸ªå†…æ ¸ç¼“å†²åŒºï¼Œä¸”ä»¥å…ˆè¿›å…ˆå‡ºçš„æ–¹å¼å­˜å–æ•°æ®ã€‚<br />\nç®¡é“åˆ†ä¸ºå‘½åç®¡é“å’ŒåŒ¿åç®¡é“<br />\nåŒ¿åç®¡é“å®ƒçš„ä¼˜ç‚¹æ˜¯ï¼šç®€å•æ–¹ä¾¿ï¼›ç¼ºç‚¹æ˜¯ï¼š<br />\nå› ä¸ºç®¡é“å±€é™äºå•å‘é€šä¿¡ä¸”ç¼“å†²åŒºæœ‰é™ï¼Œæ‰€ä»¥å®ƒçš„é€šä¿¡æ•ˆç‡ä½ï¼Œä¸é€‚åˆè¿›ç¨‹é—´é¢‘ç¹åœ°äº¤æ¢æ•°æ®<br />\nåªèƒ½åœ¨çˆ¶å­è¿›ç¨‹é—´ä½¿ç”¨<br />\nå‘½åç®¡é“ï¼Œå’ŒåŒ¿åç®¡é“ç›¸æ¯”ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯ï¼šå¯ä»¥å®ç°ä»»æ„å…³ç³»çš„è¿›ç¨‹é—´çš„é€šä¿¡ï¼›ç¼ºç‚¹æ˜¯ï¼š<br />\né•¿æœŸå­˜åœ¨ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ä¸å½“å®¹æ˜“å‡ºé”™</li>\n<li>æ¶ˆæ¯é˜Ÿåˆ—<br />\næ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¿å­˜åœ¨å†…æ ¸ä¸­çš„æ¶ˆæ¯é“¾è¡¨<br />\nä¼˜ç‚¹ï¼šå¯ä»¥å®ç°ä»»æ„è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œå¹¶ä¸”é€šè¿‡ç³»ç»Ÿè°ƒç”¨å‡½æ•°æ¥å®ç°æ¶ˆæ¯å‘é€å’Œæ¥æ”¶ä¹‹é—´çš„åŒæ­¥ï¼Œæ— éœ€è€ƒè™‘åŒæ­¥é—®é¢˜<br />\nç¼ºç‚¹ï¼š<br />\næ¶ˆæ¯é˜Ÿåˆ—ä¸é€‚åˆæ¯”è¾ƒå¤§æ•°æ®çš„ä¼ è¾“ï¼Œå› ä¸ºæ¯ä¸ªæ¶ˆæ¯ä½“éƒ½æœ‰æœ€å¤§é•¿åº¦é™åˆ¶ï¼ŒåŒæ—¶å…¨ä½“æ¶ˆæ¯ä¹Ÿæœ‰æ€»é•¿åº¦ä¸Šé™<br />\né€šä¿¡è¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´çš„æ•°æ®æ‹·è´å¼€é”€</li>\n<li>å…±äº«å†…å­˜<br />\nå…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®<br />\nä¼˜ç‚¹ï¼šè¿›ç¨‹å¯ä»¥ç›´æ¥è¯»å†™è¿™å—å†…å­˜è€Œä¸éœ€è¦è¿›è¡Œæ•°æ®æ‹·è´ï¼Œæé«˜æ•ˆç‡<br />\nç¼ºç‚¹ï¼š<br />\nå¤šä¸ªè¿›ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå…±äº«å†…å­˜ï¼Œä¼šå‘ç”Ÿå†²çª<br />\nå…±äº«å†…å­˜åªèƒ½åœ¨åŒä¸€è®¡ç®—æœºç³»ç»Ÿä¸­å…±äº«</li>\n<li>ä¿¡å·é‡<br />\nä¿¡å·é‡æ˜¯ä¸€ä¸ªæ•´å‹çš„è®¡æ•°å™¨ï¼Œä¸»è¦ç”¨äºå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ä¸åŒæ­¥ï¼Œè€Œä¸æ˜¯ç”¨äºç¼“å­˜è¿›ç¨‹é—´é€šä¿¡çš„æ•°æ®<br />\nä¼˜ç‚¹ï¼šä¿¡å·é‡è§£å†³äº†æ­¢å¤šè¿›ç¨‹ç«äº‰å…±äº«èµ„æºï¼Œè€Œé€ æˆæ•°æ®çš„é”™ä¹±çš„<br />\nç¼ºç‚¹ï¼šä¿¡å·é‡æœ‰é™</li>\n<li>ä¿¡å·<br />\nä¿¡å·æ˜¯ä¸€ç§æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œç”¨äºé€šçŸ¥æ¥æ”¶è¿›ç¨‹æŸä¸ªäº‹ä»¶å·²ç»å‘ç”Ÿ</li>\n<li>å¥—æ¥å­—<br />\nå¥—æ¥å­—é€šä¿¡ä¸ä»…å¯ä»¥è·¨ç½‘ç»œä¸ä¸åŒä¸»æœºçš„è¿›ç¨‹é€šä¿¡ï¼Œè¿˜å¯ä»¥åœ¨åŒä¸»æœºè¿›ç¨‹é€šä¿¡<br />\nä¼˜ç‚¹ï¼š<br />\nä¼ è¾“æ•°æ®ä¸ºå­—èŠ‚çº§ï¼Œä¼ è¾“æ•°æ®å¯è‡ªå®šä¹‰<br />\né€‚åˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¿¡æ¯å®æ—¶äº¤äº’<br />\nå¯ä»¥åŠ å¯†ï¼Œæ•°æ®å®‰å…¨æ€§å¼º<br />\nç¼ºç‚¹ï¼šéœ€å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡Œè§£æï¼Œè½¬åŒ–æˆåº”ç”¨çº§çš„æ•°æ®</li>\n</ul>\n<h1 id=\"ç›®å½•æ–‡ä»¶å¤¹\"><a class=\"anchor\" href=\"#ç›®å½•æ–‡ä»¶å¤¹\">#</a> ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰</h1>\n<blockquote>\n<p>ç›®å½•æˆ–æ–‡ä»¶å¤¹æ˜¯ï¼šæŒ‡ä¸€ä¸ªè£…æœ‰æ•°å­—æ–‡ä»¶ç³»ç»Ÿçš„è™šæ‹Ÿå®¹å™¨</p>\n</blockquote>\n<h1 id=\"è·¯å¾„\"><a class=\"anchor\" href=\"#è·¯å¾„\">#</a> è·¯å¾„</h1>\n<blockquote>\n<p>è·¯å¾„æ˜¯ï¼šä¸€ç§ç”µè„‘æ–‡ä»¶æˆ–ç›®å½•çš„åç§°çš„é€šç”¨è¡¨ç°å½¢å¼ï¼Œå®ƒæŒ‡å‘æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªå”¯ä¸€ä½ç½®</p>\n</blockquote>\n<h1 id=\"æ ¹ç›®å½•\"><a class=\"anchor\" href=\"#æ ¹ç›®å½•\">#</a> æ ¹ç›®å½•</h1>\n<blockquote>\n<p>æ ¹ç›®å½•æ˜¯ï¼š</p>\n</blockquote>\n<h1 id=\"æ–‡ä»¶æè¿°ç¬¦\"><a class=\"anchor\" href=\"#æ–‡ä»¶æè¿°ç¬¦\">#</a> æ–‡ä»¶æè¿°ç¬¦</h1>\n<blockquote>\n<p>æ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªç”¨äºè¡¨è¿°æŒ‡å‘æ–‡ä»¶çš„å¼•ç”¨çš„æŠ½è±¡åŒ–æ¦‚å¿µ</p>\n</blockquote>\n<h1 id=\"å®¢æˆ·ç«¯\"><a class=\"anchor\" href=\"#å®¢æˆ·ç«¯\">#</a> å®¢æˆ·ç«¯</h1>\n<blockquote>\n<p>å®¢æˆ·ç«¯æ˜¯ï¼šè®¿é—®æœåŠ¡å™¨æä¾›çš„æœåŠ¡çš„è®¡ç®—ç¡¬ä»¶æˆ–è½¯ä»¶</p>\n</blockquote>\n<h1 id=\"æœåŠ¡ç«¯\"><a class=\"anchor\" href=\"#æœåŠ¡ç«¯\">#</a> æœåŠ¡ç«¯</h1>\n<blockquote>\n<p>æœåŠ¡ç«¯æ˜¯ï¼šä¸ºå…¶ä»–ç¨‹åºæˆ–è®¾å¤‡æä¾›åŠŸèƒ½çš„è®¡ç®—æœºç¨‹åºæˆ–è®¾å¤‡</p>\n</blockquote>\n",
            "tags": [
                "æ“ä½œç³»ç»Ÿ",
                "æ“ä½œç³»ç»Ÿ"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/08/docker/",
            "url": "https://dmqweb.cn/2024/07/08/docker/",
            "title": "Docker",
            "date_published": "2024-07-08T02:26:39.000Z",
            "content_html": "<p><img data-src=\"https://dmqweb.cn/images/Docker.pdf\" alt=\"Docker\" /><br />\n<img data-src=\"https://dmqweb.cn/images/Docker%E6%96%87%E6%A1%A3.pdf\" alt=\"Dockeræ–‡æ¡£\" /><br />\n<img data-src=\"https://dmqweb.cn/images/Docker%E5%A4%A7%E7%BA%B2.pdf\" alt=\"Dockerå¤§çº²\" /></p>\n<h1 id=\"è™šæ‹ŸåŒ–æŠ€æœ¯\"><a class=\"anchor\" href=\"#è™šæ‹ŸåŒ–æŠ€æœ¯\">#</a> è™šæ‹ŸåŒ–æŠ€æœ¯</h1>\n<blockquote>\n<p>è™šæ‹ŸåŒ–æ˜¯ä¸€ç§è®¡ç®—æœºèµ„æºç®¡ç†çš„æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§ç¡¬ä»¶èµ„æºï¼Œæ¯”å¦‚æœåŠ¡å™¨ã€ç½‘ç»œã€CPUã€å†…å­˜ã€ä»¥åŠå­˜å‚¨ç­‰ï¼Œé€šè¿‡æŠ½è±¡å’Œè½¬æ¢åå‘ˆç°å‡ºçš„ä¸€å¥—æ–°çš„ç¡¬ä»¶èµ„æºç¯å¢ƒï¼Œåœ¨è¿™å¥—èµ„æºç¯å¢ƒä¸­å¯ä»¥æŒ‰ç…§æ“ä½œç³»ç»Ÿï¼Œéƒ¨ç½²åº”ç”¨ç¯å¢ƒç­‰<br />\nè™šæ‹ŸåŒ–æŠ€æœ¯æ‰“ç ´äº†è®¡ç®—æœºç¡¬ä»¶èµ„æºä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œæé«˜äº†è®¡ç®—æœºç¡¬ä»¶èµ„æºçš„åˆ©ç”¨ç‡</p>\n</blockquote>\n<h1 id=\"è™šæ‹Ÿæœºç¡¬ä»¶çº§è™šæ‹ŸåŒ–æŠ€æœ¯\"><a class=\"anchor\" href=\"#è™šæ‹Ÿæœºç¡¬ä»¶çº§è™šæ‹ŸåŒ–æŠ€æœ¯\">#</a> è™šæ‹Ÿæœº (ç¡¬ä»¶çº§è™šæ‹ŸåŒ–æŠ€æœ¯)</h1>\n<blockquote>\n<p>è™šæ‹Ÿæœºæ˜¯ä½¿ç”¨è™šæ‹ŸåŒ–çš„æŠ€æœ¯ï¼Œä½¿ç”¨æŠ½è±¡é€»è¾‘å¯¹ç‰©ç†è®¡ç®—æœºçš„æ¨¡æ‹Ÿï¼ŒåŒ…å«æ•´ä¸ªæ“ä½œç³»ç»Ÿå’Œå…¶ä¸­çš„åº”ç”¨ç¨‹å¼ã€‚</p>\n</blockquote>\n<ul>\n<li>ç¼ºç‚¹æ˜¯ï¼šå¯åŠ¨æ…¢ã€ä½¿ç”¨ç©ºé—´å¾ˆå¤§ã€æ€§èƒ½é€šå¸¸ä¸é«˜ï¼Œæ— æ³•å®Œå…¨ä½¿ç”¨è®¡ç®—æœºçš„æ€§èƒ½ã€‚</li>\n</ul>\n<h1 id=\"å®¹å™¨æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯\"><a class=\"anchor\" href=\"#å®¹å™¨æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯\">#</a> å®¹å™¨ (æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯)</h1>\n<blockquote>\n<p>å®¹å™¨æ˜¯åŒ…å«åœ¨ä»»ä½•ç¯å¢ƒä¸­çš„è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰å…ƒç´ çš„è½¯ä»¶åŒ…ï¼Œè¿™æ ·å®¹å™¨å°±å¯ä»¥æ¨¡æ‹ŸåŒ–åº”ç”¨ç¨‹åºï¼Œå¹¶å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œã€‚å®ƒç›´æ¥è°ƒç”¨åŸæ“ä½œç³»ç»Ÿçš„èƒ½åŠ›ï¼Œå¹¶å±è”½äº†æ“ä½œç³»ç»Ÿä¹‹é—´çš„å·®å¼‚ã€‚</p>\n</blockquote>\n<h1 id=\"docker\"><a class=\"anchor\" href=\"#docker\">#</a> docker</h1>\n<blockquote>\n<p>docker æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºã€è¿è¡Œå’Œä¼ é€åº”ç”¨ç¨‹åºçš„å¹³å°ï¼Œdocker æ˜¯å®¹å™¨çš„ä¸€ç§å®ç°æ–¹å¼ã€‚<br />\ndocker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«åœ¨äºï¼šæ˜¯å¦æ¨¡æ‹Ÿæ„å»ºæ•´ä¸ªæ“ä½œç³»ç»Ÿçš„èƒ½åŠ›ã€‚</p>\n</blockquote>\n<h2 id=\"image-é•œåƒ\"><a class=\"anchor\" href=\"#image-é•œåƒ\">#</a> image é•œåƒ</h2>\n<blockquote>\n<p>image é•œåƒå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªèœè°±ï¼Œå¯¹åº”ç”¨ç¨‹åºçš„æ‰§è¡Œè¿›è¡Œæ¨¡æ¿åŒ–ã€‚å‚ç…§åŒä¸€ä¸ª image é•œåƒè¿è¡Œçš„åº”ç”¨ç¨‹åºæ˜¯ç›¸åŒçš„ã€‚å®ƒåŒ…å«äº†è¿è¡Œå®¹å™¨æ‰€éœ€çš„æ‰€æœ‰é‚£æ—¥å®¹ï¼ˆä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ï¼‰<br />\nimage é•œåƒæ‰“åŒ…äº†ï¼š</p>\n</blockquote>\n<ul>\n<li>é…ç½®æ–‡ä»¶ã€å¯åŠ¨å‘½ä»¤</li>\n<li>åº”ç”¨ç¨‹åºã€ç¯å¢ƒå˜é‡</li>\n<li>ç¬¬ä¸‰æ–¹è½¯ä»¶åº“å’Œä¾èµ–åŒ…</li>\n<li>è¿è¡Œæ—¶ç¯å¢ƒ</li>\n<li>æ“ä½œç³»ç»Ÿ</li>\n</ul>\n<h2 id=\"docker-å®¹å™¨\"><a class=\"anchor\" href=\"#docker-å®¹å™¨\">#</a> docker å®¹å™¨</h2>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9sYWJzLnBsYXktd2l0aC1kb2NrZXIuY29tLw==\">https://labs.play-with-docker.com/</span> , åœ¨çº¿è¿è¡Œå„ç§ docker å®¹å™¨<br />\n docker å®¹å™¨å°±ç›¸å½“äºæ˜¯ä¸€ä¸ªæ ¹æ® image é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ï¼Œåœ¨ docker å®¹å™¨ä¸­åŒ…å«äº†è¿è¡Œæ—¶çš„å…¨éƒ¨ç¯å¢ƒï¼Œå®ƒå±è”½äº†æ“ä½œç³»ç»Ÿä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§éå¸¸å¼ºã€‚</p>\n</blockquote>\n<h1 id=\"docker-çš„ä¼˜åŠ¿\"><a class=\"anchor\" href=\"#docker-çš„ä¼˜åŠ¿\">#</a> docker çš„ä¼˜åŠ¿</h1>\n<blockquote>\n<p>å¦‚æœä¸ä½¿ç”¨ dockerï¼Œåœ¨å¼€å‘ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä¸­éƒ½éœ€è¦å¯¹åº”ç”¨ç¨‹åºçš„è¿è¡Œç¯å¢ƒè¿›è¡Œé…ç½®ã€‚å°¤å…¶æ˜¯å½“åº”ç”¨ç¨‹åºååˆ†å¤æ‚æ—¶ï¼Œé…ç½®è¿è¡Œç¯å¢ƒçš„å·¥ä½œå°±ååˆ†å¤æ‚ï¼Œä½¿ç”¨ docker ä¹‹åå°±ç›¸å½“äºå°è£…äº†åº”ç”¨ç¨‹åºåŠå…¶å¯¹åº”çš„è¿è¡Œç¯å¢ƒï¼Œå¹¶ä¸”å±è”½äº†æ“ä½œç³»ç»Ÿä¹‹é—´çš„å·®å¼‚ï¼Œå®ƒç›´æ¥è°ƒç”¨ä¸»æœºæ“ä½œç³»ç»Ÿçš„èƒ½åŠ›è¿è¡Œ docker å®¹å™¨ã€‚<br />\nä¾‹å¦‚ï¼šä½¿ç”¨ docker ä¹‹åï¼Œæˆ‘ä»¬å¼€å‘ç¯å¢ƒé…ç½®å¥½è¿è¡Œç¯å¢ƒï¼Œæ‰“åŒ…æˆé•œåƒä¹‹åï¼Œæµ‹è¯•ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨é•œåƒæ„å»º docker å®¹å™¨ï¼Œè¿è¡Œåº”ç”¨ç¨‹åºå³å¯ï¼Œæ— éœ€é‡æ–°é…ç½®ç¯å¢ƒã€‚</p>\n</blockquote>\n<h1 id=\"docker-å‘½ä»¤\"><a class=\"anchor\" href=\"#docker-å‘½ä»¤\">#</a> docker å‘½ä»¤</h1>\n<blockquote>\n<p>å®‰è£… docker ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ docker å¯¹åº”çš„å‘½ä»¤ï¼ˆwindows å®‰è£…åéœ€è¦å¼€å¯ Hyper é€‰é¡¹ï¼‰ï¼Œå‘½ä»¤è¡Œä¸­è¾“å…¥å¯¹åº”çš„å‘½ä»¤ä¹‹åä¼šäº¤ç»™å†…éƒ¨çš„ docker daemon è¿›è¡Œæ‰§è¡Œï¼Œdocker daemon ä¼šå°†æ‰§è¡Œç»“æœè¿”å›ç»™å‘½ä»¤è¡Œã€‚</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># docker runï¼šè¿è¡Œä¸€ä¸ªæ–°çš„å®¹å™¨å®ä¾‹ã€‚</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> IMAGE <span class=\"token punctuation\">[</span>COMMAND<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>ARG<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># docker startï¼šå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">docker</span> start <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># docker stopï¼šåœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">docker</span> stop <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># docker pauseï¼šæš‚åœå®¹å™¨å†…çš„æ‰€æœ‰è¿›ç¨‹ã€‚</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">docker</span> pause <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># docker unpauseï¼šæ¢å¤ä¹‹å‰è¢«æš‚åœçš„å®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">docker</span> unpause <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># docker restartï¼šé‡å¯å®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">docker</span> restart <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># docker rmï¼šåˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># docker rmiï¼šåˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒã€‚</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">docker</span> rmi <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> IMAGE <span class=\"token punctuation\">[</span>IMAGE<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\"># docker psï¼šåˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># docker imagesï¼šåˆ—å‡ºæœ¬åœ°çš„é•œåƒã€‚</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token function\">docker</span> images <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>REPOSITORY<span class=\"token punctuation\">[</span>:TAG<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># docker buildï¼šæ ¹æ® Dockerfile æ„å»ºé•œåƒã€‚</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token function\">docker</span> build <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> <span class=\"token environment constant\">PATH</span> <span class=\"token operator\">|</span> URL <span class=\"token operator\">|</span> -</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\"># docker pullï¼šä»è¿œç¨‹ä»“åº“æ‹‰å–é•œåƒæˆ–ä»“åº“åˆ°æœ¬åœ°ã€‚</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token function\">docker</span> pull <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> NAME<span class=\"token punctuation\">[</span>:TAG<span class=\"token operator\">|</span>@DIGEST<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># docker pushï¼šå°†æœ¬åœ°çš„é•œåƒæˆ–ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token function\">docker</span> push <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> NAME<span class=\"token punctuation\">[</span>:TAG<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\"># docker loginï¼šç™»å½•åˆ°ä¸€ä¸ª Docker è¿œç¨‹ä»“åº“ã€‚</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token function\">docker</span> login <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>SERVER<span class=\"token punctuation\">]</span> USERNAME</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\"># docker logoutï¼šä» Docker è¿œç¨‹ä»“åº“ç™»å‡ºã€‚</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">logout</span> <span class=\"token punctuation\">[</span>SERVER<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\"># docker execï¼šåœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ã€‚</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER COMMAND <span class=\"token punctuation\">[</span>ARG<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\"># docker logsï¼šè·å–å®¹å™¨çš„æ—¥å¿—ã€‚</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token function\">docker</span> logs <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER</pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\"># docker networkï¼šç®¡ç† Docker ç½‘ç»œè®¾ç½®ã€‚</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token function\">docker</span> network <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\"># docker volumeï¼šç®¡ç† Docker æ•°æ®å·ã€‚</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token function\">docker</span> volume <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token comment\"># docker inspectï¼šè·å–å®¹å™¨ã€é•œåƒã€ç½‘ç»œæˆ–æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯ã€‚</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token function\">docker</span> inspect <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> NAME<span class=\"token operator\">|</span>ID <span class=\"token punctuation\">[</span>NAME<span class=\"token operator\">|</span>ID<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\"># docker pruneï¼šåˆ é™¤æœªä½¿ç”¨çš„ Docker å¯¹è±¡ï¼Œå¦‚å®¹å™¨ã€é•œåƒã€ç½‘ç»œã€æ•°æ®å·ã€‚</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token function\">docker</span> prune <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token comment\"># docker statsï¼šå®æ—¶æ˜¾ç¤ºå®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µã€‚</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token function\">docker</span> stats <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>CONTAINER<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token comment\"># docker-composeï¼šä½¿ç”¨ Docker Compose å·¥å…·ç®¡ç†å¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºã€‚</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token function\">docker-compose</span> <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>COMMAND<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>ARGS<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h1 id=\"å®¹å™¨åŒ–\"><a class=\"anchor\" href=\"#å®¹å™¨åŒ–\">#</a> å®¹å™¨åŒ–</h1>\n<blockquote>\n<p>å¦‚ä½•å°†åº”ç”¨ç¨‹åºå’Œè¿è¡Œæ—¶çš„ç¯å¢ƒæ‰“åŒ…æˆä¸€ä¸ªé•œåƒå‘¢ï¼ˆï¼‰å®¹å™¨åŒ–ï¼Ÿè¿™æ—¶å€™å°±éœ€è¦é…ç½® dockerfile å®šä¹‰å®¹å™¨çš„æ„å»ºè¿‡ç¨‹ï¼Œæ„å»ºé•œåƒã€‚æœ€åä½¿ç”¨ docker å‘½ä»¤é•œåƒåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ï¼ˆdocker build -t app-name . å’Œ docker run -p 8080:8080 app-nameï¼‰</p>\n</blockquote>\n<h1 id=\"dockerfile\"><a class=\"anchor\" href=\"#dockerfile\">#</a> Dockerfile</h1>\n<blockquote>\n<p>dockerfile æ–‡ä»¶ç”¨äºå®šä¹‰è½¯ä»¶ä¾èµ–çš„æ„å»ºè¿‡ç¨‹ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹å¾—åˆ°æ»¡è¶³ã€‚alpine æ˜¯ä¸€ä¸ªè½»é‡çš„ linx å‘è¡Œç‰ˆã€‚</p>\n</blockquote>\n<figure class=\"highlight dockerfile\"><figcaption data-lang=\"Docker\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Docker é•œåƒæ˜¯ä¸€å±‚ä¸€å±‚è¿›è¡Œæ„å»ºçš„</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šå¯¹åº”çš„æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬ï¼Œalpine æ˜¯ linx è½»é‡çº§çš„å‘è¡Œç‰ˆ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:14-alpine</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ä½¿ç”¨ COPY å‘½ä»¤ï¼Œå°†æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token instruction\"><span class=\"token keyword\">COPY</span> index.js /index.js</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># è¿è¡Œåº”ç”¨ç¨‹åº</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># CMD [\"node\",\"/index.js\"] æˆ–è€…</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token instruction\"><span class=\"token keyword\">CMD</span> node /index.js</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># æ­¤æ—¶ä½¿ç”¨ docker build -t docker-name: ç‰ˆæœ¬å·ã€‚å°±å¯ä»¥æ„å»º docker é•œåƒï¼Œä¸æŒ‡å®šç‰ˆæœ¬å·é»˜è®¤æ˜¯ latest</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># ä½¿ç”¨ docker image ls å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># ä½¿ç”¨ docker run docker-name è¿è¡Œé•œåƒ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># å°†å®¹å™¨æ¨é€åˆ°è¿œç¨‹é•œåƒä»“åº“ï¼šdocker push your-dockerhub-username/your-app-name:tag</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># å¦‚æœæƒ³è¦æ ¹æ®è¿™ä¸ªé•œåƒåˆ›å»º docker å®¹å™¨ï¼Œåªéœ€è¦æ‹¿åˆ° Dockerfile æ–‡ä»¶ï¼Œè¿è¡Œä¸Šè¿°å‘½ä»¤å³å¯</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># é€šå¸¸å°†åº”ç”¨ç¨‹åºä¸Šä¼ åˆ° docker hub ä¸­ï¼Œåé¢é€šè¿‡ docker pull docker-name è¿›è¡Œæ‹‰å–</span></pre></td></tr></table></figure><h1 id=\"volumes-é€»è¾‘å·\"><a class=\"anchor\" href=\"#volumes-é€»è¾‘å·\">#</a> volumes é€»è¾‘å·</h1>\n<blockquote>\n<p>volumes é€»è¾‘å·æ˜¯ Docker ä¸­ç”¨äºå­˜å‚¨æ•°æ®çš„ï¼Œå› ä¸º docker ä¸­çš„æ•°æ®æ˜¯ä¸ä¼šè¿›è¡ŒæŒä¹…åŒ–çš„ã€‚å®ƒé€šå¸¸ä»¥ä¸€ä¸ªå¹²å‡€çš„æ–‡ä»¶å¼€å§‹ï¼Œå®¹å™¨å¯åŠ¨ä¹‹åï¼Œå¯ä»¥åœ¨å®¹å™¨ä¸­åˆ›å»ºæ–‡ä»¶å’Œä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯å½“å®¹å™¨åœæ­¢ä¹‹åï¼Œæ•°æ®å¹¶ä¸ä¼šæŒä¹…åŒ–ï¼Œä»è€Œä¸¢å¤±ï¼Œè¿™æ—¶å€™å°±è¦åœ¨ Docker Compose ä¸­ä½¿ç”¨ volumes é€»è¾‘å·<br />\n volumes é€»è¾‘å·å¯ä»¥å°†å®¹å™¨ä¸­çš„ç›®å½•æˆ–è€…æŒ‡å®šè·¯å¾„æ˜ å°„åˆ°å®¿ä¸»æœºçš„æŸä¸€ä¸ªç›®å½•æˆ–è€…ä½ç½®ä¸Šï¼Œä»è€Œå®ç°æ•°æ®çš„æŒä¹…åŒ–ã€‚</p>\n</blockquote>\n<h1 id=\"dev-environments\"><a class=\"anchor\" href=\"#dev-environments\">#</a> Dev Environments</h1>\n<blockquote>\n<p>docker desktop ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥å°†è‡ªå·±å½“å‰ç¯å¢ƒåˆ†äº«ç»™å…¶ä»–äººï¼Œä»è€Œå…±äº«å¼€å‘ç¯å¢ƒã€‚</p>\n</blockquote>\n<h1 id=\"docker-compose\"><a class=\"anchor\" href=\"#docker-compose\">#</a> Docker Compose</h1>\n<p>å®¹å™¨ç¼–æ’å·¥å…·</p>\n<blockquote>\n<p>ä¸€ä¸ªé¡¹ç›®ä¸­éœ€è¦çš„åº”ç”¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºï¼ˆå®¹å™¨ï¼‰é—´çš„é€»è¾‘æ˜¯ååˆ†å¤æ‚çš„ï¼Œç»Ÿä¸€ç®¡ç†ä»–ä»¬çš„å¯åŠ¨å’Œåœæ­¢éå¸¸éº»çƒ¦ï¼ŒDocker Compose ç”¨ä¸€ä¸ª YAML æ–‡ä»¶ï¼Œå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å¯ä»¥é…ç½®å¤šä¸ªå®¹å™¨ã€ç½‘ç»œå’Œæ•°æ®å·ç­‰ï¼Œä»¥ä¾¿åœ¨éš”ç¦»çš„ç¯å¢ƒä¸­å¿«é€Ÿå¯åŠ¨å’Œåœæ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</p>\n</blockquote>\n<p><strong>Docker Compose çš„ä½œç”¨ï¼š</strong></p>\n<ul>\n<li>å¤šå®¹å™¨ç®¡ç†ï¼šDocker Compose å…è®¸ä½ åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰å¤šä¸ªå®¹å™¨ï¼Œç»Ÿä¸€ç®¡ç†å®ƒä»¬çš„å¯åŠ¨å’Œåœæ­¢ã€‚</li>\n<li>ç¯å¢ƒä¸€è‡´æ€§ï¼šé€šè¿‡ä½¿ç”¨ Composeï¼Œä½ å¯ä»¥åœ¨ä¸åŒçš„æœºå™¨å’Œç¯å¢ƒä¸­ä¿æŒåº”ç”¨ç¨‹åºçš„ä¸€è‡´æ€§ï¼Œå› ä¸ºå®ƒå®šä¹‰äº†åº”ç”¨ç¨‹åºçš„å®Œæ•´è¿è¡Œç¯å¢ƒã€‚</li>\n<li>é…ç½®ç®€åŒ–ï¼šCompose ä½¿ç”¨ YAML æ ¼å¼ï¼Œä½¿å¾—é…ç½®æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ã€‚</li>\n<li>æœåŠ¡ä¾èµ–ç®¡ç†ï¼šCompose å¯ä»¥å¤„ç†å®¹å™¨ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿åœ¨å¯åŠ¨å’Œåœæ­¢æ—¶æŒ‰æ­£ç¡®çš„é¡ºåºæ“ä½œã€‚</li>\n<li>ç½‘ç»œé…ç½®ï¼šCompose å…è®¸å®šä¹‰è‡ªå®šä¹‰ç½‘ç»œï¼Œä½¿å®¹å™¨ä¹‹é—´èƒ½å¤Ÿç›¸äº’å‘ç°å’Œé€šä¿¡ã€‚</li>\n<li>æ•°æ®å·ç®¡ç†ï¼šå¯ä»¥é…ç½®æ•°æ®å·ï¼Œä»¥ä¾¿åœ¨å®¹å™¨ä¹‹é—´å…±äº«æ•°æ®æˆ–æŒä¹…åŒ–æ•°æ®ã€‚</li>\n<li>æ‰©å±•æ€§ï¼šCompose æ”¯æŒæ‰©å±•æœåŠ¡ï¼Œå…è®¸ä½ æŒ‡å®šæœåŠ¡è¿è¡Œçš„å®¹å™¨æ•°é‡ã€‚</li>\n<li>è‡ªåŠ¨åŒ–ï¼šé€šè¿‡ç®€å•çš„å‘½ä»¤ï¼ŒCompose å¯ä»¥è‡ªåŠ¨æ„å»ºã€å¯åŠ¨æˆ–åœæ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>\n</ul>\n<p><strong>docker-compose.yml</strong></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.8\"</span> <span class=\"token comment\"># æŒ‡å®š docker-compose çš„ç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx<span class=\"token punctuation\">:</span>alpine <span class=\"token comment\"># ä½¿ç”¨å®˜æ–¹çš„ nginx é•œåƒï¼ˆåŸºäº Alpine ç‰ˆæœ¬ï¼‰</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"80:80\"</span> <span class=\"token comment\"># å°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 80 ç«¯å£</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./src<span class=\"token punctuation\">:</span>/usr/share/nginx/html <span class=\"token comment\"># æŒ‚è½½å½“å‰ç›®å½•ä¸‹çš„ src æ–‡ä»¶å¤¹åˆ°å®¹å™¨çš„ nginx HTML ç›®å½•</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> app <span class=\"token comment\"># è¡¨ç¤º web æœåŠ¡ä¾èµ–äº app æœåŠ¡</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span> ./app <span class=\"token comment\"># æ„å»ºå½“å‰ç›®å½•ä¸‹ app æ–‡ä»¶å¤¹ä¸­çš„ Dockerfile</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">expose</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"9000\"</span> <span class=\"token comment\"># æš´éœ²å®¹å™¨å†…éƒ¨çš„ 9000 ç«¯å£ï¼Œä¾›å…¶ä»–æœåŠ¡è®¿é—®ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœº</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token punctuation\">-</span> APP_ENV=production <span class=\"token comment\"># è®¾ç½®ç¯å¢ƒå˜é‡</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./app<span class=\"token punctuation\">:</span>/var/www <span class=\"token comment\"># æŒ‚è½½å½“å‰ç›®å½•ä¸‹çš„ app æ–‡ä»¶å¤¹åˆ°å®¹å™¨çš„ /var/www ç›®å½•</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token key atrule\">db</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span><span class=\"token number\">5.7</span> <span class=\"token comment\"># ä½¿ç”¨å®˜æ–¹çš„ MySQL 5.7 é•œåƒ</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token punctuation\">-</span> db<span class=\"token punctuation\">-</span>data<span class=\"token punctuation\">:</span>/var/lib/mysql <span class=\"token comment\"># æŒ‚è½½å· db-data åˆ°å®¹å™¨çš„ MySQL æ•°æ®ç›®å½•</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_ROOT_PASSWORD=rootpassword <span class=\"token comment\"># è®¾ç½® MySQL root ç”¨æˆ·çš„å¯†ç </span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token punctuation\">-</span> MYSQL_DATABASE=myappdb <span class=\"token comment\"># åˆ›å»ºå¹¶ä½¿ç”¨åä¸º myappdb çš„æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token key atrule\">db-data</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰ä¸€ä¸ªåä¸º db-data çš„å·ï¼Œç”¨äºæŒä¹…åŒ– MySQL æ•°æ®</span></pre></td></tr></table></figure><p><code>docker-compose.yml</code>  æ–‡ä»¶å°†ä¸€ç»„äº’ç›¸å…³è”çš„å®¹å™¨ç»„åˆåœ¨ä¸€èµ·ï¼Œç„¶åä½¿ç”¨ <code>docker compose up</code>  å‘½ä»¤ï¼ˆåŒ…å« docker-compose.yml çš„æ–‡ä»¶ä¸­æ‰§è¡Œï¼‰å³å¯å¯åŠ¨æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</p>\n<p>docker-compose.yml å¯ä»¥ç»“åˆ CI/CD å·¥å…·ï¼Œé›†æˆåˆ°è‡ªåŠ¨åŒ–å·¥ä½œæµä¸­ï¼Œå®ç°ä»å¼€å‘åˆ°éƒ¨ç½²çš„è‡ªåŠ¨åŒ–ã€‚</p>\n<h1 id=\"kubernetes\"><a class=\"anchor\" href=\"#kubernetes\">#</a> Kubernetes</h1>\n<p>Kubernetes å’Œ Docker Compose ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§å®¹å™¨ç¼–æ’å·¥å…·ï¼Œç”¨äºç®¡ç†å’Œéƒ¨ç½²å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ Kubernetes ç›¸æ¯”ä¹‹ä¸‹æ›´é€‚åˆå¤§è§„æ¨¡çš„ç”Ÿäº§ç¯å¢ƒå’Œå¤æ‚çš„å®¹å™¨ç¼–æ’éœ€æ±‚ã€‚</p>\n<h3 id=\"æ¯”è¾ƒ\"><a class=\"anchor\" href=\"#æ¯”è¾ƒ\">#</a> æ¯”è¾ƒ</h3>\n<p>k8s å’Œ Docker Compose çš„åŒºåˆ«</p>\n<ol>\n<li>åŠŸèƒ½å’Œè§„æ¨¡ï¼š\n<ul>\n<li>Docker Compose æ˜¯ä¸€ä¸ªç®€å•çš„å·¥å…·ï¼Œç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚å®ƒé€‚ç”¨äºå•æœºæˆ–ç®€å•çš„å¤šæœºç¯å¢ƒï¼Œå¹¶æä¾›äº†ä¸€ç§ç®€åŒ–çš„æ–¹å¼æ¥å®šä¹‰å®¹å™¨ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œé…ç½®ã€‚</li>\n<li>Kubernetes æ˜¯ä¸€ä¸ªæ›´å¼ºå¤§å’Œå¤æ‚çš„å®¹å™¨ç¼–æ’å¹³å°ï¼Œç”¨äºç®¡ç†å¤§è§„æ¨¡çš„å®¹å™¨é›†ç¾¤ã€‚å®ƒå¯ä»¥è‡ªåŠ¨åŒ–å®¹å™¨çš„éƒ¨ç½²ã€æ‰©å±•ã€è´Ÿè½½å‡è¡¡ã€æ•…éšœæ¢å¤ç­‰æ“ä½œï¼Œå¹¶æä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½å’Œç®¡ç†èƒ½åŠ›ã€‚</li>\n</ul>\n</li>\n<li>æ¶æ„å’Œéƒ¨ç½²æ–¹å¼ï¼š\n<ul>\n<li>Docker Compose ä½¿ç”¨å•ä¸ª YAML æ–‡ä»¶æ¥å®šä¹‰æ•´ä¸ªåº”ç”¨ç¨‹åºçš„é…ç½®å’ŒæœåŠ¡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒå¯ä»¥åœ¨å•ä¸ªä¸»æœºä¸Šä½¿ç”¨ <code>docker-compose</code>  å‘½ä»¤è¿›è¡Œéƒ¨ç½²å’Œç®¡ç†ã€‚</li>\n<li>Kubernetes ä½¿ç”¨ä¸€ç»„ YAML æ–‡ä»¶æ¥å®šä¹‰åº”ç”¨ç¨‹åºçš„å„ä¸ªç»„ä»¶å’Œèµ„æºï¼Œå¹¶é€šè¿‡ Kubernetes API è¿›è¡Œç®¡ç†ã€‚å®ƒéœ€è¦ä¸€ä¸ª Kubernetes é›†ç¾¤æ¥éƒ¨ç½²å’Œè¿è¡Œåº”ç”¨ç¨‹åºã€‚</li>\n</ul>\n</li>\n<li>å¯æ‰©å±•æ€§å’Œå¼¹æ€§ï¼š\n<ul>\n<li>Docker Compose é€‚ç”¨äºå°å‹åº”ç”¨ç¨‹åºæˆ–å¼€å‘ / æµ‹è¯•ç¯å¢ƒï¼Œå®ƒçš„æ‰©å±•æ€§å’Œå¼¹æ€§æœ‰é™ã€‚å®ƒå¯ä»¥åœ¨å•ä¸ªä¸»æœºä¸Šè¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œä½†æ— æ³•è‡ªåŠ¨è¿›è¡Œæ°´å¹³æ‰©å±•æˆ–æ•…éšœæ¢å¤ã€‚</li>\n<li>Kubernetes è®¾è®¡ç”¨äºå¤§è§„æ¨¡çš„ç”Ÿäº§ç¯å¢ƒï¼Œå…·æœ‰å¼ºå¤§çš„æ‰©å±•æ€§å’Œå¼¹æ€§ã€‚å®ƒå¯ä»¥è‡ªåŠ¨è¿›è¡Œå®¹å™¨çš„æ°´å¹³æ‰©å±•ã€è´Ÿè½½å‡è¡¡å’Œæ•…éšœæ¢å¤ï¼Œä»¥ç¡®ä¿åº”ç”¨ç¨‹åºçš„é«˜å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚</li>\n</ul>\n</li>\n<li>ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼š\n<ul>\n<li>Docker Compose æ˜¯ Docker å®˜æ–¹æä¾›çš„å·¥å…·ï¼Œæ‹¥æœ‰åºå¤§çš„ç”¨æˆ·ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿã€‚å®ƒä¸ Docker Engine ç´§å¯†é›†æˆï¼Œå¹¶ä¸”æ˜“äºä¸Šæ‰‹å’Œä½¿ç”¨ã€‚</li>\n<li>Kubernetes æ˜¯ç”± Google å¼€æºå¹¶æ‰˜ç®¡åœ¨ Cloud Native Computing Foundationï¼ˆCNCFï¼‰ä¸‹çš„é¡¹ç›®ï¼Œä¹Ÿæ‹¥æœ‰åºå¤§çš„ç”¨æˆ·ç¤¾åŒºå’Œæ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºã€‚å®ƒæœ‰è®¸å¤šç¬¬ä¸‰æ–¹å·¥å…·å’Œæ’ä»¶ï¼Œå¯ä»¥æ‰©å±•å…¶åŠŸèƒ½å’Œé›†æˆå…¶ä»–ç³»ç»Ÿã€‚</li>\n</ul>\n</li>\n</ol>\n<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒDocker Compose é€‚ç”¨äºç®€å•çš„åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œå¼€å‘ / æµ‹è¯•ç¯å¢ƒï¼Œè€Œ Kubernetes é€‚ç”¨äºå¤§è§„æ¨¡çš„ç”Ÿäº§ç¯å¢ƒå’Œå¤æ‚çš„å®¹å™¨ç¼–æ’éœ€æ±‚ã€‚æ ¹æ®å®é™…éœ€æ±‚å’Œè§„æ¨¡é€‰æ‹©åˆé€‚çš„å·¥å…·</p>\n",
            "tags": [
                "Docker",
                "Docker"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/07/gitlab-cicd/",
            "url": "https://dmqweb.cn/2024/07/07/gitlab-cicd/",
            "title": "gitlab cicd",
            "date_published": "2024-07-07T06:26:39.000Z",
            "content_html": "<h1 id=\"cicd\"><a class=\"anchor\" href=\"#cicd\">#</a> CICD</h1>\n<p>CIï¼šæŒç»­é›†æˆ</p>\n<p>CDï¼šæŒç»­äº¤ä»˜</p>\n<p>CDï¼šæŒç»­éƒ¨ç½²</p>\n<h3 id=\"ä¸Šçº¿æµç¨‹\"><a class=\"anchor\" href=\"#ä¸Šçº¿æµç¨‹\">#</a> ä¸Šçº¿æµç¨‹</h3>\n<blockquote>\n<p>å‘å¸ƒä¸Šçº¿æµç¨‹ä¸¾ä¾‹ï¼šgit ä¸Šä¼ ï¼Œå¼€å§‹è·‘æµ‹è¯•ï¼Œè¿›è¡Œæ‰“åŒ…ï¼Œä½¿ç”¨ docker å®¹å™¨åŒ–é•œåƒæ‰“åŒ…ï¼Œæ¨é€åˆ° dev å¼€å‘ç¯å¢ƒï¼Œéƒ¨ç½²åˆ° staging æµ‹è¯•ç¯å¢ƒï¼Œæœ€åéƒ¨ç½²åˆ° production ç”Ÿäº§ç¯å¢ƒ</p>\n</blockquote>\n<h3 id=\"pipeline\"><a class=\"anchor\" href=\"#pipeline\">#</a> pipeline</h3>\n<blockquote>\n<p>ä¸€æ¬¡ pipeline å°±ç›¸å½“äºä¸€æ¬¡æ„å»ºä»»åŠ¡ï¼Œé‡Œé¢å¯ä»¥åŒ…å«å¤šä¸ªæµç¨‹ï¼Œå¦‚ï¼šå®‰è£…ä¾èµ–ï¼Œè·‘æµ‹è¯•ä»£ç ï¼Œeslint æ ¡éªŒï¼Œç¼–è¯‘ï¼Œéƒ¨ç½²æµ‹è¯•æœåŠ¡å™¨ï¼Œéƒ¨ç½²ç”Ÿäº§æœåŠ¡å™¨ç­‰æµç¨‹ï¼Œä»»ä½•æäº¤æˆ–è€… Merge Request çš„åˆå¹¶éƒ½å¯ä»¥è§¦å‘ Pipelineã€‚</p>\n</blockquote>\n<h3 id=\"runner\"><a class=\"anchor\" href=\"#runner\">#</a> runner</h3>\n<blockquote>\n<p>ä¸€ä¸ª runner å°±ç›¸å½“äºä¸€ä¸ªæ‰“å·¥ä»”ï¼Œå¯ä»¥ä¸‹è½½ gitlab runner ä¹‹åæ³¨å†Œå¤šä¸ª runnerï¼Œå¹¶ä¸”æŒ‡å®šå¯¹åº”çš„ runner æ‰§è¡Œä»»åŠ¡ã€‚</p>\n</blockquote>\n<h1 id=\"gitlab-ciyml-æ–‡ä»¶\"><a class=\"anchor\" href=\"#gitlab-ciyml-æ–‡ä»¶\">#</a> .gitlab-ci.yml æ–‡ä»¶</h1>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ä¸€é¡¹ä»£è¡¨ä¸€ä¸ª pipeline ä½œä¸š</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">helloworld</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> linter</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"hello world<span class=\"token punctuation\">,</span>Gitlab<span class=\"token tag\">!</span>\"</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">-</span> chmod +x ./run.sh <span class=\"token comment\"># å°† run.sh æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">-</span> ./run.sh <span class=\"token comment\"># å°†æ‰§è¡Œè¿‡ç¨‹æå–æˆå¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œæ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># ç§å¯†ä½¿ç”¨ï¼ˆä¸æƒ³æš´éœ²åˆ°ä»£ç ä¸­ï¼‰çš„ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥åœ¨å¹³å°ä¸Šè¿›è¡Œè®¾ç½®</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å…¨å±€çš„ç¯å¢ƒå˜é‡ï¼Œè¿˜æœ‰ä¸€äº›å†…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š$CI_PIPELINE_SOURCE è¯¦è§æ–‡æ¡£</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">my_password</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"å…¨å±€çš„é…ç½®å˜é‡\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token key atrule\">run_unit_tests</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># ä»»åŠ¡ä¸­é…ç½®å˜é‡ï¼Œä½¿ç”¨æ—¶åŠ ä¸Š $ ç¬¦å·</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">my_password</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"iamsomepassword...\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> testing</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"æ‰§è¡Œå•å…ƒæµ‹è¯•\"</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># é…ç½®è¿è¡Œçš„å®¹å™¨é•œåƒ</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine<span class=\"token punctuation\">:</span>latest</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token key atrule\">before_script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">:</span>3.1.2<span class=\"token punctuation\">-</span>alpine3.16 <span class=\"token comment\"># é…ç½®å•é¡¹ä½œä¸šè¿è¡Œçš„å®¹å™¨é•œåƒ</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># åŒä¸€ä¸ª stage ä¸­ï¼Œé€šè¿‡ needs æ¥æŒ‡å®šå·¥ä½œçš„ç›¸ä¾æ€§</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">-</span> bad_job</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"å®‰è£…å¥—ä»¶\"</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"è®¾å®šèµ„æ–™é“¾æ¥\"</pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token key atrule\">workflow</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># é…ç½®å·¥ä½œæµ</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å½“ main åˆ†æ”¯ commit æ—¶ï¼Œæ‰å¯åŠ¨å·¥ä½œæµç¨‹</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> $CI_COMMIT_BRANCH == \"main\" <span class=\"token comment\"># $CI_COMMIT_BRANCH æ˜¯å†…ç½®çš„ç¯å¢ƒå˜é‡</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> always</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> never</pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token key atrule\">after_script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> deplpy</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"åˆ é™¤ä¸å¿…è¦çš„æ–‡ä»¶\"</pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token key atrule\">build_docker_image</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token key atrule\">only</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># æŒ‡å®šåªæœ‰æ¨é€åˆ° main åˆ†æ”¯ä¸Šæ‰ä¼šæ‰§è¡Œï¼ŒæŒ‡å®šå“ªäº›åˆ†æ”¯ä¸æ‰§è¡Œä½¿ç”¨ï¼šexcept</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">-</span> main</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> build</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">-</span> echo \"building docker image\"</pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token key atrule\">bad_job</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å‡è®¾é”™è¯¯çš„ä»»åŠ¡ï¼Œåˆ™ä¼šä¸­æ–­å½“å‰å·¥ä½œçš„æ‰§è¡Œï¼Œæ¯ä¸ªå·¥ä½œç‹¬ç«‹æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># æŒ‡å®š runner (æ‰“å·¥ä»”) è¿›è¡Œæ‰§è¡Œï¼Œåœ¨æ³¨å†Œ runner æ—¶ä¼šåˆ›å»ºä¸€ä¸ª tags</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token punctuation\">-</span> runner_tags</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">-</span> uname <span class=\"token comment\"># éªŒè¯å½“å‰åœ¨ runner ä¸­æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> script<span class=\"token punctuation\">:</span>no_script</pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token comment\"># å»ºç«‹èˆå°ï¼Œä½¿å¾—å·¥ä½œæŒ‰ç…§æŒ‡å®šå…ˆåé¡ºåºæ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token punctuation\">-</span> linter</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token punctuation\">-</span> testing</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token punctuation\">-</span> build</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  <span class=\"token punctuation\">-</span> deploy</pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token comment\"># æœåŠ¡ç«¯å»å®˜ç½‘å®‰è£… gitlab runnerï¼Œä½¿ç”¨ runnerï¼ˆæ‰“å·¥ä»”ï¼‰åˆ†é…å·¥ä½œ</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token comment\"># æ¥ç€å¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token comment\"># ç„¶åå°†è¿™ä¸ªæœåŠ¡è¿›è¡Œæ³¨å†Œï¼ˆé…ç½®åœ¨ gitlab runner çš„é…ç½®ä¸­ï¼‰</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token comment\"># runner åˆ†ä¸ºï¼šshared runnerã€ group runners å’Œ specific runners ä¸‰ç§</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token comment\"># å¯ä»¥ä¸ºæŸä¸ªç¾¤ç»„è®¾ç½® runnerï¼Œä¾‹å¦‚åœ¨ç¾¤ç»„ä¸­è®¾ç½® runner é…ç½®ï¼ŒæœåŠ¡ä¸­æ³¨å†Œä¸€ä¸ª runner è¿›è¡Œé…ç½®</span></pre></td></tr></table></figure>",
            "tags": [
                "gitlab cicd",
                "gitlab cicd"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/07/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E5%88%99/",
            "url": "https://dmqweb.cn/2024/07/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E5%88%99/",
            "title": "è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™",
            "date_published": "2024-07-07T06:26:39.000Z",
            "content_html": "<p>æ³¨ï¼šæœ¬æ•™ç¨‹æ€»ç»“è‡ªã€Šè®¾è®¡æ¨¡å¼ä¹‹äº‰ã€‹å’Œã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹ï¼Œå¯¹è®¾è®¡æ¨¡å¼æ„Ÿå…´è¶£çš„åŒå­¦å¼ºçƒˆæ¨èè¿™ä¸¤æœ¬ä¹¦ã€‚</p>\n<h1 id=\"23-ç§è®¾è®¡æ¨¡å¼\"><a class=\"anchor\" href=\"#23-ç§è®¾è®¡æ¨¡å¼\">#</a> 23 ç§è®¾è®¡æ¨¡å¼</h1>\n<h2 id=\"åˆ›å»ºå‹\"><a class=\"anchor\" href=\"#åˆ›å»ºå‹\">#</a> åˆ›å»ºå‹</h2>\n<ul>\n<li>\n<p>å•ä¾‹æ¨¡å¼</p>\n</li>\n<li>\n<p>åŸå‹æ¨¡å¼</p>\n</li>\n<li>\n<p>å·¥å‚æ¨¡å¼</p>\n</li>\n<li>\n<p>æŠ½è±¡å·¥å‚æ¨¡å¼</p>\n</li>\n<li>\n<p>å»ºé€ è€…æ¨¡å¼</p>\n</li>\n</ul>\n<h2 id=\"ç»“æ„å‹\"><a class=\"anchor\" href=\"#ç»“æ„å‹\">#</a> ç»“æ„å‹</h2>\n<ul>\n<li>\n<p>é€‚é…å™¨æ¨¡å¼</p>\n</li>\n<li>\n<p>è£…é¥°å™¨æ¨¡å¼</p>\n</li>\n<li>\n<p>ä»£ç†æ¨¡å¼</p>\n</li>\n<li>\n<p>å¤–è§‚æ¨¡å¼</p>\n</li>\n<li>\n<p>æ¡¥æ¥æ¨¡å¼</p>\n</li>\n<li>\n<p>ç»„åˆæ¨¡å¼</p>\n</li>\n<li>\n<p>äº«å…ƒæ¨¡å¼</p>\n</li>\n</ul>\n<h2 id=\"è¡Œä¸ºå‹\"><a class=\"anchor\" href=\"#è¡Œä¸ºå‹\">#</a> è¡Œä¸ºå‹</h2>\n<ul>\n<li>\n<p>è§‚å¯Ÿè€…æ¨¡å¼</p>\n</li>\n<li>\n<p>è¿­ä»£å™¨æ¨¡å¼</p>\n</li>\n<li>\n<p>ç­–ç•¥æ¨¡å¼</p>\n</li>\n<li>\n<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</p>\n</li>\n<li>\n<p>èŒè´£é“¾æ¨¡å¼</p>\n</li>\n<li>\n<p>å‘½ä»¤æ¨¡å¼</p>\n</li>\n<li>\n<p>å¤‡å¿˜å½•æ¨¡å¼</p>\n</li>\n<li>\n<p>çŠ¶æ€æ¨¡å¼</p>\n</li>\n<li>\n<p>è®¿é—®è€…æ¨¡å¼</p>\n</li>\n<li>\n<p>ä¸­ä»‹è€…æ¨¡å¼</p>\n</li>\n<li>\n<p>è§£é‡Šå™¨æ¨¡å¼</p>\n</li>\n</ul>\n<h1 id=\"å·¥å‚æ¨¡å¼\"><a class=\"anchor\" href=\"#å·¥å‚æ¨¡å¼\">#</a> å·¥å‚æ¨¡å¼</h1>\n<p>å·¥å‚æ¨¡å¼å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£ç”±å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚è¯¥æ¨¡å¼ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°äº†å­ç±»ã€‚è€Œå­ç±»å¯ä»¥é‡å†™æ¥å£æ–¹æ³•ä»¥ä¾¿åˆ›å»ºçš„æ—¶å€™æŒ‡å®šè‡ªå·±çš„å¯¹è±¡ç±»å‹ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"init\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token function\">fun</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fun\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Factory</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// use</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">let</span> factory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Factory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>p<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>p<span class=\"token punctuation\">.</span><span class=\"token function\">fun</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>é€‚ç”¨åœºæ™¯</li>\n</ul>\n<p>å¦‚æœä½ ä¸æƒ³è®©æŸä¸ªå­ç³»ç»Ÿä¸è¾ƒå¤§çš„é‚£ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆå¼ºè€¦åˆï¼Œè€Œæ˜¯æƒ³è¿è¡Œæ—¶ä»è®¸å¤šå­ç³»ç»Ÿä¸­è¿›è¡ŒæŒ‘é€‰çš„è¯ï¼Œé‚£ä¹ˆå·¥å‚æ¨¡å¼æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©<br />\nå°† new æ“ä½œç®€å•å°è£…ï¼Œé‡åˆ° new çš„æ—¶å€™å°±åº”è¯¥è€ƒè™‘æ˜¯å¦ç”¨å·¥å‚æ¨¡å¼ï¼›<br />\néœ€è¦ä¾èµ–å…·ä½“ç¯å¢ƒåˆ›å»ºä¸åŒå®ä¾‹ï¼Œè¿™äº›å®ä¾‹éƒ½æœ‰ç›¸åŒçš„è¡Œä¸ºï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œç®€åŒ–å®ç°çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘æ¯ç§å¯¹è±¡æ‰€éœ€çš„ä»£ç é‡ï¼Œæœ‰åˆ©äºæ¶ˆé™¤å¯¹è±¡é—´çš„è€¦åˆï¼Œæä¾›æ›´å¤§çš„çµæ´»æ€§</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å¯èƒ½å¾ˆå¤æ‚ï¼Œä½†æˆ‘ä»¬åªéœ€è¦å…³å¿ƒåˆ›å»ºç»“æœã€‚<br />\næ„é€ å‡½æ•°å’Œåˆ›å»ºè€…åˆ†ç¦»ï¼Œç¬¦åˆ â€œå¼€é—­åŸåˆ™â€<br />\n ä¸€ä¸ªè°ƒç”¨è€…æƒ³åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦çŸ¥é“å…¶åç§°å°±å¯ä»¥äº†ã€‚<br />\næ‰©å±•æ€§é«˜ï¼Œå¦‚æœæƒ³å¢åŠ ä¸€ä¸ªäº§å“ï¼Œåªè¦æ‰©å±•ä¸€ä¸ªå·¥å‚ç±»å°±å¯ä»¥ã€‚</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>æ·»åŠ æ–°äº§å“æ—¶ï¼Œéœ€è¦ç¼–å†™æ–°çš„å…·ä½“äº§å“ç±»ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦<br />\nè€ƒè™‘åˆ°ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œéœ€è¦å¼•å…¥æŠ½è±¡å±‚ï¼Œåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­å‡ä½¿ç”¨æŠ½è±¡å±‚è¿›è¡Œå®šä¹‰ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦</p>\n<ul>\n<li>ä»€ä¹ˆæ—¶å€™ä¸ç”¨<br />\nå½“è¢«åº”ç”¨åˆ°é”™è¯¯çš„é—®é¢˜ç±»å‹ä¸Šæ—¶ï¼Œè¿™ä¸€æ¨¡å¼ä¼šç»™åº”ç”¨ç¨‹åºå¼•å…¥å¤§é‡ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚é™¤éä¸ºåˆ›å»ºå¯¹è±¡æä¾›ä¸€ä¸ªæ¥å£æ˜¯æˆ‘ä»¬ç¼–å†™çš„åº“æˆ–è€…æ¡†æ¶çš„ä¸€ä¸ªè®¾è®¡ä¸Šç›®æ ‡ï¼Œå¦åˆ™æˆ‘ä¼šå»ºè®®ä½¿ç”¨æ˜ç¡®çš„æ„é€ å™¨ï¼Œä»¥é¿å…ä¸å¿…è¦çš„å¼€é”€ã€‚<br />\nç”±äºå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹è¢«é«˜æ•ˆçš„æŠ½è±¡åœ¨ä¸€ä¸ªæ¥å£åé¢çš„äº‹å®ï¼Œè¿™ä¹Ÿä¼šç»™ä¾èµ–äºè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæœ‰å¤šå¤æ‚çš„å•å…ƒæµ‹è¯•å¸¦æ¥é—®é¢˜ã€‚<br />\nä¾‹å­</li>\n</ul>\n<p>æ›¾ç»æˆ‘ä»¬ç†Ÿæ‚‰çš„ JQuery çš„ $() å°±æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œå®ƒæ ¹æ®ä¼ å…¥å‚æ•°çš„ä¸åŒåˆ›å»ºå…ƒç´ æˆ–è€…å»å¯»æ‰¾ä¸Šä¸‹æ–‡ä¸­çš„å…ƒç´ ï¼Œåˆ›å»ºæˆç›¸åº”çš„ jQuery å¯¹è±¡</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">jQuery</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\">// æ­¤å¤„çœç•¥è‹¥å¹² API</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">$</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">jQuery</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>vue çš„å¼‚æ­¥ç»„ä»¶</li>\n</ul>\n<p>åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦çš„æ—¶å€™æ‰ä»æœåŠ¡å™¨åŠ è½½ä¸€ä¸ªæ¨¡å—ã€‚ä¸ºäº†ç®€åŒ–ï¼ŒVue å…è®¸ä½ ä»¥ä¸€ä¸ªå·¥å‚å‡½æ•°çš„æ–¹å¼å®šä¹‰ä½ çš„ç»„ä»¶ï¼Œè¿™ä¸ªå·¥å‚å‡½æ•°ä¼šå¼‚æ­¥è§£æä½ çš„ç»„ä»¶å®šä¹‰ã€‚Vue åªæœ‰åœ¨è¿™ä¸ªç»„ä»¶éœ€è¦è¢«æ¸²æŸ“çš„æ—¶å€™æ‰ä¼šè§¦å‘è¯¥å·¥å‚å‡½æ•°ï¼Œä¸”ä¼šæŠŠç»“æœç¼“å­˜èµ·æ¥ä¾›æœªæ¥é‡æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"async-example\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// å‘ `resolve` å›è°ƒä¼ é€’ç»„ä»¶å®šä¹‰</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;div>I am async!&lt;/div>\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#å•ä¾‹æ¨¡å¼\">#</a> å•ä¾‹æ¨¡å¼</h1>\n<p>ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">LoginForm</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token string\">\"hide\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">===</span> <span class=\"token string\">\"show\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²ç»æ˜¾ç¤º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token string\">\"show\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç™»å½•æ¡†æ˜¾ç¤ºæˆåŠŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">===</span> <span class=\"token string\">\"hide\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²ç»éšè—\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token string\">\"hide\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç™»å½•æ¡†éšè—æˆåŠŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>LoginForm<span class=\"token punctuation\">.</span>getInstance <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">let</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>instance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LoginForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token keyword\">let</span> obj1 <span class=\"token operator\">=</span> LoginForm<span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>obj1<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">let</span> obj2 <span class=\"token operator\">=</span> LoginForm<span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>obj2<span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj1 <span class=\"token operator\">===</span> obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>åˆ’åˆ†å‘½åç©ºé—´ï¼Œå‡å°‘å…¨å±€å˜é‡<br />\nå¢å¼ºæ¨¡å—æ€§ï¼ŒæŠŠè‡ªå·±çš„ä»£ç ç»„ç»‡åœ¨ä¸€ä¸ªå…¨å±€å˜é‡åä¸‹ï¼Œæ”¾åœ¨å•ä¸€ä½ç½®ï¼Œä¾¿äºç»´æŠ¤<br />\nä¸”åªä¼šå®ä¾‹åŒ–ä¸€æ¬¡ã€‚ç®€åŒ–äº†ä»£ç çš„è°ƒè¯•å’Œç»´æŠ¤</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>ç”±äºå•ä¾‹æ¨¡å¼æä¾›çš„æ˜¯ä¸€ç§å•ç‚¹è®¿é—®ï¼Œæ‰€ä»¥å®ƒæœ‰å¯èƒ½å¯¼è‡´æ¨¡å—é—´çš„å¼ºè€¦åˆ ä»è€Œä¸åˆ©äºå•å…ƒæµ‹è¯•ã€‚æ— æ³•å•ç‹¬æµ‹è¯•ä¸€ä¸ªè°ƒç”¨äº†æ¥è‡ªå•ä¾‹çš„æ–¹æ³•çš„ç±»ï¼Œè€Œåªèƒ½æŠŠå®ƒä¸é‚£ä¸ªå•ä¾‹ä½œä¸ºä¸€ä¸ªå•å…ƒä¸€èµ·æµ‹è¯•ã€‚</p>\n<ul>\n<li>åœºæ™¯ä¾‹å­</li>\n</ul>\n<p>å®šä¹‰å‘½åç©ºé—´å’Œå®ç°åˆ†æ”¯å‹æ–¹æ³•<br />\nç™»å½•æ¡†<br />\n vuex å’Œ redux ä¸­çš„ store</p>\n<h1 id=\"é€‚é…å™¨æ¨¡å¼0\"><a class=\"anchor\" href=\"#é€‚é…å™¨æ¨¡å¼0\">#</a> é€‚é…å™¨æ¨¡å¼ 0</h1>\n<p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬åŒ–ä¸ºå¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä»¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œä½¿ç±»ä¹‹é—´æ¥å£ä¸å…¼å®¹é—®é¢˜é€šè¿‡é€‚é…å™¨å¾—ä»¥è§£å†³ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Plug</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"iphone å……ç”µå¤´\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Target</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>plug <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Plug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>plug<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" é€‚é…å™¨ Type-c å……ç”µå¤´\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">let</span> target <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>target<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//iphone å……ç”µå¤´ é€‚é…å™¨è½¬ Type-c å……ç”µå¤´</span></pre></td></tr></table></figure><ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>å¯ä»¥è®©ä»»ä½•ä¸¤ä¸ªæ²¡æœ‰å…³è”çš„ç±»ä¸€èµ·è¿è¡Œã€‚<br />\næé«˜äº†ç±»çš„å¤ç”¨ã€‚<br />\né€‚é…å¯¹è±¡ï¼Œé€‚é…åº“ï¼Œé€‚é…æ•°æ®</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>é¢å¤–å¯¹è±¡çš„åˆ›å»ºï¼Œéç›´æ¥è°ƒç”¨ï¼Œå­˜åœ¨ä¸€å®šçš„å¼€é”€ï¼ˆä¸”ä¸åƒä»£ç†æ¨¡å¼åœ¨æŸäº›åŠŸèƒ½ç‚¹ä¸Šå¯å®ç°æ€§èƒ½ä¼˜åŒ–)<br />\n å¦‚æœæ²¡å¿…è¦ä½¿ç”¨é€‚é…å™¨æ¨¡å¼çš„è¯ï¼Œå¯ä»¥è€ƒè™‘é‡æ„ï¼Œå¦‚æœä½¿ç”¨çš„è¯ï¼Œå°½é‡æŠŠæ–‡æ¡£å®Œå–„</p>\n<ul>\n<li>åœºæ™¯</li>\n</ul>\n<p>æ•´åˆç¬¬ä¸‰æ–¹ SDK<br />\n å°è£…æ—§æ¥å£</p>\n<p>è‡ªå·±å°è£…çš„ ajaxï¼Œ ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/getData\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Post\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">dataType</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token number\">111</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// å› ä¸ºå†å²åŸå› ï¼Œä»£ç ä¸­å…¨éƒ½æ˜¯ï¼š</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// $.ajax(&#123;....&#125;)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// åšä¸€å±‚é€‚é…å™¨</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">var</span> $ <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function-variable function\">ajax</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>vue çš„ computed</p>\n<pre><code>&lt;template&gt;\n  &lt;div id=&quot;example&quot;&gt;\n    &lt;p&gt;Original message: &quot;&#123;&#123; message &#125;&#125;&quot;&lt;/p&gt;\n    &lt;!-- Hello --&gt;\n    &lt;p&gt;Computed reversed message: &quot;&#123;&#123; reversedMessage &#125;&#125;&quot;&lt;/p&gt;\n    &lt;!-- olleH --&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\nexport default &#123;\n  name: &quot;demo&quot;,\n  data() &#123;\n    return &#123;\n      message: &quot;Hello&quot;,\n    &#125;;\n  &#125;,\n  computed: &#123;\n    reversedMessage: function () &#123;\n      return this.message.split(&quot;&quot;).reverse().join(&quot;&quot;);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;/script&gt;\n</code></pre>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\nexport default &#123;\n  name: &quot;demo&quot;,\n  data() &#123;\n    return &#123;\n      message: &quot;Hello&quot;,\n    &#125;;\n  &#125;,\n  computed: &#123;\n    reversedMessage: function () &#123;\n      return this.message.split(&quot;&quot;).reverse().join(&quot;&quot;);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;/script&gt;\n</code></pre>\n<p>åŸæœ‰ data ä¸­çš„æ•°æ®ä¸æ»¡è¶³å½“å‰çš„è¦æ±‚ï¼Œé€šè¿‡è®¡ç®—å±æ€§çš„è§„åˆ™æ¥é€‚é…æˆæˆ‘ä»¬éœ€è¦çš„æ ¼å¼ï¼Œå¯¹åŸæœ‰æ•°æ®å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåªæ”¹å˜äº†åŸæœ‰æ•°æ®çš„è¡¨ç°å½¢å¼<br />\nä¸åŒç‚¹<br />\né€‚é…å™¨ä¸ä»£ç†æ¨¡å¼ç›¸ä¼¼</p>\n<p>é€‚é…å™¨æ¨¡å¼ï¼š æä¾›ä¸€ä¸ªä¸åŒçš„æ¥å£ï¼ˆå¦‚ä¸åŒç‰ˆæœ¬çš„æ’å¤´ï¼‰<br />\nä»£ç†æ¨¡å¼ï¼š æä¾›ä¸€æ¨¡ä¸€æ ·çš„æ¥å£</p>\n<h1 id=\"è£…é¥°è€…æ¨¡å¼\"><a class=\"anchor\" href=\"#è£…é¥°è€…æ¨¡å¼\">#</a> è£…é¥°è€…æ¨¡å¼</h1>\n<p>åŠ¨æ€åœ°ç»™æŸä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œï¼Œæ˜¯ä¸€ç§å®ç°ç»§æ‰¿çš„æ›¿ä»£æ–¹æ¡ˆ<br />\nåœ¨ä¸æ”¹å˜åŸå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¯¹å…¶è¿›è¡ŒåŒ…è£…æ‰©å±•ï¼Œä½¿åŸæœ‰å¯¹è±¡å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„æ›´å¤æ‚éœ€æ±‚ï¼Œè€Œä¸ä¼šå½±å“ä»è¿™ä¸ªç±»ä¸­æ´¾ç”Ÿçš„å…¶ä»–å¯¹è±¡</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Cellphone</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”Ÿæˆä¸€ä¸ªæ‰‹æœº\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Decorator</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cellphone</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cellphone <span class=\"token operator\">=</span> cellphone<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cellphone<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createShell</span><span class=\"token punctuation\">(</span>cellphone<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function\">createShell</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”Ÿæˆæ‰‹æœºå£³\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// æµ‹è¯•ä»£ç </span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">let</span> cellphone <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cellphone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>cellphone<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">let</span> dec <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Decorator</span><span class=\"token punctuation\">(</span>cellphone<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>dec<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­</li>\n</ul>\n<p>æ¯”å¦‚ç°åœ¨æœ‰ 4 ç§å‹å·çš„è‡ªè¡Œè½¦ï¼Œæˆ‘ä»¬ä¸ºæ¯ç§è‡ªè¡Œè½¦éƒ½å®šä¹‰äº†ä¸€ä¸ªå•<br />\nç‹¬çš„ç±»ã€‚ç°åœ¨è¦ç»™æ¯ç§è‡ªè¡Œè½¦éƒ½è£…ä¸Šå‰ç¯ã€å°¾<br />\nç¯å’Œé“ƒé“›è¿™ 3 ç§é…ä»¶ã€‚å¦‚æœä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ¥ç»™<br />\næ¯ç§è‡ªè¡Œè½¦åˆ›å»ºå­ç±»ï¼Œåˆ™éœ€è¦ 4Ã—3 = 12 ä¸ªå­ç±»ã€‚<br />\nä½†æ˜¯å¦‚æœæŠŠå‰ç¯ã€å°¾ç¯ã€é“ƒé“›è¿™äº›å¯¹è±¡åŠ¨æ€ç»„<br />\nåˆåˆ°è‡ªè¡Œè½¦ä¸Šé¢ï¼Œåˆ™åªéœ€è¦é¢å¤–å¢åŠ  3 ä¸ªç±»<br />\n ES7 Decorator é˜®ä¸€å³°<br />\n core-decorators</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>è£…é¥°ç±»å’Œè¢«è£…é¥°ç±»éƒ½åªå…³å¿ƒè‡ªèº«çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå®ç°äº†è§£è€¦ã€‚<br />\næ–¹ä¾¿åŠ¨æ€çš„æ‰©å±•åŠŸèƒ½ï¼Œä¸”æä¾›äº†æ¯”ç»§æ‰¿æ›´å¤šçš„çµæ´»æ€§ã€‚</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>å¤šå±‚è£…é¥°æ¯”è¾ƒå¤æ‚ã€‚<br />\nå¸¸å¸¸ä¼šå¼•å…¥è®¸å¤šå°å¯¹è±¡ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒç›¸ä¼¼ï¼Œå®é™…åŠŸèƒ½å¤§ç›¸å¾„åº­ï¼Œä»è€Œä½¿å¾—æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¶æ„å˜å¾—å¤æ‚èµ·æ¥</p>\n<h1 id=\"ä»£ç†æ¨¡å¼\"><a class=\"anchor\" href=\"#ä»£ç†æ¨¡å¼\">#</a> ä»£ç†æ¨¡å¼</h1>\n<blockquote>\n<p>ä»£ç†æ¨¡å¼å’Œä¸­ä»‹è€…æ¨¡å¼çš„åŒºåˆ«åœ¨äºï¼šä»£ç†æ¨¡å¼å¾€å¾€æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œä½†ä¸­ä»‹æ¨¡å¼å¾€å¾€æ˜¯ä¸€å¯¹å¤šã€‚<br />\næ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p>\n</blockquote>\n<p>å‡è®¾å½“ A åœ¨å¿ƒæƒ…å¥½çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½æˆåŠŸçš„å‡ ç‡æœ‰<br />\n 60%ï¼Œè€Œå½“ A åœ¨å¿ƒæƒ…å·®çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½çš„æˆåŠŸç‡æ— é™è¶‹è¿‘äº 0ã€‚<br />\nå°æ˜è·Ÿ A åˆšåˆšè®¤è¯†ä¸¤å¤©ï¼Œè¿˜æ— æ³•è¾¨åˆ« A ä»€ä¹ˆæ—¶å€™å¿ƒæƒ…å¥½ã€‚å¦‚æœä¸åˆæ—¶å®œåœ°æŠŠèŠ±é€ç»™ Aï¼ŒèŠ±<br />\nè¢«ç›´æ¥æ‰”æ‰çš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œè¿™æŸèŠ±å¯æ˜¯å°æ˜åƒäº† 7 å¤©æ³¡é¢æ¢æ¥çš„ã€‚<br />\nä½†æ˜¯ A çš„æœ‹å‹ B å´å¾ˆäº†è§£ Aï¼Œæ‰€ä»¥å°æ˜åªç®¡æŠŠèŠ±äº¤ç»™ Bï¼ŒB ä¼šç›‘å¬ A çš„å¿ƒæƒ…å˜åŒ–ï¼Œç„¶åé€‰<br />\næ‹© A å¿ƒæƒ…å¥½çš„æ—¶å€™æŠŠèŠ±è½¬äº¤ç»™ Aï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">Flower</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> xiaoming <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function-variable function\">sendFlower</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">let</span> flower <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Flower</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    target<span class=\"token punctuation\">.</span><span class=\"token function\">receiveFlower</span><span class=\"token punctuation\">(</span>flower<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">let</span> <span class=\"token constant\">B</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token function-variable function\">receiveFlower</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">flower</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenGoodMood</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span><span class=\"token function\">receiveFlower</span><span class=\"token punctuation\">(</span>flower<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">let</span> <span class=\"token constant\">A</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token function-variable function\">receiveFlower</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">flower</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ”¶åˆ°èŠ±\"</span> <span class=\"token operator\">+</span> flower<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token function-variable function\">listenGoodMood</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>xiaoming<span class=\"token punctuation\">.</span><span class=\"token function\">sendFlower</span><span class=\"token punctuation\">(</span><span class=\"token constant\">B</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯</li>\n</ul>\n<p>HTML å…ƒ ç´ äº‹ä»¶ä»£ç†</p>\n<pre><code>&lt;template&gt;\n  &lt;ul id=&quot;ul&quot;&gt;\n    &lt;li&gt;1&lt;/li&gt;\n    &lt;li&gt;2&lt;/li&gt;\n    &lt;li&gt;3&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/template&gt;\n&lt;script&gt;\nlet ul = document.querySelector(&quot;#ul&quot;);\nul.addEventListener(&quot;click&quot;, (event) =&gt; &#123;\n  console.log(event.target);\n&#125;);\n&lt;/script&gt;\n</code></pre>\n<p>ES6 çš„ proxy é˜®ä¸€å³° Proxy<br />\njQuery.proxy () æ–¹æ³•</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>ä»£ç†æ¨¡å¼èƒ½å°†ä»£ç†å¯¹è±¡ä¸è¢«è°ƒç”¨å¯¹è±¡åˆ†ç¦»ï¼Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨ï¼Œè¿™æ ·å¯ä»¥èµ·åˆ°ä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨<br />\nä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼›é€šè¿‡ä¿®æ”¹ä»£ç†å¯¹è±¡å°±å¯ä»¥äº†ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼›</p>\n<ul>\n<li>\n<p>ç¼ºç‚¹<br />\nå¤„ç†è¯·æ±‚é€Ÿåº¦å¯èƒ½æœ‰å·®åˆ«ï¼Œéç›´æ¥è®¿é—®å­˜åœ¨å¼€é”€</p>\n</li>\n<li>\n<p>ä¸åŒç‚¹<br />\nè£…é¥°è€…æ¨¡å¼å®ç°ä¸Šå’Œä»£ç†æ¨¡å¼ç±»ä¼¼</p>\n</li>\n</ul>\n<p>è£…é¥°è€…æ¨¡å¼ï¼š æ‰©å±•åŠŸèƒ½ï¼ŒåŸæœ‰åŠŸèƒ½ä¸å˜ä¸”å¯ç›´æ¥ä½¿ç”¨<br />\nä»£ç†æ¨¡å¼ï¼š æ˜¾ç¤ºåŸæœ‰åŠŸèƒ½ï¼Œä½†æ˜¯ç»è¿‡é™åˆ¶ä¹‹åçš„</p>\n<h1 id=\"å¤–è§‚æ¨¡å¼\"><a class=\"anchor\" href=\"#å¤–è§‚æ¨¡å¼\">#</a> å¤–è§‚æ¨¡å¼</h1>\n<p>ä¸ºå­ç³»ç»Ÿçš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œå®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨<br />\nå…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">addMyEvent</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> ev<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">.</span>addEventListener<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    el<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">.</span>attachEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    el<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"on\"</span> <span class=\"token operator\">+</span> ev<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    el<span class=\"token punctuation\">[</span><span class=\"token string\">\"on\"</span> <span class=\"token operator\">+</span> ev<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> fn<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// å°è£…æ¥å£</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">let</span> myEvent <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token comment\">// ...</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function-variable function\">stop</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    e<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>åœºæ™¯</p>\n<p>è®¾è®¡åˆæœŸï¼Œåº”è¯¥è¦æœ‰æ„è¯†åœ°å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œæ¯”å¦‚ç»å…¸çš„ä¸‰å±‚ç»“æ„ï¼Œåœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚ä¹‹é—´å»ºç«‹å¤–è§‚ Facade<br />\n åœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¢åŠ å¤–è§‚ Facade å¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘ä»–ä»¬ä¹‹é—´çš„ä¾èµ–ã€‚<br />\nåœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»å¾ˆéš¾ç»´æŠ¤äº†ï¼Œè¿™æ—¶å€™ä½¿ç”¨å¤–è§‚ Facade ä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ï¼Œä¸ºç³»ç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚ Facade ç±»ï¼Œä¸ºè®¾è®¡ç²—ç³™å’Œé«˜åº¦å¤æ‚çš„é—ç•™ä»£ç æä¾›æ¯”è¾ƒæ¸…æ™°çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿå’Œ Facade å¯¹è±¡äº¤äº’ï¼ŒFacade ä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰çš„å¤æ‚å·¥ä½œã€‚</p>\n<p>å‚è€ƒï¼š å¤§è¯è®¾è®¡æ¨¡å¼</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>å‡å°‘ç³»ç»Ÿç›¸äº’ä¾èµ–ã€‚<br />\næé«˜çµæ´»æ€§ã€‚<br />\næé«˜äº†å®‰å…¨æ€§</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¦‚æœè¦æ”¹ä¸œè¥¿å¾ˆéº»çƒ¦ï¼Œç»§æ‰¿é‡å†™éƒ½ä¸åˆé€‚ã€‚</p>\n<p>è§‚å¯Ÿè€…æ¨¡å¼<br />\nå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ï¼Œè¿™ä¸ªä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶å°±ä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶å®ƒå¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œå°±åº”è¯¥è€ƒè™‘ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</p>\n<h1 id=\"å‘å¸ƒ-è®¢é˜…\"><a class=\"anchor\" href=\"#å‘å¸ƒ-è®¢é˜…\">#</a> å‘å¸ƒ &amp; è®¢é˜…</h1>\n<ul>\n<li>ä¸€å¯¹å¤š</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ä¸»é¢˜ ä¿å­˜çŠ¶æ€ï¼ŒçŠ¶æ€å˜åŒ–ä¹‹åè§¦å‘æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Subject</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>observers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> state<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">notifyAllObservers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function\">notifyAllObservers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>observers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">observer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      observer<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token function\">attach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">observer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>observers<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>observer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// è§‚å¯Ÿè€…</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Observer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> subject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> subject<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subject<span class=\"token punctuation\">.</span><span class=\"token function\">attach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> update, state: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subject<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">// æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">let</span> s <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Subject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token keyword\">let</span> o1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Observer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"o1\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token keyword\">let</span> o2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Observer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"02\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>s<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯</li>\n</ul>\n<p>DOM äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>vue å“åº”å¼</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>æ”¯æŒç®€å•çš„å¹¿æ’­é€šä¿¡ï¼Œè‡ªåŠ¨é€šçŸ¥æ‰€æœ‰å·²ç»è®¢é˜…è¿‡çš„å¯¹è±¡<br />\nç›®æ ‡å¯¹è±¡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„æŠ½è±¡è€¦åˆå…³ç³»èƒ½å•ç‹¬æ‰©å±•ä»¥åŠé‡ç”¨<br />\nå¢åŠ äº†çµæ´»æ€§<br />\nè§‚å¯Ÿè€…æ¨¡å¼æ‰€åšçš„å·¥ä½œå°±æ˜¯åœ¨è§£è€¦ï¼Œè®©è€¦åˆçš„åŒæ–¹éƒ½ä¾èµ–äºæŠ½è±¡ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå…·ä½“ã€‚ä»è€Œä½¿å¾—å„è‡ªçš„å˜åŒ–éƒ½ä¸ä¼šå½±å“åˆ°å¦ä¸€è¾¹çš„å˜åŒ–ã€‚</p>\n<ul>\n<li>ç¼ºç‚¹<br />\nè¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„è”ç³»å¼±åŒ–ï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£</li>\n</ul>\n<h1 id=\"çŠ¶æ€æ¨¡å¼\"><a class=\"anchor\" href=\"#çŠ¶æ€æ¨¡å¼\">#</a> çŠ¶æ€æ¨¡å¼</h1>\n<p>å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// çŠ¶æ€ ï¼ˆå¼±å…‰ã€å¼ºå…‰ã€å…³ç¯ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> state<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">this is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> light</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    context<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Context</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> state<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">// test</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">let</span> weak <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">State</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"weak\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">let</span> strong <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">State</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">let</span> off <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">State</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"off\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// å¼±å…‰</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>weak<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">// å¼ºå…‰</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>strong<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">// å…³é—­</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>off<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>åœºæ™¯</p>\n<p>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸º<br />\nä¸€ä¸ªæ“ä½œä¸­å«æœ‰å¤§é‡çš„åˆ†æ”¯è¯­å¥ï¼Œè€Œä¸”è¿™äº›åˆ†æ”¯è¯­å¥ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€</p>\n<ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>å®šä¹‰äº†çŠ¶æ€ä¸è¡Œä¸ºä¹‹é—´çš„å…³ç³»ï¼Œå°è£…åœ¨ä¸€ä¸ªç±»é‡Œï¼Œæ›´ç›´è§‚æ¸…æ™°ï¼Œå¢æ”¹æ–¹ä¾¿<br />\nçŠ¶æ€ä¸çŠ¶æ€é—´ï¼Œè¡Œä¸ºä¸è¡Œä¸ºé—´å½¼æ­¤ç‹¬ç«‹äº’ä¸å¹²æ‰°<br />\nç”¨å¯¹è±¡ä»£æ›¿å­—ç¬¦ä¸²æ¥è®°å½•å½“å‰çŠ¶æ€ï¼Œä½¿å¾—çŠ¶æ€çš„åˆ‡æ¢æ›´åŠ ä¸€ç›®äº†ç„¶</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>ä¼šåœ¨ç³»ç»Ÿä¸­å®šä¹‰è®¸å¤šçŠ¶æ€ç±»<br />\né€»è¾‘åˆ†æ•£</p>\n<h1 id=\"è¿­ä»£å™¨æ¨¡å¼\"><a class=\"anchor\" href=\"#è¿­ä»£å™¨æ¨¡å¼\">#</a> è¿­ä»£å™¨æ¨¡å¼</h1>\n<p>æä¾›ä¸€ç§æ–¹æ³•é¡ºåºä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Iterator</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">conatiner</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> conatiner<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">>=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Container</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> list<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token function\">getIterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Iterator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// æµ‹è¯•ä»£ç </span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Container</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">let</span> iterator <span class=\"token operator\">=</span> container<span class=\"token punctuation\">.</span><span class=\"token function\">getIterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­</li>\n</ul>\n<p>Array.prototype.forEach<br />\njQuery ä¸­çš„ $.each ()<br />\nES6 Iterator</p>\n<ul>\n<li>ç‰¹ç‚¹</li>\n</ul>\n<p>è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— éœ€æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚<br />\nä¸ºéå†ä¸åŒçš„é›†åˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œä»è€Œæ”¯æŒåŒæ ·çš„ç®—æ³•åœ¨ä¸åŒçš„é›†åˆç»“æ„ä¸Šè¿›è¡Œæ“ä½œ</p>\n<ul>\n<li>æ€»ç»“<br />\nå¯¹äºé›†åˆå†…éƒ¨ç»“æœå¸¸å¸¸å˜åŒ–å„å¼‚ï¼Œä¸æƒ³æš´éœ²å…¶å†…éƒ¨ç»“æ„çš„è¯ï¼Œä½†åˆæƒ³è®©å®¢æˆ·ä»£ç é€æ˜çš„è®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼</li>\n</ul>\n<h1 id=\"æ¡¥æ¥æ¨¡å¼\"><a class=\"anchor\" href=\"#æ¡¥æ¥æ¨¡å¼\">#</a> æ¡¥æ¥æ¨¡å¼</h1>\n<p>æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Color</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">let</span> red <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">let</span> yellow <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yellow\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">let</span> circle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Shape</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"circle\"</span><span class=\"token punctuation\">,</span> red<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>circle<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">let</span> triangle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Shape</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"triangle\"</span><span class=\"token punctuation\">,</span> yellow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>triangle<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>ä¼˜ç‚¹</li>\n</ul>\n<p>æœ‰åŠ©äºç‹¬ç«‹åœ°ç®¡ç†å„ç»„æˆéƒ¨åˆ†ï¼Œ æŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦<br />\næé«˜å¯æ‰©å……æ€§</p>\n<ul>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>å¤§é‡çš„ç±»å°†å¯¼è‡´å¼€å‘æˆæœ¬çš„å¢åŠ ï¼ŒåŒæ—¶åœ¨æ€§èƒ½æ–¹é¢å¯èƒ½ä¹Ÿä¼šæœ‰æ‰€å‡å°‘ã€‚</p>\n<h1 id=\"ç»„åˆæ¨¡å¼\"><a class=\"anchor\" href=\"#ç»„åˆæ¨¡å¼\">#</a> ç»„åˆæ¨¡å¼</h1>\n<p>å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ï¼Œä»¥è¡¨ç¤º â€œæ•´ä½“ - éƒ¨åˆ†â€ çš„å±‚æ¬¡ç»“æ„ã€‚<br />\né€šè¿‡å¯¹è±¡çš„å¤šæ€è¡¨ç°ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">TrainOrder</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åˆ›å»ºç«è½¦ç¥¨è®¢å•\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">HotelOrder</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åˆ›å»ºé…’åº—è®¢å•\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">TotalOrder</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>orderList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token function\">addOrder</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">order</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>orderList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>orderList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      item<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">// å¯ä»¥åœ¨è´­ç¥¨ç½‘ç«™ä¹°è½¦ç¥¨åŒæ—¶ä¹Ÿè®¢æˆ¿é—´</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">let</span> train <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TrainOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">let</span> hotel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HotelOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">let</span> total <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TotalOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>total<span class=\"token punctuation\">.</span><span class=\"token function\">addOrder</span><span class=\"token punctuation\">(</span>train<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addOrder</span><span class=\"token punctuation\">(</span>hotel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯</li>\n</ul>\n<p>è¡¨ç¤ºå¯¹è±¡ - æ•´ä½“å±‚æ¬¡ç»“æ„<br />\nå¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡å’Œå•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç”¨æˆ·å°†ç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼ˆæ–¹æ³•ï¼‰</p>\n<ul>\n<li>ç¼ºç‚¹<br />\nå¦‚æœé€šè¿‡ç»„åˆæ¨¡å¼åˆ›å»ºäº†å¤ªå¤šçš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡å¯èƒ½ä¼šè®©ç³»ç»Ÿè´Ÿæ‹…ä¸èµ·ã€‚</li>\n</ul>\n<h1 id=\"åŸå‹æ¨¡å¼\"><a class=\"anchor\" href=\"#åŸå‹æ¨¡å¼\">#</a> åŸå‹æ¨¡å¼</h1>\n<p>åŸå‹æ¨¡å¼ï¼ˆprototypeï¼‰æ˜¯æŒ‡ç”¨åŸå‹å®ä¾‹æŒ‡å‘åˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Helloï¼Œ My name is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">let</span> student <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xiaoming\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>student<span class=\"token punctuation\">.</span><span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>åŸå‹æ¨¡å¼ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªå…±äº«çš„åŸå‹ï¼Œé€šè¿‡æ‹·è´è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„ç±»ï¼Œç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼Œå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ã€‚</p>\n<h1 id=\"ç­–ç•¥æ¨¡å¼\"><a class=\"anchor\" href=\"#ç­–ç•¥æ¨¡å¼\">#</a> ç­–ç•¥æ¨¡å¼</h1>\n<p>å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>ç­–ç•¥æ¨¡å¼-æ ¡éªŒè¡¨å•<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Content-Type<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>registerForm<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xxxx.com/api/register<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      ç”¨æˆ·åï¼š<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> å¯†ç ï¼š<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      æ‰‹æœºå·ç ï¼š<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>phoneNumber<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>æäº¤<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token comment\">// ç­–ç•¥å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token keyword\">const</span> strategies <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token function-variable function\">isNoEmpty</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> errorMsg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token function-variable function\">isNoSpace</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> errorMsg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token function-variable function\">minLength</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">,</span> errorMsg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token function-variable function\">maxLength</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">,</span> errorMsg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token function-variable function\">isMobile</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> errorMsg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token operator\">!</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|17[7]|18[0|1|2|3|5|6|7|8|9])\\d&#123;8&#125;$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>              value</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>          <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      <span class=\"token comment\">// éªŒè¯ç±»</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      <span class=\"token keyword\">class</span> <span class=\"token class-name\">Validator</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cache <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dom<span class=\"token punctuation\">,</span> rules</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>          <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> rule<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">(</span>rule <span class=\"token operator\">=</span> rules<span class=\"token punctuation\">[</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token keyword\">let</span> strategyAry <span class=\"token operator\">=</span> rule<span class=\"token punctuation\">.</span>strategy<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token keyword\">let</span> errorMsg <span class=\"token operator\">=</span> rule<span class=\"token punctuation\">.</span>errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>              <span class=\"token keyword\">let</span> strategy <span class=\"token operator\">=</span> strategyAry<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>              strategyAry<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span>dom<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>              strategyAry<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>              <span class=\"token keyword\">return</span> strategies<span class=\"token punctuation\">[</span>strategy<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>dom<span class=\"token punctuation\">,</span> strategyAry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>          <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> validatorFunc<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">(</span>validatorFunc <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">[</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            <span class=\"token keyword\">let</span> errorMsg <span class=\"token operator\">=</span> <span class=\"token function\">validatorFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>              <span class=\"token keyword\">return</span> errorMsg<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>      <span class=\"token comment\">// è°ƒç”¨ä»£ç </span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>      <span class=\"token keyword\">let</span> registerForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"registerForm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>      <span class=\"token keyword\">let</span> <span class=\"token function-variable function\">validataFunc</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token keyword\">let</span> validator <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Validator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        validator<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>registerForm<span class=\"token punctuation\">.</span>userName<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>            <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isNoEmpty\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>            <span class=\"token literal-property property\">errorMsg</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ç”¨æˆ·åä¸å¯ä¸ºç©º\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isNoSpace\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            <span class=\"token literal-property property\">errorMsg</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ä¸å…è®¸ä»¥ç©ºç™½å­—ç¬¦å‘½å\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>            <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"minLength:2\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>            <span class=\"token literal-property property\">errorMsg</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°äº2ä½\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        validator<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>registerForm<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>            <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"minLength:6\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            <span class=\"token literal-property property\">errorMsg</span><span class=\"token operator\">:</span> <span class=\"token string\">\"å¯†ç é•¿åº¦ä¸èƒ½å°äº6ä½\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        validator<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>registerForm<span class=\"token punctuation\">.</span>phoneNumber<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>            <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isMobile\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>            <span class=\"token literal-property property\">errorMsg</span><span class=\"token operator\">:</span> <span class=\"token string\">\"è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç æ ¼å¼\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        <span class=\"token keyword\">return</span> validator<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>      registerForm<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsubmit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        <span class=\"token keyword\">let</span> errorMsg <span class=\"token operator\">=</span> <span class=\"token function\">validataFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>          <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>          <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\nå¦‚æœåœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œé¢æœ‰è®¸å¤šç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå®ƒä»¬çš„ ' è¡Œä¸º 'ï¼Œé‚£ä¹ˆä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥åŠ¨æ€åœ°è®©ä¸€ä¸ªå¯¹è±¡åœ¨è®¸å¤šè¡Œä¸ºä¸­é€‰æ‹©ä¸€ç§è¡Œä¸ºã€‚<br />\nä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ã€‚<br />\nè¡¨å•éªŒè¯</li>\n<li>ä¼˜ç‚¹<br />\nåˆ©ç”¨ç»„åˆã€å§”æ‰˜ã€å¤šæ€ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œå¯ä»¥æœ‰æ•ˆçš„é¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥<br />\næä¾›äº†å¯¹å¼€æ”¾ - å°é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„ strategy ä¸­ï¼Œä½¿å¾—å®ƒä»¬æ˜“äºåˆ‡æ¢ï¼Œç†è§£ï¼Œæ˜“äºæ‰©å±•<br />\nåˆ©ç”¨ç»„åˆå’Œå§”æ‰˜æ¥è®© Context æ‹¥æœ‰æ‰§è¡Œç®—æ³•çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ç»§æ‰¿çš„ä¸€ç§æ›´è½»ä¾¿çš„ä»£æ›¿æ–¹æ¡ˆ</li>\n<li>ç¼ºç‚¹<br />\nä¼šåœ¨ç¨‹åºä¸­å¢åŠ è®¸å¤šç­–ç•¥ç±»æˆ–è€…ç­–ç•¥å¯¹è±¡<br />\nè¦ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå¿…é¡»äº†è§£æ‰€æœ‰çš„ strategyï¼Œå¿…é¡»äº†è§£å„ä¸ª strategy ä¹‹é—´çš„ä¸åŒç‚¹ï¼Œè¿™æ ·æ‰èƒ½é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ strategy</li>\n</ul>\n<h1 id=\"äº«å…ƒæ¨¡å¼\"><a class=\"anchor\" href=\"#äº«å…ƒæ¨¡å¼\">#</a> äº«å…ƒæ¨¡å¼</h1>\n<p>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚ç³»ç»Ÿåªä½¿ç”¨å°‘é‡çš„å¯¹è±¡ï¼Œè€Œè¿™äº›å¯¹è±¡éƒ½å¾ˆç›¸ä¼¼ï¼ŒçŠ¶æ€å˜åŒ–å¾ˆå°ï¼Œå¯ä»¥å®ç°å¯¹è±¡çš„å¤šæ¬¡å¤ç”¨ã€‚ç”±äºäº«å…ƒæ¨¡å¼è¦æ±‚èƒ½å¤Ÿå…±äº«çš„å¯¹è±¡å¿…é¡»æ˜¯ç»†ç²’åº¦å¯¹è±¡ï¼Œå› æ­¤å®ƒåˆç§°ä¸ºè½»é‡çº§æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ç§å¯¹è±¡ç»“æ„å‹æ¨¡å¼</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> examCarNum <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">// é©¾è€ƒè½¦æ€»æ•°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">///_ é©¾è€ƒè½¦å¯¹è±¡ _/</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExamCar</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">carType</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>examCarNum<span class=\"token operator\">++</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carId <span class=\"token operator\">=</span> examCarNum</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carType <span class=\"token operator\">=</span> carType <span class=\"token operator\">?</span> <span class=\"token string\">'æ‰‹åŠ¨æ¡£'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'è‡ªåŠ¨æ¡£'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>usingState <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// æ˜¯å¦æ­£åœ¨ä½¿ç”¨</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/* åœ¨æœ¬è½¦ä¸Šè€ƒè¯• */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">examine</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">candidateId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>usingState <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">è€ƒç”Ÿ- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> candidateId <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> å¼€å§‹åœ¨</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carType <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">é©¾è€ƒè½¦- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carId <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> ä¸Šè€ƒè¯•</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>usingState <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">%cè€ƒç”Ÿ- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> candidateId <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> åœ¨</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carType <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">é©¾è€ƒè½¦- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>carId <span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> ä¸Šè€ƒè¯•å®Œæ¯•</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color:#f40'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                       <span class=\"token comment\">// 0~2 ç§’åè€ƒè¯•å®Œæ¯•</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">///_ æ‰‹åŠ¨æ¡£æ±½è½¦å¯¹è±¡æ±  _/</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>ManualExamCarPool <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\\_pool<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// é©¾è€ƒè½¦å¯¹è±¡æ± </span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\\_candidateQueue<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è€ƒç”Ÿé˜Ÿåˆ—</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">/* æ³¨å†Œè€ƒç”Ÿ ID åˆ—è¡¨ */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token function\">registCandidates</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">candidateList</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  candidateList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">candidateId</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">registCandidate</span><span class=\"token punctuation\">(</span>candidateId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">/* æ³¨å†Œæ‰‹åŠ¨æ¡£è€ƒç”Ÿ */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">registCandidate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">candidateId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">const</span> examCar <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getManualExamCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// æ‰¾ä¸€ä¸ªæœªè¢«å ç”¨çš„æ‰‹åŠ¨æ¡£é©¾è€ƒè½¦</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>examCar<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      examCar<span class=\"token punctuation\">.</span><span class=\"token function\">examine</span><span class=\"token punctuation\">(</span>candidateId<span class=\"token punctuation\">)</span>           <span class=\"token comment\">// å¼€å§‹è€ƒè¯•ï¼Œè€ƒå®Œäº†è®©é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªè€ƒç”Ÿå¼€å§‹è€ƒè¯•</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token keyword\">const</span> nextCandidateId <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_candidateQueue<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_candidateQueue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            nextCandidateId <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">registCandidate</span><span class=\"token punctuation\">(</span>nextCandidateId<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_candidateQueue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>candidateId<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\">/* æ³¨å†Œæ‰‹åŠ¨æ¡£è½¦ */</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token function\">initManualExamCar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">manualExamCarNum</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> manualExamCarNum<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_pool<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ExamCar</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">/* è·å–çŠ¶æ€ä¸ºæœªè¢«å ç”¨çš„æ‰‹åŠ¨æ¡£è½¦ */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token function\">getManualExamCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_pool<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">car</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>car<span class=\"token punctuation\">.</span>usingState<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>ManualExamCarPool<span class=\"token punctuation\">.</span><span class=\"token function\">initManualExamCar</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ä¸€å…±æœ‰ 3 ä¸ªé©¾è€ƒè½¦</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>ManualExamCarPool<span class=\"token punctuation\">.</span><span class=\"token function\">registCandidates</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 10 ä¸ªè€ƒç”Ÿæ¥è€ƒè¯•</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\næ–‡ä»¶ä¸Šä¼ éœ€è¦åˆ›å»ºå¤šä¸ªæ–‡ä»¶å®ä¾‹çš„æ—¶å€™<br />\nå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ï¼Œè€Œè¿™äº›å¤§é‡çš„å¯¹è±¡é€ æˆäº†å¾ˆå¤§çš„å­˜å‚¨å¼€é”€æ—¶å°±åº”è¯¥è€ƒè™‘ä½¿ç”¨äº«å…ƒæ¨¡å¼</li>\n<li>ä¼˜ç‚¹<br />\nå¤§å¤§å‡å°‘å¯¹è±¡çš„åˆ›å»ºï¼Œé™ä½ç³»ç»Ÿçš„å†…å­˜ï¼Œä½¿æ•ˆç‡æé«˜ã€‚</li>\n<li>ç¼ºç‚¹</li>\n</ul>\n<p>æé«˜äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œéœ€è¦åˆ†ç¦»å‡ºå¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€ï¼Œè€Œä¸”å¤–éƒ¨çŠ¶æ€å…·æœ‰å›ºæœ‰åŒ–çš„æ€§è´¨ï¼Œ<br />\nä¸åº”è¯¥éšç€å†…éƒ¨çŠ¶æ€çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå¦åˆ™ä¼šé€ æˆç³»ç»Ÿçš„æ··ä¹±</p>\n<h1 id=\"æ¨¡æ¿æ–¹æ³•æ¨¡å¼\"><a class=\"anchor\" href=\"#æ¨¡æ¿æ–¹æ³•æ¨¡å¼\">#</a> æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h1>\n<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†ç»“æ„ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“çš„å®ç°å­ç±»ã€‚é€šå¸¸åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•å’Œå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚å­ç±»é€šè¿‡ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿç»§æ‰¿äº†æ•´ä¸ªç®—æ³•ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Beverage</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> brewDrink<span class=\"token punctuation\">,</span> addCondiment <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>brewDrink <span class=\"token operator\">=</span> brewDrink<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>addCondiment <span class=\"token operator\">=</span> addCondiment<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\">///_ çƒ§å¼€æ°´ï¼Œå…±ç”¨æ–¹æ³• _/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">boilWater</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ°´å·²ç»ç…®æ²¸=== å…±ç”¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">///_ å€’æ¯å­é‡Œï¼Œå…±ç”¨æ–¹æ³• _/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token function\">pourCup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å€’è¿›æ¯å­é‡Œ===å…±ç”¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">///_ æ¨¡æ¿æ–¹æ³• _/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">boilWater</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">brewDrink</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">pourCup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addCondiment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">_ å’–å•¡ _</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">const</span> coffee <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Beverage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token comment\">///_ å†²æ³¡å’–å•¡ï¼Œè¦†ç›–æŠ½è±¡æ–¹æ³• _/</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token function-variable function\">brewDrink</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†²æ³¡å’–å•¡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token comment\">///_ åŠ è°ƒå‘³å“ï¼Œè¦†ç›–æŠ½è±¡æ–¹æ³• _/</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token function-variable function\">addCondiment</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åŠ ç‚¹å¥¶å’Œç³–\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>coffee<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\nä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜çš„éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°<br />\nå­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­çš„é¿å…ä»£ç é‡å¤</li>\n<li>ä¼˜ç‚¹<br />\næå–äº†å…¬å…±ä»£ç éƒ¨åˆ†ï¼Œæ˜“äºç»´æŠ¤</li>\n<li>ç¼ºç‚¹<br />\nå¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦ï¼Œä¸»è¦æ˜¯å¢åŠ äº†çš„æŠ½è±¡ç±»å’Œç±»é—´è”ç³»</li>\n</ul>\n<h1 id=\"èŒè´£é“¾æ¨¡å¼\"><a class=\"anchor\" href=\"#èŒè´£é“¾æ¨¡å¼\">#</a> èŒè´£é“¾æ¨¡å¼</h1>\n<p>ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// è¯·å‡å®¡æ‰¹ï¼Œéœ€è¦ç»„é•¿å®¡æ‰¹ã€ç»ç†å®¡æ‰¹ã€æ€»ç›‘å®¡æ‰¹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Action</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextAction <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">setNextAction</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextAction <span class=\"token operator\">=</span> action<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> å®¡æ‰¹</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextAction <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextAction<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">let</span> a1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Action</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»„é•¿\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">let</span> a2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Action</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»ç†\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">let</span> a3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Action</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ€»ç›‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>a1<span class=\"token punctuation\">.</span><span class=\"token function\">setNextAction</span><span class=\"token punctuation\">(</span>a2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>a2<span class=\"token punctuation\">.</span><span class=\"token function\">setNextAction</span><span class=\"token punctuation\">(</span>a3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>a1<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\n JS ä¸­çš„äº‹ä»¶å†’æ³¡<br />\nä½œç”¨åŸŸé“¾<br />\nåŸå‹é“¾</li>\n<li>ä¼˜ç‚¹<br />\né™ä½è€¦åˆåº¦ã€‚å®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚<br />\nç®€åŒ–äº†å¯¹è±¡ã€‚ä½¿å¾—å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„<br />\nå¢å¼ºç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚é€šè¿‡æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œå…è®¸åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»<br />\nå¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»å¾ˆæ–¹ä¾¿ã€‚</li>\n<li>ç¼ºç‚¹<br />\nä¸èƒ½ä¿è¯æŸä¸ªè¯·æ±‚ä¸€å®šä¼šè¢«é“¾ä¸­çš„èŠ‚ç‚¹å¤„ç†ï¼Œè¿™ç§æƒ…å†µå¯ä»¥åœ¨é“¾å°¾å¢åŠ ä¸€ä¸ªä¿åº•çš„æ¥å—è€…èŠ‚ç‚¹æ¥å¤„ç†è¿™ç§å³å°†ç¦»å¼€é“¾å°¾çš„è¯·æ±‚ã€‚<br />\nä½¿ç¨‹åºä¸­å¤šäº†å¾ˆå¤šèŠ‚ç‚¹å¯¹è±¡ï¼Œå¯èƒ½å†ä¸€æ¬¡è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†çš„èŠ‚ç‚¹å¹¶æ²¡æœ‰èµ·åˆ°å®è´¨æ€§çš„ä½œç”¨ã€‚ä»–ä»¬çš„ä½œç”¨ä»…ä»…æ˜¯è®©è¯·æ±‚ä¼ é€’ä¸‹å»ï¼Œä»æ€§èƒ½å½“é¢è€ƒè™‘ï¼Œè¦é¿å…è¿‡é•¿çš„èŒè´£é“¾åˆ°æ¥çš„æ€§èƒ½æŸè€—ã€‚</li>\n</ul>\n<h1 id=\"å‘½ä»¤æ¨¡å¼\"><a class=\"anchor\" href=\"#å‘½ä»¤æ¨¡å¼\">#</a> å‘½ä»¤æ¨¡å¼</h1>\n<blockquote>\n<p>ç®€å•ç†è§£ä¸ºä¸€ä¸ªç±»ï¼Œå…‰ä¼ é€’å†…éƒ¨æ•°æ®è€Œä¸æ‰§è¡Œè¿‡ç¨‹ï¼Œç±»ä¼¼äºæ§åˆ¶åè½¬<br />\nå°†ä¸€ä¸ªè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œè®©ä½ ä½¿ç”¨ä¸åŒçš„è¯·æ±‚æŠŠå®¢æˆ·ç«¯å‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå¯ä»¥æä¾›å‘½ä»¤çš„æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ¥æ”¶è€…ç±»</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Receiver</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¥æ”¶è€…æ‰§è¡Œè¯·æ±‚\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// å‘½ä»¤è€…</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Command</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">receiver</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>receiver <span class=\"token operator\">=</span> receiver<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‘½ä»¤\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>receiver<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// è§¦å‘è€…</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Invoker</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">command</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>command <span class=\"token operator\">=</span> command<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¼€å§‹\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>command<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// ä»“åº“</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">const</span> warehouse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Receiver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">// è®¢å•</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token keyword\">const</span> order <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Command</span><span class=\"token punctuation\">(</span>warehouse<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\">// å®¢æˆ·</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">const</span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Invoker</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>client<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>ä¼˜ç‚¹<br />\nå¯¹å‘½ä»¤è¿›è¡Œå°è£…ï¼Œä½¿å‘½ä»¤æ˜“äºæ‰©å±•å’Œä¿®æ”¹<br />\nå‘½ä»¤å‘å‡ºè€…å’Œæ¥å—è€…è§£è€¦ï¼Œä½¿å‘å‡ºè€…ä¸éœ€è¦çŸ¥é“å‘½ä»¤çš„å…·ä½“æ‰§è¡Œè¿‡ç¨‹å³å¯æ‰§è¡Œ</li>\n<li>ç¼ºç‚¹<br />\nä½¿ç”¨å‘½ä»¤æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ã€‚</li>\n</ul>\n<h1 id=\"å¤‡å¿˜å½•æ¨¡å¼\"><a class=\"anchor\" href=\"#å¤‡å¿˜å½•æ¨¡å¼\">#</a> å¤‡å¿˜å½•æ¨¡å¼</h1>\n<p>åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯å°†è¯¥å¯¹è±¡æ¢å¤åˆ°ä¿å­˜çš„çŠ¶æ€ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å¤‡å¿˜ç±»</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Memento</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">content</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> content<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// å¤‡å¿˜åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">CareTaker</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memento</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>memento<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">// ç¼–è¾‘å™¨</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Editor</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">content</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> content<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token function\">saveContentToMemento</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Memento</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token function\">getContentFromMemento</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memento</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> memento<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token comment\">// æµ‹è¯•ä»£ç </span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token keyword\">let</span> editor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Editor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">let</span> careTaker <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CareTaker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"111\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"222\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>careTaker<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">.</span><span class=\"token function\">saveContentToMemento</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"333\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>careTaker<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">.</span><span class=\"token function\">saveContentToMemento</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"444\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//444</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">getContentFromMemento</span><span class=\"token punctuation\">(</span>careTaker<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//333</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>editor<span class=\"token punctuation\">.</span><span class=\"token function\">getContentFromMemento</span><span class=\"token punctuation\">(</span>careTaker<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//222</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\nåˆ†é¡µæ§ä»¶<br />\næ’¤é”€ç»„ä»¶</li>\n<li>ä¼˜ç‚¹<br />\nç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æˆ·èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å›åˆ°æŸä¸ªå†å²çš„çŠ¶æ€</li>\n<li>ç¼ºç‚¹<br />\næ¶ˆè€—èµ„æºã€‚å¦‚æœç±»çš„æˆå‘˜å˜é‡è¿‡å¤šï¼ŒåŠ¿å¿…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„èµ„æºï¼Œè€Œä¸”æ¯ä¸€æ¬¡ä¿å­˜éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„å†…å­˜ã€‚</li>\n</ul>\n<h1 id=\"ä¸­ä»‹è€…æ¨¡å¼\"><a class=\"anchor\" href=\"#ä¸­ä»‹è€…æ¨¡å¼\">#</a> ä¸­ä»‹è€…æ¨¡å¼</h1>\n<blockquote>\n<p>ä»£ç†æ¨¡å¼å’Œä¸­ä»‹è€…æ¨¡å¼çš„åŒºåˆ«åœ¨äºï¼šä»£ç†æ¨¡å¼å¾€å¾€æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œä½†ä¸­ä»‹æ¨¡å¼å¾€å¾€æ˜¯ä¸€å¯¹å¤šã€‚<br />\nè§£é™¤å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»ã€‚å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡åï¼Œæ‰€æœ‰çš„ ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªéœ€è¦é€šçŸ¥ ä¸­ä»‹è€…å¯¹è±¡å³å¯ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¹‹é—´è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ä¸­ä»‹è€…<br />\næ¨¡å¼ä½¿ç½‘çŠ¶çš„å¤šå¯¹å¤šå…³ç³»å˜æˆäº†ç›¸å¯¹ç®€å•çš„ä¸€å¯¹å¤šå…³ç³»ï¼ˆç±»ä¼¼äºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä½†æ˜¯å•å‘çš„ï¼Œç”±ä¸­ä»‹è€…ç»Ÿä¸€ç®¡ç†ã€‚ï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>number <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num<span class=\"token punctuation\">,</span> m</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>number <span class=\"token operator\">=</span> num<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      m<span class=\"token punctuation\">.</span><span class=\"token function\">setB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>number <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num<span class=\"token punctuation\">,</span> m</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>number <span class=\"token operator\">=</span> num<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      m<span class=\"token punctuation\">.</span><span class=\"token function\">setA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Mediator</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>b <span class=\"token operator\">=</span> b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token function\">setA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">let</span> number <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span>number <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token function\">setB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">let</span> number <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">.</span><span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span>number <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">let</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token keyword\">let</span> m <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Mediator</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>a<span class=\"token punctuation\">.</span><span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>b<span class=\"token punctuation\">.</span><span class=\"token function\">setNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\nç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´å­˜åœ¨æ¯”è¾ƒå¤æ‚çš„å¼•ç”¨å…³ç³»ï¼Œå¯¼è‡´å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±è€Œä¸”éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡<br />\næƒ³é€šè¿‡ä¸€ä¸ªä¸­é—´ç±»æ¥å°è£…å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚</li>\n<li>ä¼˜ç‚¹<br />\nä½¿å„å¯¹è±¡ä¹‹é—´è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’<br />\nä¸­ä»‹è€…å’Œå¯¹è±¡ä¸€å¯¹å¤šçš„å…³ç³»å–ä»£äº†å¯¹è±¡ä¹‹é—´çš„ç½‘çŠ¶å¤šå¯¹å¤šçš„å…³ç³»<br />\nå¦‚æœå¯¹è±¡ä¹‹é—´çš„å¤æ‚è€¦åˆåº¦å¯¼è‡´ç»´æŠ¤å¾ˆå›°éš¾ï¼Œè€Œä¸”è€¦åˆåº¦éšé¡¹ç›®å˜åŒ–å¢é€Ÿå¾ˆå¿«ï¼Œå°±éœ€è¦ä¸­ä»‹è€…é‡æ„ä»£ç </li>\n<li>ç¼ºç‚¹<br />\nç³»ç»Ÿä¸­ä¼šæ–°å¢ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œå›  ä¸ºå¯¹è±¡ä¹‹é—´äº¤äº’çš„å¤æ‚æ€§ï¼Œè½¬ç§»æˆäº†ä¸­ä»‹è€…å¯¹è±¡çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä¸­ä»‹è€…å¯¹è±¡ç»å¸¸æ˜¯å·¨å¤§çš„ã€‚ä¸­ä»‹ è€…å¯¹è±¡è‡ªèº«å¾€å¾€å°±æ˜¯ä¸€ä¸ªéš¾ä»¥ç»´æŠ¤çš„å¯¹è±¡ã€‚</li>\n</ul>\n<h1 id=\"è§£é‡Šå™¨æ¨¡å¼\"><a class=\"anchor\" href=\"#è§£é‡Šå™¨æ¨¡å¼\">#</a> è§£é‡Šå™¨æ¨¡å¼</h1>\n<p>ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¯¥è§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Context</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å­˜æ”¾ ç»ˆç»“ç¬¦è¡¨è¾¾å¼</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å­˜æ”¾ éç»ˆç»“ç¬¦è¡¨è¾¾å¼ (è¿ç®—ç»“æœ)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">get</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">set</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newValue</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_sum <span class=\"token operator\">=</span> newValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">expression</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_list<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>expression<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">get</span> <span class=\"token function\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_list<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">PlusExpression</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token function\">interpret</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>context <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TypeError\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    context<span class=\"token punctuation\">.</span>sum <span class=\"token operator\">=</span> <span class=\"token operator\">++</span>context<span class=\"token punctuation\">.</span>sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">MinusExpression</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token function\">interpret</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>context <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TypeError\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    context<span class=\"token punctuation\">.</span>sum <span class=\"token operator\">=</span> <span class=\"token operator\">--</span>context<span class=\"token punctuation\">.</span>sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">/** ä»¥ä¸‹æ˜¯æµ‹è¯•ä»£ç  **/</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">// ä¾æ¬¡æ·»åŠ ï¼šåŠ æ³• | åŠ æ³• | å‡æ³• è¡¨è¾¾å¼</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>context<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">PlusExpression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>context<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">PlusExpression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>context<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MinusExpression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\">// ä¾æ¬¡æ‰§è¡Œï¼šåŠ æ³• | åŠ æ³• | å‡æ³• è¡¨è¾¾å¼</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>context<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">expression</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> expression<span class=\"token punctuation\">.</span><span class=\"token function\">interpret</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>ä¼˜ç‚¹<br />\næ˜“äºæ”¹å˜å’Œæ‰©å±•æ–‡æ³•ã€‚<br />\nç”±äºåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨ç±»æ¥è¡¨ç¤ºè¯­è¨€çš„æ–‡æ³•è§„åˆ™ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç»§æ‰¿ç­‰æœºåˆ¶æ¥æ”¹å˜æˆ–æ‰©å±•æ–‡æ³•</li>\n<li>ç¼ºç‚¹<br />\næ‰§è¡Œæ•ˆç‡è¾ƒä½ï¼Œåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨äº†å¤§é‡çš„å¾ªç¯å’Œé€’å½’è°ƒç”¨ï¼Œå› æ­¤åœ¨è§£é‡Šè¾ƒä¸ºå¤æ‚çš„å¥å­æ—¶å…¶é€Ÿåº¦æ…¢<br />\nå¯¹äºå¤æ‚çš„æ–‡æ³•æ¯”è¾ƒéš¾ç»´æŠ¤</li>\n</ul>\n<h1 id=\"è®¿é—®è€…æ¨¡å¼\"><a class=\"anchor\" href=\"#è®¿é—®è€…æ¨¡å¼\">#</a> è®¿é—®è€…æ¨¡å¼</h1>\n<p>è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// è®¿é—®è€…</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Visitor</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token function\">visitConcreteElement</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ConcreteElement</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    ConcreteElement<span class=\"token punctuation\">.</span><span class=\"token function\">operation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// å…ƒç´ ç±»</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">ConcreteElement</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token function\">operation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ConcreteElement.operation invoked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">visitor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    visitor<span class=\"token punctuation\">.</span><span class=\"token function\">visitConcreteElement</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// client</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">let</span> visitor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Visitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">let</span> element <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConcreteElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>element<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>visitor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>åœºæ™¯ä¾‹å­<br />\nå¯¹è±¡ç»“æ„ä¸­å¯¹è±¡å¯¹åº”çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤å¯¹è±¡ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œ<br />\néœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œéœ€è¦é¿å…è®©è¿™äº›æ“ä½œ &quot;æ±¡æŸ“&quot; è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä¹Ÿä¸å¸Œæœ›åœ¨å¢åŠ æ–°æ“ä½œæ—¶ä¿®æ”¹è¿™äº›ç±»ã€‚</li>\n<li>ä¼˜ç‚¹<br />\nç¬¦åˆå•ä¸€èŒè´£åŸåˆ™<br />\nä¼˜ç§€çš„æ‰©å±•æ€§<br />\nçµæ´»æ€§</li>\n<li>ç¼ºç‚¹<br />\nå…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œè¿åäº†è¿ªç±³ç‰¹åŸåˆ™<br />\nè¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œä¾èµ–äº†å…·ä½“ç±»ï¼Œæ²¡æœ‰ä¾èµ–æŠ½è±¡ã€‚<br />\nå…·ä½“å…ƒç´ å˜æ›´æ¯”è¾ƒå›°éš¾</li>\n</ul>\n<h1 id=\"è®¾è®¡åŸåˆ™\"><a class=\"anchor\" href=\"#è®¾è®¡åŸåˆ™\">#</a> è®¾è®¡åŸåˆ™</h1>\n<h2 id=\"é¢å‘å¯¹è±¡\"><a class=\"anchor\" href=\"#é¢å‘å¯¹è±¡\">#</a> é¢å‘å¯¹è±¡</h2>\n<h4 id=\"å¼€æ”¾å°é—­åŸåˆ™\"><a class=\"anchor\" href=\"#å¼€æ”¾å°é—­åŸåˆ™\">#</a> å¼€æ”¾å°é—­åŸåˆ™</h4>\n<blockquote>\n<p>å¼€æ”¾å°é—­åŸåˆ™çš„æ ¸å¿ƒæ˜¯ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚</p>\n</blockquote>\n<ul>\n<li>å¯¹æ‰©å±•å¼€æ”¾æ„å‘³ç€ï¼šè½¯ä»¶å®ä½“ï¼ˆå¦‚ç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”è¯¥æ˜“äºæ‰©å±•ï¼Œå³ï¼šä¸ä¿®æ”¹ç°æœ‰ä»£ç çš„åŸºç¡€ä¸Šæ·»åŠ æ–°çš„åŠŸèƒ½</li>\n<li>å¯¹ä¿®æ”¹å°é—­æ„å‘³ç€ï¼šè½¯ä»¶å®ä½“åº”è¯¥é¿å…ä¿®æ”¹ï¼Œå°¤å…¶æ˜¯å·²ç»ç»è¿‡æµ‹è¯•å¹¶è¢«è¯æ˜æ˜¯ç¨³å®šçš„ä»£ç </li>\n</ul>\n<h4 id=\"å•ä¸€åŠŸèƒ½åŸåˆ™\"><a class=\"anchor\" href=\"#å•ä¸€åŠŸèƒ½åŸåˆ™\">#</a> å•ä¸€åŠŸèƒ½åŸåˆ™</h4>\n<blockquote>\n<p>å•ä¸€åŠŸèƒ½åŸåˆ™çš„æ ¸å¿ƒæ˜¯ï¼šä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·ä»–å˜åŒ–çš„åŸå› ï¼Œå®ƒå¼ºè°ƒçš„æ˜¯ç±»çš„èŒè´£åº”è¯¥æ¸…æ™°æ˜ç¡®ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹ä»»åŠ¡æˆ–åŠŸèƒ½ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†é™ä½ç±»çš„å¤æ‚æ€§ï¼Œå¢åŠ ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯å¤ç”¨æ€§ã€‚</p>\n</blockquote>\n<h4 id=\"é‡Œæ°æ›¿æ¢åŸåˆ™\"><a class=\"anchor\" href=\"#é‡Œæ°æ›¿æ¢åŸåˆ™\">#</a> é‡Œæ°æ›¿æ¢åŸåˆ™</h4>\n<blockquote>\n<p>é‡Œæ°æ›¿æ¢åŸåˆ™æ˜¯å®ç°å¼€æ”¾å°é—­åŸåˆ™çš„æ–¹å¼ä¹‹ä¸€ï¼Œé‡Œæ°æ›¿æ¢åŸåˆ™é€šä¿—æ¥è®²å°±æ˜¯ï¼šå­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œé™¤æ·»åŠ æ–°çš„æ–¹æ³•å®Œæˆæ–°å¢åŠŸèƒ½å¤–ï¼Œå°½é‡ä¸è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>\n</blockquote>\n<h4 id=\"æœ€å°‘çŸ¥è¯†åŸåˆ™\"><a class=\"anchor\" href=\"#æœ€å°‘çŸ¥è¯†åŸåˆ™\">#</a> æœ€å°‘çŸ¥è¯†åŸåˆ™</h4>\n<blockquote>\n<p>æœ€å°‘çŸ¥è¯†åŸåˆ™åˆç§°è¿ªç±³ç‰¹æ³•åˆ™ï¼Œæ„æ€æ˜¯ï¼šå¦‚æœä¸¤ä¸ªè½¯ä»¶å®ä½“æ— é¡»ç›´æ¥é€šä¿¡ï¼Œé‚£ä¹ˆå°±ä¸åº”å½“å‘ç”Ÿç›´æ¥çš„ç›¸äº’è°ƒç”¨ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹è½¬å‘è¯¥è°ƒç”¨ã€‚å…¶ç›®çš„æ˜¯é™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œæé«˜æ¨¡å—çš„ç›¸å¯¹ç‹¬ç«‹æ€§ã€‚<br />\næœ€å°‘çŸ¥è¯†åŸåˆ™é™ä½äº†ç±»çš„è€¦åˆæ€§ï¼Œæé«˜äº†æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œä»è€Œæå‡äº†æ¨¡å—çš„å¯å¤ç”¨ç‡å’Œç³»ç»Ÿçš„æ‰©å±•æ€§ã€‚ä½†æ˜¯è¿‡åº¦ä½¿ç”¨åˆ™ä¼šä½¿ç³»ç»Ÿäº§ç”Ÿå¤§é‡çš„ä¸­ä»‹ç±»ï¼Œä»è€Œå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</p>\n</blockquote>\n<h4 id=\"åˆæˆå¤ç”¨åŸåˆ™\"><a class=\"anchor\" href=\"#åˆæˆå¤ç”¨åŸåˆ™\">#</a> åˆæˆå¤ç”¨åŸåˆ™</h4>\n<blockquote>\n<p>ç±»çš„å¤ç”¨åˆ†ä¸ºä¸¤ç§ï¼šç»§æ‰¿å¤ç”¨å’Œåˆæˆå¤ç”¨</p>\n</blockquote>\n<ul>\n<li>ç»§æ‰¿å¤ç”¨çš„ä¼˜ç‚¹ï¼šç®€å•æ¸…æ™°ï¼Œæ˜“äºå®ç°</li>\n<li>ç»§æ‰¿å¤ç”¨çš„ç¼ºç‚¹ï¼šç ´åäº†ç±»çš„å°è£…æ€§ï¼ˆç»§æ‰¿ä¼šå°†çˆ¶ç±»çš„å®ç°ç»†èŠ‚æš´éœ²ç»™å­ç±»ï¼Œå› æ­¤è¿™ç§å¤ç”¨åˆç§°ä¸ºç™½ç®±å¤ç”¨ï¼‰ã€å­ç±»ä¸çˆ¶ç±»çš„è€¦åˆåº¦é«˜ï¼Œçˆ¶ç±»çš„å®ç°æ”¹å˜ä¼šå¯¼è‡´å­ç±»çš„å®ç°æ”¹å˜ã€‚</li>\n<li>åˆæˆå¤ç”¨çš„ä¼˜ç‚¹ï¼šç»´æŒäº†ç±»çš„å°è£…æ€§ï¼ˆå¯¹è±¡å†…éƒ¨ç»†èŠ‚å¯¹å¤–éƒ¨æ˜¯ä¸å¯è§çš„ï¼Œå› æ­¤åˆç§°ä¸ºé»‘ç›’å¤ç”¨ï¼‰ã€æ–°ç±»å’Œæ—§ç±»ä¹‹é—´è€¦åˆåº¦ä½ã€å¤ç”¨çš„çµæ´»æ€§é«˜</li>\n<li>åˆæˆå¤ç”¨çš„ç¼ºç‚¹ï¼šå®ç°å¤æ‚ã€ä»£ç é‡å¤š</li>\n</ul>\n<blockquote>\n<p>åˆæˆå¤ç”¨åŸåˆ™æ˜¯é€šè¿‡å°†å·²æœ‰çš„å¯¹è±¡çº³å…¥æ–°å¯¹è±¡ä¸­ï¼Œä½œä¸ºæ–°å¯¹è±¡çš„æˆå‘˜å¯¹è±¡æ¥å®ç°çš„ï¼Œæ–°å¯¹è±¡å¯ä»¥è°ƒç”¨å·²æœ‰å¯¹è±¡çš„åŠŸèƒ½ï¼Œä»è€Œè¾¾åˆ°å¤ç”¨ã€‚</p>\n</blockquote>\n<h2 id=\"é¢å‘æ¥å£\"><a class=\"anchor\" href=\"#é¢å‘æ¥å£\">#</a> é¢å‘æ¥å£</h2>\n<h4 id=\"ä¾èµ–å€’ç½®åŸåˆ™\"><a class=\"anchor\" href=\"#ä¾èµ–å€’ç½®åŸåˆ™\">#</a> ä¾èµ–å€’ç½®åŸåˆ™</h4>\n<blockquote>\n<p>ä¾èµ–å€’ç½®åŸåˆ™ï¼šç¨‹åºè¦ä¾èµ–äºæŠ½è±¡æ¥å£ï¼Œè€Œä¸è¦ä¾èµ–äºå…·ä½“çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚<br />\nä¾èµ–å€’ç½®åŸåˆ™çš„æ ¸å¿ƒæ˜¯ï¼šé€šè¿‡é¢å‘æ¥å£çš„ç¼–ç¨‹æ¥é™ä½ç±»ä¹‹é—´çš„è€¦åˆæ€§ã€‚<br />\n <code>ä¾èµ–å€’ç½®</code> æ˜¯é¢å‘æ¥å£é¢†åŸŸçš„è½¯ä»¶è®¾è®¡åŸåˆ™ï¼Œ <code>ä¾èµ–åè½¬</code> æ˜¯éµå®ˆä¾èµ–å€’ç½®åŸåˆ™è€Œæå‡ºçš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œè€Œ <code>ä¾èµ–æ³¨å…¥</code> æ˜¯ä¸ºäº†å®ç°ä¾èµ–åè½¬çš„ä¸€ç§æ‰‹æ®µå’Œæ–¹å¼ã€‚</p>\n</blockquote>\n<h4 id=\"æ¥å£éš”ç¦»åŸåˆ™\"><a class=\"anchor\" href=\"#æ¥å£éš”ç¦»åŸåˆ™\">#</a> æ¥å£éš”ç¦»åŸåˆ™</h4>\n<blockquote>\n<p>æ¥å£éš”ç¦»åŸåˆ™è¦æ±‚å°†è‡ƒè‚¿åºå¤§çš„æ¥å£è¿›è¡Œæ‹†åˆ†ï¼Œæ‹†åˆ†ä¸ºæ›´å°çš„æ›´å…·ä½“çš„æ¥å£ï¼Œå°çš„æ¥å£ä¹‹é—´ç›¸äº’éš”ç¦»ã€‚<br />\næ¥å£éš”ç¦»åŸåˆ™çš„æ ¸å¿ƒæ˜¯ï¼šæé«˜å†…èšï¼Œå‡å°‘å¯¹å¤–äº¤äº’ï¼Œä½¿æ¥å£ç”¨æœ€å°‘çš„æ–¹æ³•å®Œæˆæœ€å¤šçš„äº‹æƒ…ã€‚</p>\n</blockquote>\n<h2 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h2>\n<p>è®¾è®¡åŸåˆ™æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼å¿…é¡»å°½é‡éµå¾ªçš„åŸåˆ™ï¼Œå„ç§åŸåˆ™è¦æ±‚çš„ä¾§é‡ç‚¹ä¸åŒã€‚å…¶ä¸­ï¼š</p>\n<ul>\n<li>å¼€é—­åŸåˆ™æ˜¯æ€»çº²ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬è¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›</li>\n<li>é‡Œæ°æ›¿æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ä¸è¦ç ´åç»§æ‰¿ä½“ç³»ï¼›</li>\n<li>ä¾èµ–å€’ç½®åŸåˆ™å‘Šè¯‰æˆ‘ä»¬è¦é¢å‘æ¥å£ç¼–ç¨‹ï¼›</li>\n<li>å•ä¸€èŒè´£åŸåˆ™å‘Šè¯‰æˆ‘ä»¬å®ç°ç±»è¦èŒè´£å•ä¸€ï¼›</li>\n<li>æ¥å£éš”ç¦»åŸåˆ™å‘Šè¯‰æˆ‘ä»¬åœ¨è®¾è®¡æ¥å£çš„æ—¶å€™è¦ç²¾ç®€å•ä¸€ï¼›</li>\n<li>æœ€å°‘çŸ¥è¯†åŸåˆ™å‘Šè¯‰æˆ‘ä»¬è¦é™ä½è€¦åˆåº¦ï¼›</li>\n<li>åˆæˆå¤ç”¨åŸåˆ™å‘Šè¯‰æˆ‘ä»¬è¦ä¼˜å…ˆä½¿ç”¨ç»„åˆæˆ–è€…èšåˆå…³ç³»å¤ç”¨ï¼Œå°‘ç”¨ç»§æ‰¿å…³ç³»å¤ç”¨ã€‚</li>\n</ul>\n",
            "tags": [
                "è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™",
                "è®¾è®¡æ¨¡å¼ä¸è®¾è®¡åŸåˆ™"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/27/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/",
            "url": "https://dmqweb.cn/2024/05/27/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/",
            "title": "OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹",
            "date_published": "2024-05-27T10:16:27.000Z",
            "content_html": "<h1 id=\"osiä¸ƒå±‚ç½‘ç»œæ¨¡å‹\"><a class=\"anchor\" href=\"#osiä¸ƒå±‚ç½‘ç»œæ¨¡å‹\">#</a> OSI ä¸ƒå±‚ç½‘ç»œæ¨¡å‹</h1>\n<p><img data-src=\"/images/e3cc1860482648d5a2b2f6bac23280d3~tplv-k3u1fbpfcp-zoom-in-crop-mark_1512_0_0_0.webp\" alt=\"images\" /></p>\n<h1 id=\"ä¸ƒ-åº”ç”¨å±‚åº”ç”¨\"><a class=\"anchor\" href=\"#ä¸ƒ-åº”ç”¨å±‚åº”ç”¨\">#</a> ä¸ƒã€åº”ç”¨å±‚ï¼ˆåº”ç”¨ï¼‰</h1>\n<p>åº”ç”¨å±‚å°±æ˜¯æˆ‘ä»¬æœ€æ¥è¿‘æˆ‘ä»¬ã€æœ€å¸¸ç”¨çš„ä¸€å±‚ï¼Œä¾‹å¦‚ï¼š</p>\n<ul>\n<li>ajax è°ƒç”¨æ¥å£å‘é€<strong> http è¯·æ±‚</strong></li>\n<li>ä½¿ç”¨<strong> DNS åŸŸåæŸ¥è¯¢</strong>ç³»ç»Ÿ</li>\n<li><strong>é‚®ä»¶åè®® SMTP</strong></li>\n<li><strong>websock é•¿è¿æ¥</strong></li>\n<li><strong>SSH åè®®</strong></li>\n<li>ç­‰ã€‚</li>\n</ul>\n<h1 id=\"å…­-è¡¨ç¤ºå±‚å®‰å…¨-å‹ç¼©-ç¿»è¯‘\"><a class=\"anchor\" href=\"#å…­-è¡¨ç¤ºå±‚å®‰å…¨-å‹ç¼©-ç¿»è¯‘\">#</a> å…­ã€è¡¨ç¤ºå±‚ï¼ˆå®‰å…¨ã€å‹ç¼©ã€ç¿»è¯‘ï¼‰</h1>\n<p>è¡¨ç¤ºå±‚åšäº†å‡ ä»¶é‡è¦çš„äº‹æƒ…å¦‚ï¼š</p>\n<ul>\n<li>å‹ç¼©</li>\n<li>å®‰å…¨ï¼ˆæ•°æ®å‘é€å‰è¿›è¡ŒåŠ å¯†ï¼Œåœ¨æ¥å—è€…çš„è¡¨ç¤ºå±‚è¿›è¡Œè§£å¯†ï¼‰</li>\n<li>ç¨‹åºåœ¨ç½‘ç»œä¸­çš„ç¿»è¯‘å®˜ï¼ˆå¯¹å›¾ç‰‡æ–‡ä»¶ç­‰æ ¼å¼è¿›è¡Œè§£ç å’Œç¼–ç ï¼‰</li>\n</ul>\n<h1 id=\"äº”-ä¼šè¯å±‚æ£€æŸ¥ç‚¹æœºåˆ¶\"><a class=\"anchor\" href=\"#äº”-ä¼šè¯å±‚æ£€æŸ¥ç‚¹æœºåˆ¶\">#</a> äº”ã€ä¼šè¯å±‚ï¼ˆæ£€æŸ¥ç‚¹æœºåˆ¶ï¼‰</h1>\n<ul>\n<li>ä¼šè¯å±‚æ˜¯åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´è¿›è¡Œé€šä¿¡æ—¶åˆ›å»ºã€ç»´æŒã€ä¹‹åç»ˆæ­¢æˆ–æ–­å¼€è¿æ¥çš„åœ°æ–¹</li>\n<li>ä¼šè¯å±‚å®šä¹‰äº†ä¸€ç§æœºåˆ¶ï¼Œå…è®¸å‘é€æ–¹å’Œæ¥æ”¶æ–¹å¯åŠ¨æˆ–åœæ­¢è¯·æ±‚ä¼šè¯ï¼Œå½“åŠå½“åŒæ–¹å‘ç”Ÿæ‹¥å¡æ—¶ä»ç„¶èƒ½ä¿æŒå¯¹è¯</li>\n<li>ä¼šè¯å±‚åŒ…å«äº†ä¸€ç§<strong>æ£€æŸ¥ç‚¹çš„æœºåˆ¶</strong>æ¥ç»´æŒå¯é ä¼šè¯ï¼Œæ£€æŸ¥ç‚¹å®šä¹‰äº†ä¸€ä¸ªæœ€æ¥è¿‘æˆåŠŸé€šä¿¡çš„ç‚¹ï¼Œå¹¶ä¸”å®šä¹‰äº†å½“å‘ç”Ÿå†…å®¹ä¸¢å¤±æˆ–è€…æŸåæ—¶éœ€è¦å›æ»šä»¥ä¾¿å›å¤ä¸¢å¤±æˆ–æŸåæ•°æ®çš„ç‚¹ï¼Œå³æ–­ç‚¹ä¸‹è½½çš„åŸç†</li>\n</ul>\n<h1 id=\"å››-ä¼ è¾“å±‚tcp-udpè¿æ¥\"><a class=\"anchor\" href=\"#å››-ä¼ è¾“å±‚tcp-udpè¿æ¥\">#</a> å››ã€ä¼ è¾“å±‚ï¼ˆTCPã€UDP è¿æ¥ï¼‰</h1>\n<ul>\n<li>ä¼ è¾“å±‚ä¸»è¦å°±æ˜¯å®šä¹‰ç«¯å£å·ï¼Œä»¥åŠæ§æµå’Œæ ¡éªŒ</li>\n<li>TCPï¼ˆé¢å‘è¿æ¥çš„åè®®å¹¶ä¸” TCP æ˜¯å¯é çš„ï¼‰ï¼Œå› ä¸º TCP ä¼šè¿›è¡Œä¸‰æŠ¥æ–‡æ¡æ‰‹å’Œå››æŠ¥æ–‡æŒ¥æ‰‹ï¼Œæ‰€ä»¥æ˜¯å¯é çš„ï¼Œä½†æ˜¯è¿™æ ·ä¼šé™ä½é€Ÿåº¦</li>\n<li>UDPï¼ˆUDP æ²¡æœ‰ä¸‰æŠ¥æ–‡æ¡æ‰‹å’Œå››æŠ¥æ–‡æŒ¥æ‰‹ï¼Œå› æ­¤ä¸å¤Ÿç¨³å®šï¼Œä½†æ˜¯é€Ÿåº¦å¿«ï¼Œå¸¸ç”¨äºç›´æ’­å’Œæ¸¸æˆï¼‰</li>\n</ul>\n<h1 id=\"ä¸‰-ç½‘ç»œå±‚ipåœ°å€\"><a class=\"anchor\" href=\"#ä¸‰-ç½‘ç»œå±‚ipåœ°å€\">#</a> ä¸‰ã€ç½‘ç»œå±‚ï¼ˆIP åœ°å€ï¼‰</h1>\n<ul>\n<li>ç½‘ç»œå±‚æ˜¯æœ€å¤æ‚çš„ä¸€å±‚ï¼Œåœ¨ç½‘ç»œå±‚å®šä¹‰äº† IP</li>\n<li>ç½‘ç»œå±‚æ§åˆ¶æ•°æ®é“¾è·¯å±‚ä¸ä¼ è¾“å±‚ä¹‹é—´çš„ä¿¡æ¯è½¬å‘ï¼Œå»ºç«‹ï¼Œç»´æŒå’Œç»ˆæ­¢ç½‘ç»œçš„è¿æ¥ã€‚</li>\n<li>æ•°æ®é“¾è·¯å±‚çš„æ•°æ®åœ¨ç½‘ç»œå±‚è¢«è½¬æ¢ä¸ºæ•°æ®åŒ…ï¼Œç„¶åé€šè¿‡è·¯å¾„é€‰æ‹©ã€åˆ†æ®µç»„åˆã€é¡ºåºã€è¿› / å‡ºè·¯ç”±ç­‰æ§åˆ¶ï¼Œå°†ä¿¡æ¯ä»ä¸€ä¸ªç½‘ç»œè®¾å¤‡ä¼ é€åˆ°å¦ä¸€ä¸ªç½‘ç»œè®¾å¤‡</li>\n<li>å¯»å€ï¼šå¯¹ç½‘ç»œå±‚è€Œè¨€ä½¿ç”¨ IP åœ°å€æ¥å”¯ä¸€æ ‡è¯†äº’è”ç½‘ä¸Šçš„è®¾å¤‡ï¼Œç½‘ç»œå±‚ä¾é  IP åœ°å€è¿›è¡Œç›¸äº’é€šä¿¡ï¼ˆç±»ä¼¼äºæ•°æ®é“¾è·¯å±‚çš„ MAC åœ°å€ï¼‰</li>\n<li>è·¯ç”±ï¼šåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­çš„å†…éƒ¨é€šä¿¡å¹¶ä¸éœ€è¦ç½‘ç»œå±‚è®¾å¤‡ï¼Œä»…ä»…é æ•°æ®é“¾è·¯å±‚å°±å¯ä»¥å®Œæˆç›¸äº’é€šä¿¡ï¼Œå¯¹äºä¸åŒçš„ç½‘ç»œä¹‹é—´ç›¸äº’é€šä¿¡åˆ™å¿…é¡»å€ŸåŠ©è·¯ç”±å™¨ç­‰ä¸‰å±‚è®¾å¤‡ã€‚</li>\n<li>å¦‚æœæ‰€æœ‰çš„ä½¿ç”¨äº’è”ç½‘çš„ç”¨æˆ·åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­ï¼Œ<strong>ä¼šäº§ç”Ÿå¹¿æ’­é£æš´ï¼Œæ‰€ä»¥è¦å°†ç”¨æˆ·è¿›è¡Œåˆ’åˆ†</strong>ï¼Œè®©ä»–ä»¬åœ¨ä¸åŒçš„ç½‘æ®µä¸­ï¼Œè‡ªå·±åœ¨è‡ªå·±çš„å°ç½‘æ®µä¸­å¹¿æ’­ã€‚è€Œ<strong>äº’è”ç½‘å°±æ˜¯è¿™æ— æ•°çš„å­ç½‘ç»œæ„æˆçš„ä¸€ä¸ªå·¨å‹ç½‘ç»œ</strong>ã€‚</li>\n<li>åœ¨ç½‘ç»œå±‚ä¸­å¼•å…¥äº†ä¸€å¥—æ–°çš„åœ°å€ï¼Œè®©æˆ‘ä»¬èƒ½å¤ŸåŒºåˆ†ä¸åŒçš„ç½‘æ®µã€‚è¿™å¥—åœ°å€å°±å«åš â€œç½‘ç»œåœ°å€â€ï¼Œç®€ç§° â€œç½‘å€â€ã€‚äºæ˜¯ï¼Œ<strong>â€ ç½‘ç»œå±‚â€ å‡ºç°ä»¥åï¼Œæ¯å°è®¡ç®—æœºæœ‰äº†ä¸¤ç§åœ°å€</strong>ï¼Œ<strong>ä¸€ç§æ˜¯ MAC åœ°å€ï¼Œå¦ä¸€ç§æ˜¯ç½‘ç»œåœ°å€</strong>ã€‚ä¸¤ç§åœ°å€ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼ŒMAC åœ°å€æ˜¯ç»‘å®šåœ¨ç½‘å¡ä¸Šçš„ï¼Œç½‘ç»œåœ°å€åˆ™æ˜¯ç®¡ç†å‘˜åˆ†é…çš„ï¼Œå®ƒä»¬åªæ˜¯éšæœºç»„åˆåœ¨ä¸€èµ·ã€‚** ç½‘ç»œåœ°å€å¸®åŠ©æˆ‘ä»¬ç¡®å®šè®¡ç®—æœºæ‰€åœ¨çš„å­ç½‘ç»œï¼ŒMAC åœ°å€åˆ™å°†æ•°æ®åŒ…é€åˆ°è¯¥å­ç½‘ç»œä¸­çš„ç›®æ ‡ç½‘å¡ã€‚** å› æ­¤ï¼Œä»é€»è¾‘ä¸Šå¯ä»¥æ¨æ–­ï¼Œå¿…å®šæ˜¯å…ˆå¤„ç†ç½‘ç»œåœ°å€ï¼Œç„¶åå†å¤„ç† MAC åœ°å€ã€‚</li>\n<li>è¿™ä¸€å±‚ä¸­æœ‰ä¸€ä¸ª<strong>è§„å®šç½‘ç»œåœ°å€çš„åè®®ï¼Œå«åš IP åè®®</strong>ï¼Œå®ƒæ‰€å®šä¹‰çš„åœ°å€ï¼Œå°±è¢«ç§°ä¸º IP åœ°å€ã€‚</li>\n<li>ç›®å‰ï¼Œå¹¿æ³›é‡‡ç”¨çš„æ˜¯ IP åè®®ç¬¬å››ç‰ˆï¼Œç®€ç§° IPv4ã€‚è¿™ä¸ªç‰ˆæœ¬è§„å®šï¼Œç½‘ç»œåœ°å€ç”± 32 ä¸ªäºŒè¿›åˆ¶ä½ç»„æˆã€‚å› ä¸º IPv4 çš„åœ°å€å·²ç»ä¸å¤Ÿç”¨äº†ï¼Œæ‰€ä»¥ç°åœ¨æ¨å¹¿ IPv6ï¼Œ</li>\n</ul>\n<h1 id=\"äºŒ-æ•°æ®é“¾è·¯å±‚macåœ°å€\"><a class=\"anchor\" href=\"#äºŒ-æ•°æ®é“¾è·¯å±‚macåœ°å€\">#</a> äºŒã€æ•°æ®é“¾è·¯å±‚ï¼ˆMAC åœ°å€ï¼‰</h1>\n<ul>\n<li>å»ºç«‹é€»è¾‘è¿æ¥ã€è¿›è¡Œç¡¬ä»¶åœ°å€å¯»å€ã€å·®é”™æ ¡éªŒç­‰åŠŸèƒ½ï¼ˆåº•å±‚ç½‘ç»œå®šä¹‰åè®®ï¼‰</li>\n<li>åŠæ¯”ç‰¹ç»„åˆæˆå­—èŠ‚è¿›è€Œç»„åˆæˆå¸§ï¼Œç”¨ MAC åœ°å€è®¿é—®ä»‹è´¨ï¼Œæ­¤æ—¶å¯ä»¥å‘ç°é”™è¯¯ä½†ä¸èƒ½çº æ­£ã€‚</li>\n<li>MAC åœ°å€æ˜¯æ¯ä¸ªç½‘å¡çš„å”¯ä¸€æ ‡è¯†ï¼Œæœ‰äº† MAC åœ°å€å°±èƒ½çŸ¥é“è°æ˜¯æ¥æ”¶è€…ï¼Œè°æ˜¯å‘é€è€…ï¼Œå¹¶ä¸”çŸ¥é“äº†æ•°æ®çš„å†…å®¹ï¼Œå¹¶ä¸”è¿›è¡Œåˆ†ç»„ã€‚</li>\n<li>ä¼ æ’­æ•°æ®æ˜¯é€šè¿‡å¹¿æ’­çš„æ–¹å¼è¿›è¡Œä¼ è¾“ï¼Œåœ¨å±€åŸŸç½‘ä¸­çš„æ‰€æœ‰è®¡ç®—æœºéƒ½èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯</li>\n</ul>\n<h1 id=\"ä¸€-ç‰©ç†å±‚ç‰©ç†ä¿¡é“\"><a class=\"anchor\" href=\"#ä¸€-ç‰©ç†å±‚ç‰©ç†ä¿¡é“\">#</a> ä¸€ã€ç‰©ç†å±‚ï¼ˆç‰©ç†ä¿¡é“ï¼‰</h1>\n<ul>\n<li>\n<p>ç‰©ç†å±‚æ˜¯ç›´æ¥å’Œç‰©ç†ä»‹è´¨æ‰“äº¤é“çš„ã€‚</p>\n</li>\n<li>\n<p>ç‰©ç†å±‚çš„è®¾å¤‡ ç½‘å¡ï¼Œç½‘çº¿ï¼Œé›†çº¿å™¨ï¼Œä¸­ç»§å™¨ï¼Œè°ƒåˆ¶è§£è°ƒå™¨</p>\n</li>\n</ul>\n<p><strong>ç‰©ç†å±‚ä¿¡é“ï¼š</strong></p>\n<ul>\n<li>\n<p>æœ‰çº¿ä¿¡é“</p>\n<ul>\n<li>æ˜çº¿ï¼ˆå¹³è¡Œæ¶è®¾åœ¨ç”µçº¿æ†ä¸Šçš„æ¶ç©ºçº¿è·¯ï¼‰</li>\n<li>å¯¹ç§°ç”µç¼†ï¼ˆå¯¹å¤šåŒç»çº¿ç»„æˆï¼‰</li>\n<li>åŒè½´ç”µç¼†ï¼ˆå…·æœ‰å¤–å±‚å±è”½å±‚ï¼‰</li>\n<li>å…‰çº¤ï¼ˆåˆ©ç”¨å…‰åœ¨çº¤ç»´ä¸­çš„åå°„åŸç†è¿›è¡Œä¼ è¾“ï¼‰</li>\n</ul>\n</li>\n<li>\n<p>æ— çº¿ä¿¡é“</p>\n<p>ä»¥è¾å°„æ— çº¿ç”µæ³¢ä¸ºä¼ è¾“æ–¹å¼æ— çº¿ä¿¡é“ä¸»è¦æœ‰åœ°æ³¢ä¼ è¾“ï¼Œå¤©æ³¢ä¼ è¾“å’Œè§†è·ä¼ è¾“ ä¾‹å¦‚ï¼šå«æ˜Ÿé€šè®¯ï¼Œç”µå°å¹¿æ’­</p>\n</li>\n</ul>\n<p>ç‰©ç†å±‚é€šè¿‡ä»¥ä¸Šçš„æ–¹å¼ï¼Œä¼šè·å–ä»–ä»¬å¯¹åº”çš„ä¼ é€ä¿¡å·ï¼Œç”µå‹ï¼Œè½¬æ¢æˆ 010101010101 ä½†æ˜¯æ•°æ®è¿˜æœªç»„ç»‡ï¼Œä»…ä½œä¸ºåŸå§‹çš„ç”µæ°”ç”µå‹å¤„ç† <code>å•ä½ä¸ºbit</code></p>\n",
            "tags": [
                "OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹",
                "OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/24/node/",
            "url": "https://dmqweb.cn/2024/05/24/node/",
            "title": "Nodeå­¦ä¹ ç¬”è®°",
            "date_published": "2024-05-24T09:02:28.000Z",
            "content_html": "<h1 id=\"nodejs\"><a class=\"anchor\" href=\"#nodejs\">#</a> Node.js</h1>\n<h2 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h2>\n<ul>\n<li>Node.js å¹¶ä¸æ˜¯ JavaScript åº”ç”¨ï¼Œä¹Ÿä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ JavaScript çš„è¿è¡Œæ—¶ã€‚</li>\n<li>Node.js æ˜¯æ„å»ºåœ¨ V8 å¼•æ“ä¹‹ä¸Šçš„ï¼ŒV8 å¼•æ“ç”± C / C<ins> ç¼–å†™ï¼Œå› æ­¤ JavaScript è¯­è¨€éœ€è¦ç¼–è¯‘ä¸º C / C</ins> ä»£ç ä¹‹åæ‰èƒ½æ‰§è¡Œã€‚</li>\n<li>Node.js é‡‡ç”¨å¼‚æ­¥ IO å’Œäº‹ä»¶é©±åŠ¨çš„è®¾è®¡ç†å¿µï¼Œå¯ä»¥é«˜æ•ˆçš„å¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼Œæä¾›äº†éé˜»å¡ IO æ¥å£å’Œäº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œä½¿å…¶å¯ä»¥ç¼–å†™å‡ºé«˜æ€§èƒ½ã€é«˜æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚ï¼ˆå¼‚æ­¥ IO é€šè¿‡ libuv åº“æ¥å®ç°ï¼‰</li>\n<li>Node.js ä½¿ç”¨ npm ä½œä¸ºåŒ…ç®¡ç†å·¥å…·</li>\n<li>Node.js é€‚åˆåšä¸€äº› IO å¯†é›†å‹åº”ç”¨ï¼Œä¸é€‚åˆåšä¸€äº› CPU å¯†é›†å‹åº”ç”¨ï¼ˆäº‹ä»¶å¾ªç¯æœºåˆ¶å’Œå¼‚æ­¥ IO ä½¿å¾— Node.js æœ‰å¾ˆå¼ºçš„å¤„ç†èƒ½åŠ›ï¼Œä½†æ˜¯å› ä¸º Node.js å•çº¿ç¨‹çš„åŸå› ï¼Œå®¹æ˜“é€ æˆ CPU å ç”¨ç‡è¿‡é«˜ï¼‰</li>\n<li>å¦‚æœéè¦ç”¨ Node.js åš CPU å¯†é›†å‹åº”ç”¨ï¼Œéœ€è¦ç¼–å†™ C++ æ’ä»¶ï¼Œæˆ–è€… Node æä¾›çš„ cluster æ¨¡å—ã€‚</li>\n</ul>\n<h2 id=\"npm\"><a class=\"anchor\" href=\"#npm\">#</a> npm</h2>\n<ul>\n<li>npm æ˜¯ Node.js çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒåŸºäºå‘½ä»¤è¡Œï¼Œç”¨äºå¸®åŠ©å¼€å‘è€…åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å®‰è£…ã€å‡çº§ã€ç§»é™¤å’Œç®¡ç†ä¾èµ–é¡¹ã€‚</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qaWF4aWFveGlhby5uZXRsaWZ5LmFwcC8yMDE5LzA3LzMwL25vZGUvbm9kZS1ucG0v\">npm å‘½ä»¤å¤§å…¨</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MTQ1NzU5ODY4MDEwMzY0OTU5\">package.json é…ç½®è¯¦è§£</span></li>\n</ul>\n<h4 id=\"npm-install\"><a class=\"anchor\" href=\"#npm-install\">#</a> npm install</h4>\n<p>æ‰§è¡Œ <code>npm install</code>  æ—¶ï¼Œnpm ä¼šé€šè¿‡å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•éå†ä¾èµ–æ ‘ï¼Œnpm ä¼šé¦–å…ˆå¤„ç†é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¾èµ–ï¼Œç„¶åé€å±‚å¤„ç†æ¯ä¸ªä¾èµ–åŒ…çš„ä¾èµ–ï¼Œç›´åˆ°æ‰€æœ‰çš„ä¾èµ–è¢«å¤„ç†å®Œæˆã€‚åœ¨å¤„ç†æ¯ä¸ªä¾èµ–æ—¶ï¼Œnpm ä¼šæ£€æŸ¥è¯¥ä¾èµ–çš„ç‰ˆæœ¬å·æ˜¯å¦ç¬¦åˆä¾èµ–æ ‘ä¸­å…¶ä»–ä¾èµ–çš„ç‰ˆæœ¬è¦æ±‚ï¼Œå¦‚æœä¸ç¬¦åˆï¼Œåˆ™ä¼šå°è¯•å®‰è£…é€‚åˆçš„ç‰ˆæœ¬ã€‚</p>\n<p><img data-src=\"/images/Snipaste_2024-05-28_18-35-31.png\" alt=\"images\" /></p>\n<h4 id=\"npmrcæ–‡ä»¶\"><a class=\"anchor\" href=\"#npmrcæ–‡ä»¶\">#</a> .npmrc æ–‡ä»¶</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">registry</span><span class=\"token operator\">=</span>http://registry.npmjs.org/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å®šä¹‰ npm çš„ registryï¼Œå³ npm çš„åŒ…ä¸‹è½½æº</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">proxy</span><span class=\"token operator\">=</span>http://proxy.example.com:8080/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># å®šä¹‰ npm çš„ä»£ç†æœåŠ¡å™¨ï¼Œç”¨äºè®¿é—®ç½‘ç»œ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>https-proxy<span class=\"token operator\">=</span>http://proxy.example.com:8080/</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># å®šä¹‰ npm çš„ https ä»£ç†æœåŠ¡å™¨ï¼Œç”¨äºè®¿é—®ç½‘ç»œ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>strict-ssl<span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># æ˜¯å¦åœ¨ SSL è¯ä¹¦éªŒè¯é”™è¯¯æ—¶é€€å‡º</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">cafile</span><span class=\"token operator\">=</span>/path/to/cafile.pem</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># å®šä¹‰è‡ªå®šä¹‰ CA è¯ä¹¦æ–‡ä»¶çš„è·¯å¾„</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>user-agent<span class=\"token operator\">=</span>npm/<span class=\"token punctuation\">&#123;</span>npm-version<span class=\"token punctuation\">&#125;</span> node/<span class=\"token punctuation\">&#123;</span>node-version<span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#123;</span>platform<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># è‡ªå®šä¹‰è¯·æ±‚å¤´ä¸­çš„ User-Agent</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token assign-left variable\">save</span><span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># å®‰è£…åŒ…æ—¶æ˜¯å¦è‡ªåŠ¨ä¿å­˜åˆ° package.json çš„ dependencies ä¸­</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>save-dev<span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># å®‰è£…åŒ…æ—¶æ˜¯å¦è‡ªåŠ¨ä¿å­˜åˆ° package.json çš„ devDependencies ä¸­</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>save-exact<span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># å®‰è£…åŒ…æ—¶æ˜¯å¦ç²¾ç¡®ä¿å­˜ç‰ˆæœ¬å·</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>engine-strict<span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># æ˜¯å¦åœ¨å®‰è£…æ—¶æ£€æŸ¥ä¾èµ–çš„ node å’Œ npm ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>scripts-prepend-node-path<span class=\"token operator\">=</span>true</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># æ˜¯å¦åœ¨è¿è¡Œè„šæœ¬æ—¶è‡ªåŠ¨å°† node çš„è·¯å¾„æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­</span></pre></td></tr></table></figure><h4 id=\"package-lockjson\"><a class=\"anchor\" href=\"#package-lockjson\">#</a> package-lock.json</h4>\n<p>æ–‡ä»¶çš„ä½œç”¨ï¼š</p>\n<ul>\n<li>\n<p>é”å®šç‰ˆæœ¬å·ã€è®°å½•ä¾èµ–æ ‘è¯¦ç»†ä¿¡æ¯</p>\n</li>\n<li>\n<p>package-lock.json å¸®æˆ‘ä»¬åšäº†ç¼“å­˜ï¼Œä»–ä¼šé€šè¿‡  <code>name + version + integrity</code>  ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ keyï¼Œè¿™ä¸ª key èƒ½æ‰¾åˆ°å¯¹åº”çš„ index-v5 ä¸‹çš„ç¼“å­˜è®°å½• ï¼ˆnpm cache æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œå¦‚æœå‘ç°æœ‰ç¼“å­˜è®°å½•ï¼Œå°±ä¼šæ‰¾åˆ° tar åŒ…çš„ hash å€¼ï¼Œç„¶åå°†å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶è§£å‹åˆ° node_modeules</p>\n</li>\n</ul>\n<h4 id=\"npm-run\"><a class=\"anchor\" href=\"#npm-run\">#</a> npm run</h4>\n<p>è¯»å– package.json çš„ scripts å¯¹åº”çš„è„šæœ¬å‘½ä»¤ï¼ŒæŸ¥æ‰¾çš„è§„åˆ™æ˜¯ï¼š</p>\n<ol>\n<li>å½“å‰é¡¹ç›® node_modules/.bin æŸ¥æ‰¾</li>\n<li>å…¨å±€ node_modules/.bin æŸ¥æ‰¾</li>\n<li>ç¯å¢ƒå˜é‡æŸ¥æ‰¾</li>\n<li>æ‰¾ä¸åˆ°ï¼ŒæŠ¥é”™</li>\n</ol>\n<p>node_modules/.bin ä¸­æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼ˆNode ä½œä¸ºè·¨å¹³å°å·¥å…·ï¼Œéœ€è¦å¤„ç†å¹³å°å…¼å®¹æ€§ï¼‰</p>\n<ul>\n<li>.sh æ–‡ä»¶æ˜¯ç»™ Linux unix Macos ä½¿ç”¨</li>\n<li>.cmd ç»™ windows çš„ cmd ä½¿ç”¨</li>\n<li>.ps1 ç»™ windows çš„ powerShell ä½¿ç”¨</li>\n</ul>\n<h4 id=\"npm-ç”Ÿå‘½å‘¨æœŸ\"><a class=\"anchor\" href=\"#npm-ç”Ÿå‘½å‘¨æœŸ\">#</a> npm ç”Ÿå‘½å‘¨æœŸ</h4>\n<p>åœ¨ package.json ä¸­çš„ scripts å­—æ®µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ npm è„šæœ¬å‘½åè§„èŒƒä½¿ç”¨ npm çš„ç”Ÿå‘½å‘¨æœŸç‰¹æ€§ï¼Œä¾‹å¦‚ï¼š</p>\n<pre><code class=\"language-javascripton\">    &quot;pretest&quot;: &quot;node prev.js&quot;,\n    &quot;test&quot;: &quot;node index.js&quot;,\n    &quot;posttest&quot;: &quot;node post.js&quot;\n</code></pre>\n<p>åˆ™æ‰§è¡Œï¼šnpm run test æ—¶ï¼Œä¼šæœ€å…ˆæ‰§è¡Œ pretestï¼Œæœ€åæ‰§è¡Œ posttestã€‚</p>\n<h4 id=\"npx\"><a class=\"anchor\" href=\"#npx\">#</a> npx</h4>\n<p>npx æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæ˜¯ npm 5.2.0 ç‰ˆæœ¬ä¸­æ–°å¢çš„åŠŸèƒ½ã€‚å®ƒå…è®¸ç”¨æˆ·åœ¨ä¸å®‰è£…å…¨å±€åŒ…çš„æƒ…å†µä¸‹ï¼Œè¿è¡Œå·²å®‰è£…åœ¨æœ¬åœ°é¡¹ç›®ä¸­çš„åŒ…æˆ–è€…è¿œç¨‹ä»“åº“ä¸­çš„åŒ…ã€‚</p>\n<p>npx çš„ä½œç”¨æ˜¯åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ node åŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸éœ€è¦å…¨å±€å®‰è£…è¿™äº›åŒ…ã€‚è¿™å¯ä»¥ä½¿å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ç®¡ç†åŒ…çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥é¿å…å…¨å±€æ±¡æŸ“çš„é—®é¢˜ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œè€Œä¸ä¼šå‡ºç°ç‰ˆæœ¬å†²çªçš„é—®é¢˜ã€‚</p>\n<p><strong>npx çš„ä¼˜åŠ¿</strong></p>\n<ol>\n<li>é¿å…å…¨å±€å®‰è£…ï¼š <code>npx</code>  å…è®¸ä½ æ‰§è¡Œ npm packageï¼Œè€Œä¸éœ€è¦ä½ å…ˆå…¨å±€å®‰è£…å®ƒã€‚</li>\n<li>æ€»æ˜¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼šå¦‚æœä½ æ²¡æœ‰åœ¨æœ¬åœ°å®‰è£…ç›¸åº”çš„ npm packageï¼Œ <code>npx</code>  ä¼šä» npm çš„ package ä»“åº“ä¸­ä¸‹è½½å¹¶ä½¿ç”¨æœ€æ–°ç‰ˆã€‚</li>\n<li>æ‰§è¡Œä»»æ„ npm åŒ…ï¼š <code>npx</code>  ä¸ä»…å¯ä»¥æ‰§è¡Œåœ¨ <code>package.json</code>  çš„ <code>scripts</code>  éƒ¨åˆ†å®šä¹‰çš„å‘½ä»¤ï¼Œè¿˜å¯ä»¥æ‰§è¡Œä»»ä½• npm packageã€‚</li>\n<li>æ‰§è¡Œ GitHub gistï¼š <code>npx</code>  ç”šè‡³å¯ä»¥æ‰§è¡Œ GitHub gist æˆ–è€…å…¶ä»–å…¬å¼€çš„ JavaScript æ–‡ä»¶ã€‚</li>\n</ol>\n<p><strong>npm å’Œ npx åŒºåˆ«</strong></p>\n<ul>\n<li>\n<p><code>npx</code>  ä¾§é‡äºæ‰§è¡Œå‘½ä»¤çš„ï¼Œæ‰§è¡ŒæŸä¸ªæ¨¡å—å‘½ä»¤ã€‚è™½ç„¶ä¼šè‡ªåŠ¨å®‰è£…æ¨¡å—ï¼Œä½†æ˜¯é‡åœ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤</p>\n</li>\n<li>\n<p><code>npm</code>  ä¾§é‡äºå®‰è£…æˆ–è€…å¸è½½æŸä¸ªæ¨¡å—çš„ã€‚é‡åœ¨å®‰è£…ï¼Œå¹¶ä¸å…·å¤‡æ‰§è¡ŒæŸä¸ªæ¨¡å—çš„åŠŸèƒ½ã€‚</p>\n</li>\n</ul>\n<h4 id=\"npmç§æœ\"><a class=\"anchor\" href=\"#npmç§æœ\">#</a> npm ç§æœ</h4>\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li><strong>å¯ä»¥ç¦»çº¿ä½¿ç”¨</strong>ï¼Œä½ å¯ä»¥å°† npm ç§æœéƒ¨ç½²åˆ°å†…ç½‘é›†ç¾¤ï¼Œè¿™æ ·ç¦»çº¿ä¹Ÿå¯ä»¥è®¿é—®ç§æœ‰çš„åŒ…ã€‚</li>\n<li><strong>æé«˜åŒ…çš„å®‰å…¨æ€§</strong>ï¼Œä½¿ç”¨ç§æœ‰çš„ npm ä»“åº“å¯ä»¥æ›´å¥½çš„ç®¡ç†ä½ çš„åŒ…ï¼Œé¿å…åœ¨ä½¿ç”¨å…¬å…±çš„ npm åŒ…çš„æ—¶å€™å‡ºç°æ¼æ´ã€‚</li>\n<li><strong>æé«˜åŒ…çš„ä¸‹è½½é€Ÿåº¦</strong>ï¼Œä½¿ç”¨ç§æœ‰ npm ä»“åº“ï¼Œä½ å¯ä»¥å°†ç»å¸¸ä½¿ç”¨çš„ npm åŒ…ç¼“å­˜åˆ°æœ¬åœ°ï¼Œä»è€Œæ˜¾è‘—æé«˜åŒ…çš„ä¸‹è½½é€Ÿåº¦ï¼Œå‡å°‘ä¾èµ–åŒ…çš„ä¸‹è½½æ—¶é—´ã€‚è¿™å¯¹äºå›¢é˜Ÿå†…éƒ¨å¼€å‘å’ŒæŒç»­é›†æˆã€éƒ¨ç½²ç­‰åœºæ™¯éå¸¸</li>\n</ul>\n<p><strong>æ­å»ºï¼š</strong></p>\n<ul>\n<li>å¯ä»¥å…‹éš† npm æˆ– cnpm ä»“åº“ï¼Œæ›´æ”¹ yaml é…ç½®æ–‡ä»¶ä¸ºè‡ªå·±æƒ³è¦çš„è®¾ç½®å³å¯</li>\n<li>ä½¿ç”¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly92ZXJkYWNjaW8ub3JnL3poLWNuLw==\"> verdaccio å·¥å…·</span>\n<ul>\n<li><code>npm install verdaccio -g</code></li>\n<li><code>verdaccio</code></li>\n<li>è®¿é—® localhost:4873</li>\n<li>ä½¿ç”¨ npm æ“ä½œæ—¶ï¼ŒåŠ ä¸Š <code>--registry http://localhost:4873</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"nodeæ¨¡å—åŒ–\"><a class=\"anchor\" href=\"#nodeæ¨¡å—åŒ–\">#</a> Node æ¨¡å—åŒ–</h2>\n<h4 id=\"commonjs\"><a class=\"anchor\" href=\"#commonjs\">#</a> CommonJS</h4>\n<ul>\n<li>\n<p>æ”¯æŒå¼•å…¥å†…ç½®æ¨¡å—ä¾‹å¦‚  <code>http</code>   <code>os</code>   <code>fs</code>   <code>child_process</code>  ç­‰ nodejs å†…ç½®æ¨¡å—</p>\n</li>\n<li>\n<p>æ”¯æŒå¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å— <code>express</code>   <code>md5</code>   <code>koa</code>  ç­‰</p>\n</li>\n<li>\n<p>æ”¯æŒå¼•å…¥è‡ªå·±ç¼–å†™çš„æ¨¡å— ./../ ç­‰</p>\n</li>\n<li>\n<p>æ”¯æŒå¼•å…¥ addon C++ æ‰©å±•æ¨¡å— .node æ–‡ä»¶</p>\n</li>\n</ul>\n<h4 id=\"esm\"><a class=\"anchor\" href=\"#esm\">#</a> ESM</h4>\n<ul>\n<li>import é™æ€å¯¼å…¥éœ€è¦åœ¨é¡¶å±‚è°ƒç”¨</li>\n<li>import å¯¼å…¥ json æ–‡ä»¶éœ€è¦æ·»åŠ æ–­è¨€ï¼ˆä½ç‰ˆæœ¬ node ä¸å¯ç”¨ï¼‰</li>\n<li>æ”¯æŒå‡½æ•°å¼åŠ¨æ€å¯¼å…¥</li>\n</ul>\n<h4 id=\"å¯¹æ¯”\"><a class=\"anchor\" href=\"#å¯¹æ¯”\">#</a> å¯¹æ¯”</h4>\n<ol>\n<li>CommonJS åŸºäºè¿è¡Œæ—¶çš„åŒæ­¥åŠ è½½ï¼ŒESM åŸºäºç¼–è¯‘æ—¶çš„å¼‚æ­¥åŠ è½½</li>\n<li>CommonJS æ˜¯å¯ä»¥ä¿®æ”¹å€¼çš„ï¼ŒESM å€¼å¹¶ä¸”ä¸å¯ä¿®æ”¹ï¼ˆå¯è¯»çš„ï¼‰</li>\n<li>CommonJS ä¸å¯ä»¥ tree shakingï¼ŒESM æ”¯æŒ tree shaking</li>\n<li>CommonJS ä¸­é¡¶å±‚çš„ this æŒ‡å‘è¿™ä¸ªæ¨¡å—æœ¬èº«ï¼Œè€Œ ESM ä¸­é¡¶å±‚ this æŒ‡å‘ undefined</li>\n</ol>\n<h4 id=\"requireæ‰§è¡Œé¡ºåº\"><a class=\"anchor\" href=\"#requireæ‰§è¡Œé¡ºåº\">#</a> require æ‰§è¡Œé¡ºåº</h4>\n<ol>\n<li>.js æ–‡ä»¶ï¼Œè°ƒç”¨ compile å‡½æ•°è¿›è¡Œæ‰§è¡Œã€‚</li>\n<li>.json æ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œè°ƒç”¨ JSON.parse æ–¹æ³•å¤„ç†ã€‚</li>\n<li>.node æ–‡ä»¶ï¼Œé€šè¿‡ process.dlopen æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</li>\n</ol>\n<h2 id=\"å…¨å±€å˜é‡\"><a class=\"anchor\" href=\"#å…¨å±€å˜é‡\">#</a> å…¨å±€å˜é‡</h2>\n<h4 id=\"global\"><a class=\"anchor\" href=\"#global\">#</a> global</h4>\n<ul>\n<li>æµè§ˆå™¨ç«¯çš„å…¨å±€å¯¹è±¡æ˜¯ window</li>\n<li>Node ç¯å¢ƒçš„å…¨å±€å¯¹è±¡æ˜¯ global</li>\n<li>global ä¸Šå®šä¹‰çš„å˜é‡åœ¨å½“å‰ç¯å¢ƒæ‰§è¡Œä»»ä½•æ–‡ä»¶æ—¶éƒ½å¯ä»¥è®¿é—®åˆ°</li>\n<li>ES2020 æ¨å‡º globalThis ç”¨äºå…¼å®¹ window å’Œ globalï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰</li>\n</ul>\n<h4 id=\"__dirname\"><a class=\"anchor\" href=\"#__dirname\">#</a> __dirname</h4>\n<p>å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„</p>\n<h4 id=\"__filename\"><a class=\"anchor\" href=\"#__filename\">#</a> __filename</h4>\n<p>å½“å‰æ¨¡å—æ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„ï¼ŒåŒ…æ‹¬æ–‡ä»¶åå’Œæ–‡ä»¶æ‰©å±•å</p>\n<h4 id=\"require\"><a class=\"anchor\" href=\"#require\">#</a> require</h4>\n<h4 id=\"module\"><a class=\"anchor\" href=\"#module\">#</a> module</h4>\n<h4 id=\"process\"><a class=\"anchor\" href=\"#process\">#</a> process</h4>\n<ul>\n<li>\n<p><code>process.argv</code></p>\n<ul>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰æ‰§è¡Œç¯å¢ƒçš„è·¯å¾„</li>\n<li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å½“å‰æ‰§è¡Œçš„æ–‡ä»¶çš„è·¯å¾„</li>\n<li>å‰©ä½™çš„å‚æ•°æ˜¯ä¼ é€’ç»™è„šæœ¬æ–‡ä»¶çš„å‘½ä»¤è¡Œå‚æ•°</li>\n</ul>\n</li>\n<li>\n<p><code>process.env</code>  ç¯å¢ƒå˜é‡</p>\n</li>\n<li>\n<p><code>process.cwd()</code>  è¿”å›å½“å‰å·¥ä½œç›®å½•è·¯å¾„</p>\n</li>\n<li>\n<p><code>process.on(event,listener)</code> ï¼Œç›‘å¬è¿›ç¨‹å˜åŒ–</p>\n</li>\n<li>\n<p><code>process.exit([code])</code> ï¼Œé€€å‡º Node è¿›ç¨‹ï¼Œæä¾›é€€å‡ºç </p>\n</li>\n<li>\n<p><code>process.pid</code>  è¿”å›è¿›ç¨‹ id</p>\n</li>\n</ul>\n<h4 id=\"bufferç±»\"><a class=\"anchor\" href=\"#bufferç±»\">#</a> Buffer ç±»</h4>\n<p>Node.js 6.0 ç‰ˆæœ¬å¼€å§‹ï¼Œ <code>Buffer</code>  æ„é€ å‡½æ•°çš„ä½¿ç”¨å·²è¢«å¼ƒç”¨ï¼Œæ¨èä½¿ç”¨ <code>Buffer.alloc()</code> ã€ <code>Buffer.from()</code>  ç­‰æ–¹æ³•æ¥åˆ›å»º <code>Buffer</code>  å®ä¾‹ã€‚</p>\n<h4 id=\"dom-bom\"><a class=\"anchor\" href=\"#dom-bom\">#</a> DOMã€BOM</h4>\n<p>Node ç¯å¢ƒä¸­æ— æ³•æ“ä½œ DOM å’Œ BOMï¼Œä¸è¿‡å¯ä»¥å€ŸåŠ©ä¸€äº›å·¥å…·è¿›è¡Œæ¨¡æ‹Ÿï¼Œä¾‹å¦‚ï¼š <code>jsdom</code></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:fs'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">JSDOM</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jsdom'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//jsdom æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> dom <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JSDOM</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;!DOCTYPE html>&lt;div id='app'>&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> document <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>document</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> window <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.thecatapi.com/v1/images/search?limit=10&amp;page=1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>       <span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span>  document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>       img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>url</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>       img<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token string\">'200px'</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>       img<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token string\">'200px'</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>       app<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index.html'</span><span class=\"token punctuation\">,</span> dom<span class=\"token punctuation\">.</span><span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"pathæ¨¡å—\"><a class=\"anchor\" href=\"#pathæ¨¡å—\">#</a> path æ¨¡å—</h2>\n<p>path æ¨¡å—åœ¨ windows å’Œ posix ç³»ç»Ÿä¸­æ˜¯æœ‰å·®å¼‚çš„ã€‚</p>\n<ul>\n<li>posix è¡¨ç¤ºå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰äº†ä¸€å¥—æ ‡å‡†ï¼Œéµå®ˆè¿™å¥—æ ‡å‡†çš„æ“ä½œç³»ç»Ÿæœ‰ (unix,like unix,linux,macOs,windows wsl)ï¼Œç”¨äºå¤šä¸ªå¹³å°é—´ç›¸äº’å…¼å®¹</li>\n<li>Windows å¹¶æ²¡æœ‰å®Œå…¨éµå¾ª POSIX æ ‡å‡†ï¼Œåœ¨ Windows ç³»ç»Ÿä¸­ï¼Œè·¯å¾„ä½¿ç”¨åæ–œæ ï¼ˆ <code>\\</code> ï¼‰ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ã€‚è¿™ä¸ POSIX ç³»ç»Ÿä½¿ç”¨çš„æ­£æ–œæ ï¼ˆ <code>/</code> ï¼‰æ˜¯ä¸åŒçš„</li>\n</ul>\n<p><strong>å·®å¼‚ä¸¾ä¾‹ï¼š</strong></p>\n<pre><code>path.basename('C:\\temp\\myfile.html'); \n// åœ¨posixä¸­ è¿”å›: 'C:\\temp\\myfile.html'\n// åœ¨windowsä¸­ è¿”å› empmyfile.html\n</code></pre>\n<ul>\n<li>path.basename è¿”å›æ–‡ä»¶åï¼ˆåŒ…æ‹¬åç¼€ï¼‰</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>path<span class=\"token punctuation\">.</span><span class=\"token function\">basename</span><span class=\"token punctuation\">(</span><span class=\"token string\">'C:/fs/dmq/MI/index.html'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è¿”å› index.html</span></pre></td></tr></table></figure><ul>\n<li><code>path.extname</code>  è¿”å›æ‰©å±•å</li>\n<li><code>path.join</code>  è·¯å¾„æ‹¼æ¥ï¼ˆè·¯å¾„æ‹¼æ¥ï¼‰</li>\n<li><code>path.resolve</code>  è§£æç»å¯¹è·¯å¾„å¹¶ä¸”è¿”å›ç»å¯¹è·¯å¾„ï¼ˆè·¯å¾„è§£æï¼‰</li>\n<li><code>path.parse</code>  å°†è·¯å¾„è§£æä¸ºå¯¹è±¡</li>\n<li><code>path.format</code>  å°†å¯¹è±¡è§£æä¸ºè·¯å¾„</li>\n</ul>\n<h2 id=\"osæ¨¡å—\"><a class=\"anchor\" href=\"#osæ¨¡å—\">#</a> os æ¨¡å—</h2>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>API</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td><strong>os.type()</strong></td>\n<td>å®ƒåœ¨ Linux ä¸Šè¿”å›  <code>'Linux'</code> ï¼Œåœ¨ macOS ä¸Šè¿”å›  <code>'Darwin'</code> ï¼Œåœ¨ Windows ä¸Šè¿”å›  <code>'Windows_NT'</code></td>\n</tr>\n<tr>\n<td>2</td>\n<td><strong>os.platform()</strong></td>\n<td>è¿”å›æ ‡è¯†ä¸ºå…¶ç¼–è¯‘ Node.js äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œç³»ç»Ÿå¹³å°çš„å­—ç¬¦ä¸²ã€‚ è¯¥å€¼åœ¨ç¼–è¯‘æ—¶è®¾ç½®ã€‚ å¯èƒ½çš„å€¼ä¸º  <code>'aix'</code> ã€ <code>'darwin'</code> ã€ <code>'freebsd'</code> ã€ <code>'linux'</code> ã€ <code>'openbsd'</code> ã€ <code>'sunos'</code> ã€ä»¥åŠ  <code>'win32'</code></td>\n</tr>\n<tr>\n<td>3</td>\n<td><strong>os.release()</strong></td>\n<td>è¿”å›æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¾‹å¦‚ 10.xxxx win10</td>\n</tr>\n<tr>\n<td>4</td>\n<td><strong>os.homedir()</strong></td>\n<td>è¿”å›ç”¨æˆ·ç›®å½• ä¾‹å¦‚ c:\\user\\xiaoman åŸç†å°±æ˜¯ windows  <code>echo %USERPROFILE% </code> posix $HOME</td>\n</tr>\n<tr>\n<td>5</td>\n<td><strong>os.arch()</strong></td>\n<td>è¿”å› cpu çš„æ¶æ„  å¯èƒ½çš„å€¼ä¸º  <code>'arm'</code> ã€ <code>'arm64'</code> ã€ <code>'ia32'</code> ã€ <code>'mips'</code> ã€ <code>'mipsel'</code> ã€ <code>'ppc'</code> ã€ <code>'ppc64'</code> ã€ <code>'s390'</code> ã€ <code>'s390x'</code> ã€ä»¥åŠ  <code>'x64'</code></td>\n</tr>\n<tr>\n<td>6</td>\n<td><strong>os.cups()</strong></td>\n<td>è·å– <code>cpuçº¿ç¨‹</code> å’Œ cpu è¯¦ç»†ä¿¡æ¯</td>\n</tr>\n<tr>\n<td>7</td>\n<td><strong>os.networkInterfaces()</strong></td>\n<td>è·å– <code>ç½‘ç»œä¿¡æ¯</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"processæ¨¡å—\"><a class=\"anchor\" href=\"#processæ¨¡å—\">#</a> process æ¨¡å—</h2>\n<ul>\n<li>\n<p><code>process.argv</code></p>\n<ul>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰æ‰§è¡Œç¯å¢ƒçš„è·¯å¾„</li>\n<li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å½“å‰æ‰§è¡Œçš„æ–‡ä»¶çš„è·¯å¾„</li>\n<li>å‰©ä½™çš„å‚æ•°æ˜¯ä¼ é€’ç»™è„šæœ¬æ–‡ä»¶çš„å‘½ä»¤è¡Œå‚æ•°</li>\n</ul>\n</li>\n<li>\n<p><code>process.env</code>  ç¯å¢ƒå˜é‡</p>\n</li>\n<li>\n<p><code>process.cwd()</code>  è¿”å›å½“å‰å·¥ä½œç›®å½•è·¯å¾„</p>\n</li>\n<li>\n<p><code>process.on(event,listener)</code> ï¼Œç›‘å¬è¿›ç¨‹å˜åŒ–</p>\n</li>\n<li>\n<p><code>process.exit([code])</code> ï¼Œé€€å‡º Node è¿›ç¨‹ï¼Œæä¾›é€€å‡ºç </p>\n</li>\n<li>\n<p><code>process.pid</code>  è¿”å›è¿›ç¨‹ id</p>\n</li>\n<li>\n<p><code>process.arch</code>  è¿”å›æ“ä½œç³»ç»Ÿ CPU æ¶æ„</p>\n</li>\n<li>\n<p><code>process.memoryUsage</code>  è·å–å½“å‰è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µ</p>\n</li>\n<li>\n<p><code>process.kill(process.pid)</code>  ç”¨äºæ€æ­»ä¸€ä¸ªè¿›ç¨‹</p>\n</li>\n</ul>\n<h2 id=\"child_processæ¨¡å—\"><a class=\"anchor\" href=\"#child_processæ¨¡å—\">#</a> child_process æ¨¡å—</h2>\n<p>å­è¿›ç¨‹æ˜¯ Nodejs æ ¸å¿ƒ APIï¼Œå¦‚æœä½ ä¼š shell å‘½ä»¤ï¼Œä»–ä¼šæœ‰éå¸¸å¤§çš„å¸®åŠ©ï¼Œæˆ–è€…ä½ å–œæ¬¢ç¼–å†™å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·ä¹‹ç±»çš„ï¼Œä»–ä¹Ÿæœ‰å¾ˆå¤§çš„ç”¨å¤„ï¼Œä»¥åŠå¤„ç† CPU å¯†é›†å‹åº”ç”¨ã€‚</p>\n<h4 id=\"åˆ›å»ºå­è¿›ç¨‹\"><a class=\"anchor\" href=\"#åˆ›å»ºå­è¿›ç¨‹\">#</a> åˆ›å»ºå­è¿›ç¨‹</h4>\n<p>Nodejs åˆ›å»ºå­è¿›ç¨‹å…±æœ‰ <code>7ä¸ª</code>  API Sync åŒæ­¥ API ï¼Œä¸åŠ æ˜¯å¼‚æ­¥ API</p>\n<ol>\n<li>spawn  æ‰§è¡Œå‘½ä»¤</li>\n<li>exec   æ‰§è¡Œå‘½ä»¤</li>\n<li>execFile   æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶</li>\n<li>fork   åˆ›å»º node å­è¿›ç¨‹</li>\n<li><code>execSync</code>  æ‰§è¡Œå‘½ä»¤ åŒæ­¥æ‰§è¡Œ</li>\n<li><code>execFileSync</code>  æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶ åŒæ­¥æ‰§è¡Œ</li>\n<li><code>spawnSync</code>  æ‰§è¡Œå‘½ä»¤ åŒæ­¥æ‰§è¡Œ</li>\n</ol>\n<h2 id=\"clusteræ¨¡å—\"><a class=\"anchor\" href=\"#clusteræ¨¡å—\">#</a> cluster æ¨¡å—</h2>\n<ul>\n<li>\n<p>cluster æ¨¡å—ä¹Ÿç”¨äºåˆ›å»º node å­è¿›ç¨‹</p>\n</li>\n<li>\n<p>ç›¸æ¯”è¾ƒäº child_process æ¨¡å—ï¼Œcluster æ¨¡å—ä¸»è¦ç”¨äºåˆ©ç”¨å¤šæ ¸ CPU çš„ä¼˜åŠ¿ï¼Œé€šè¿‡åˆ›å»ºå¤šä¸ªå·¥ä½œè¿›ç¨‹æ¥æé«˜åº”ç”¨ç¨‹åºçš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</p>\n</li>\n<li>\n<p>cluster æ¨¡å—åˆ›å»ºçš„æ¯ä¸ªå·¥ä½œè¿›ç¨‹éƒ½æ˜¯ç‹¬ç«‹åœ° node.js è¿›ç¨‹ï¼Œä»–ä»¬å…±äº«ä¸€ä¸ªç«¯å£å’Œç›‘å¬å™¨ï¼Œç”±ä¸»è¿›ç¨‹è´Ÿè´£åˆ†é…è¯·æ±‚åˆ°å„ä¸ªå·¥ä½œè¿›ç¨‹ã€‚</p>\n</li>\n<li>\n<p>cluster æ¨¡å—è‡ªåŠ¨å®ç°è¯·æ±‚çš„è´Ÿè½½å‡è¡¡ï¼Œä¸»è¿›ç¨‹ä¼šæ ¹æ®å·¥ä½œè¿›ç¨‹çš„è´Ÿè½½è¯·æƒ…å†µå°†è¯·æ±‚åˆ†é…ç»™ä¸åŒçš„å·¥ä½œè¿›ç¨‹ã€‚</p>\n</li>\n<li>\n<p>è¿›ç¨‹é€šè¿‡ process.send æ–¹æ³•è¿›è¡Œé€šä¿¡ï¼Œä½†å¸¸ç”¨äºå·¥ä½œè¿›ç¨‹å’Œä¸»è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</p>\n</li>\n<li>\n<p>cluster æ¨¡å—æ”¯æŒä¼˜é›…å…³é—­å·¥ä½œè¿›ç¨‹ï¼Œå…è®¸å·¥ä½œè¿›ç¨‹åœ¨å…³é—­ä¹‹å‰å®Œæˆå½“å‰æ­£åœ¨å¤„ç†çš„è¯·æ±‚ã€‚</p>\n</li>\n</ul>\n<h2 id=\"ffmpegå·¥å…·\"><a class=\"anchor\" href=\"#ffmpegå·¥å…·\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9mZm1wZWcucDJocC5jb20vZG93bmxvYWQuaHRtbA==\">ffmpeg å·¥å…·</span></h2>\n<p>FFmpeg æ˜¯ä¸€ä¸ªå¼€æºçš„è·¨å¹³å°å¤šåª’ä½“å¤„ç†å·¥å…·ï¼Œå¯ä»¥ç”¨äºå¤„ç†éŸ³é¢‘ã€è§†é¢‘å’Œå¤šåª’ä½“æµã€‚å®ƒæä¾›äº†ä¸€ç»„å¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·å’Œåº“ï¼Œå¯ä»¥è¿›è¡Œè§†é¢‘è½¬ç ã€è§†é¢‘å‰ªè¾‘ã€éŸ³é¢‘æå–ã€éŸ³è§†é¢‘åˆå¹¶ã€æµåª’ä½“ä¼ è¾“ç­‰æ“ä½œã€‚</p>\n<h2 id=\"eventsæ¨¡å—\"><a class=\"anchor\" href=\"#eventsæ¨¡å—\">#</a> events æ¨¡å—</h2>\n<p>Node.js çš„äº‹ä»¶æ¨¡å‹é‡‡ç”¨å‘å¸ƒè®¢é˜…çš„è®¾è®¡æ€æƒ³ï¼Œå°†å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´è§£è€¦åˆï¼Œä½¿å¾—åŒæ–¹èƒ½å¤Ÿç‹¬ç«‹åœ°æ‰©å±•è‡ªå·±ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> EventEmitter <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'events'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> event <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EventEmitter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// ç›‘å¬ test</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'dataæ•°æ®'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// æ´¾å‘äº‹ä»¶</span></pre></td></tr></table></figure><p>event å®ä¾‹é»˜è®¤ç›‘å¬ 10 ä¸ªä¸ºä¸Šé™ï¼Œå¯ä»¥é€šè¿‡ <code>setMaxListeners()</code>  æ–¹æ³•æ¥è®¾ç½®ç›‘å¬ä¸Šé™ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxListeners</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>event.onceæ–¹æ³•</code> å¯ä»¥åªè®¢é˜…ä¸€æ¬¡</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">once</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onceå–ä»£onï¼Œåªç›‘å¬ä¸€æ¬¡'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><code>event.off</code>  æ–¹æ³•å–æ¶ˆè®¢é˜…</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span> <span class=\"token comment\">// è®¢é˜…äº‹ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>event<span class=\"token punctuation\">.</span><span class=\"token function\">off</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span> <span class=\"token comment\">// å–æ¶ˆäº‹ä»¶è®¢é˜…</span></pre></td></tr></table></figure><h4 id=\"sse\"><a class=\"anchor\" href=\"#sse\">#</a> SSE</h4>\n<ul>\n<li>\n<p>SSEï¼ˆserver send eventsï¼‰æœåŠ¡ç«¯æ¨é€äº‹ä»¶</p>\n</li>\n<li>\n<p>æ˜¯ä¸€ç§å®ç°æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„æŠ€æœ¯ï¼Œä¹Ÿè¢«ç§°ä¸ºäº‹ä»¶æµ</p>\n</li>\n<li>\n<p>å®ƒæ˜¯åŸºäº HTTP åè®®ï¼Œåˆ©ç”¨ HTTP åè®®é•¿è¿æ¥çš„ä¼˜åŠ¿ï¼Œå®ç°æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€å®æ—¶æ•°æ®ã€‚</p>\n</li>\n<li>\n<p>æµè§ˆå™¨ç«¯éœ€è¦ä½¿ç”¨ <code>EventSource</code>  æ³¨å†Œ api åœ°å€ï¼ŒæœåŠ¡ç«¯éœ€è¦å¯¹è¯¥åœ°å€çš„å“åº”å¤´ä¸­è®¾ç½® Content-Type ä¸º  <code>text/event-stream </code></p>\n</li>\n</ul>\n<p><strong>node åç«¯ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/sse'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/event-stream'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// æ ¸å¿ƒè¿”å›æ•°æ®æµ</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token string-property property\">'Connection'</span><span class=\"token operator\">:</span> <span class=\"token string\">'close'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">let</span> current <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">//mock sse æ•°æ®</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">let</span> time <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>current <span class=\"token operator\">>=</span> total<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// è¿”å›è‡ªå®šä¹‰äº‹ä»¶å</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">event:name\\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// è¿”å›æ•°æ®</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>current<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">\\n\\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        current<span class=\"token operator\">++</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Listening on port 3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong>å®¢æˆ·ç«¯ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> sse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EventSource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/api/sse'</span> <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sse<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> EventSource<span class=\"token punctuation\">.</span><span class=\"token constant\">CONNECTING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æ­£åœ¨è¿æ¥æœåŠ¡å™¨...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sse<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> EventSource<span class=\"token punctuation\">.</span><span class=\"token constant\">OPEN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å·²ç»è¿æ¥ä¸ŠæœåŠ¡å™¨ï¼'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sse<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> EventSource<span class=\"token punctuation\">.</span><span class=\"token constant\">CLOSED</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è¿æ¥å·²ç»å…³é—­ã€‚'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>sse<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onmessage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>sse<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    sse<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å…³é—­è¿æ¥</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>sse<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'open'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è¿æ¥æˆåŠŸ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">// å¯¹åº”åç«¯ nodejs è‡ªå®šä¹‰çš„äº‹ä»¶å lol</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>sse<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"utilæ¨¡å—\"><a class=\"anchor\" href=\"#utilæ¨¡å—\">#</a> util æ¨¡å—</h2>\n<p>Node.js å†…éƒ¨æä¾›çš„å·¥å…·é›†æ¨¡å—ï¼Œæ–¹ä¾¿å¿«é€Ÿå¼€å‘</p>\n<ul>\n<li>\n<p><code>util.promisify</code>  å°†å‡½æ•°æ”¹ä¸º promise ç±»å‹çš„å½¢å¼</p>\n</li>\n<li>\n<p><code>util.callbackify</code>  å°† promise ç±»å‹çš„ api æ”¹ä¸ºå‡½æ•°å½¢å¼</p>\n</li>\n<li>\n<p><code>util.format</code>  ç”¨äºæ ¼å¼åŒ–æ–‡æœ¬</p>\n<ul>\n<li><code>%s</code> :  <code>String</code>  å°†ç”¨äºè½¬æ¢é™¤  <code>BigInt</code> ã€ <code>Object</code>  å’Œ  <code>-0</code>  ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚  <code>BigInt</code>  å€¼å°†ç”¨  <code>n</code>  è¡¨ç¤ºï¼Œæ²¡æœ‰ç”¨æˆ·å®šä¹‰çš„  <code>toString</code>  å‡½æ•°çš„å¯¹è±¡ä½¿ç”¨å…·æœ‰é€‰é¡¹  <code>&#123; depth: 0, colors: false, compact: 3 &#125;</code>  çš„  <code>util.inspect()</code>  è¿›è¡Œæ£€æŸ¥ã€‚</li>\n<li><code>%d</code> :  <code>Number</code>  å°†ç”¨äºè½¬æ¢é™¤  <code>BigInt</code>  å’Œ  <code>Symbol</code>  ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li>\n<li><code>%i</code> :  <code>parseInt(value, 10)</code>  ç”¨äºé™¤  <code>BigInt</code>  å’Œ  <code>Symbol</code>  ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li>\n<li><code>%f</code> :  <code>parseFloat(value)</code>  ç”¨äºé™¤  <code>Symbol</code>  ä¹‹å¤–çš„æ‰€æœ‰å€¼ã€‚</li>\n<li><code>%j</code> : JSONã€‚ å¦‚æœå‚æ•°åŒ…å«å¾ªç¯å¼•ç”¨ï¼Œåˆ™æ›¿æ¢ä¸ºå­—ç¬¦ä¸²  <code>'[Circular]'</code> ã€‚</li>\n<li><code>%o</code> :  <code>Object</code> . å…·æœ‰é€šç”¨ JavaScript å¯¹è±¡æ ¼å¼çš„å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ ç±»ä¼¼äºå…·æœ‰é€‰é¡¹  <code>&#123; showHidden: true, showProxy: true &#125;</code>  çš„  <code>util.inspect()</code> ã€‚ è¿™å°†æ˜¾ç¤ºå®Œæ•´çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§å’Œä»£ç†ã€‚</li>\n<li><code>%O</code> :  <code>Object</code> . å…·æœ‰é€šç”¨ JavaScript å¯¹è±¡æ ¼å¼çš„å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ ç±»ä¼¼äºæ²¡æœ‰é€‰é¡¹çš„  <code>util.inspect()</code> ã€‚ è¿™å°†æ˜¾ç¤ºå®Œæ•´çš„å¯¹è±¡ï¼Œä½†ä¸åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§å’Œä»£ç†ã€‚</li>\n<li><code>%c</code> :  <code>CSS</code> . æ­¤è¯´æ˜ç¬¦è¢«å¿½ç•¥ï¼Œå°†è·³è¿‡ä»»ä½•ä¼ å…¥çš„ CSSã€‚</li>\n<li><code>%%</code> : å•ä¸ªç™¾åˆ†å· ( <code>'%'</code> )ã€‚ è¿™ä¸æ¶ˆè´¹å‚æ•°ã€‚</li>\n</ul>\n</li>\n<li>\n<p>å…¶ä»–å·¥å…·å‡½æ•°çœç•¥</p>\n</li>\n</ul>\n<h2 id=\"pngquantå·¥å…·\"><a class=\"anchor\" href=\"#pngquantå·¥å…·\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9wbmdxdWFudC5vcmcv\">pngquant å·¥å…·</span></h2>\n<p><code>pngquant</code>  æ˜¯ä¸€ä¸ªç”¨äºå‹ç¼© PNG å›¾åƒæ–‡ä»¶çš„å·¥å…·ã€‚å®ƒå¯ä»¥æ˜¾è‘—å‡å° PNG æ–‡ä»¶çš„å¤§å°ï¼ŒåŒæ—¶ä¿æŒå›¾åƒè´¨é‡å’Œé€æ˜åº¦ã€‚é€šè¿‡å‡å°æ–‡ä»¶å¤§å°ï¼Œå¯ä»¥æé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ï¼Œå¹¶èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚ <code>pngquant</code>  æä¾›å‘½ä»¤è¡Œæ¥å£å’Œåº“ï¼Œå¯è½»æ¾é›†æˆåˆ°å„ç§åº”ç”¨ç¨‹åºå’Œè„šæœ¬ä¸­ã€‚</p>\n<h2 id=\"fsæ¨¡å—\"><a class=\"anchor\" href=\"#fsæ¨¡å—\">#</a> fs æ¨¡å—</h2>\n<p>åœ¨ Node.js ä¸­ï¼Œ <code>fs</code>  æ¨¡å—æ˜¯æ–‡ä»¶ç³»ç»Ÿæ¨¡å—ï¼ˆFile System moduleï¼‰çš„ç¼©å†™ï¼Œå®ƒæä¾›äº†ä¸æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„å„ç§åŠŸèƒ½ã€‚é€šè¿‡  <code>fs</code>  æ¨¡å—ï¼Œä½ å¯ä»¥æ‰§è¡Œè¯¸å¦‚è¯»å–æ–‡ä»¶ã€å†™å…¥æ–‡ä»¶ã€æ›´æ”¹æ–‡ä»¶æƒé™ã€åˆ›å»ºç›®å½•ç­‰æ“ä½œï¼Œ <code>Node.js æ ¸å¿ƒAPIä¹‹ä¸€</code> ã€‚</p>\n<h4 id=\"åŒæ­¥ä¸å¼‚æ­¥\"><a class=\"anchor\" href=\"#åŒæ­¥ä¸å¼‚æ­¥\">#</a> åŒæ­¥ä¸å¼‚æ­¥</h4>\n<ul>\n<li>\n<p>fs æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ¨¡å¼ å¢åŠ äº† <code>Sync</code>  fs å°±ä¼šé‡‡ç”¨åŒæ­¥çš„æ–¹å¼è¿è¡Œä»£ç ï¼Œä¼šé˜»å¡ä¸‹é¢çš„ä»£ç ï¼Œä¸åŠ  Sync å°±æ˜¯å¼‚æ­¥çš„æ¨¡å¼ä¸ä¼šé˜»å¡ã€‚</p>\n</li>\n<li>\n<p>fs æ–°å¢äº† promise ç‰ˆæœ¬ï¼Œåªéœ€è¦åœ¨å¼•å…¥åŒ…åé¢å¢åŠ  /promise å³å¯ï¼Œfs ä¾¿å¯æ”¯æŒ promise å›è°ƒã€‚</p>\n</li>\n<li>\n<p>fs è¿”å›çš„æ˜¯ä¸€ä¸ª buffer äºŒè¿›åˆ¶æ•°æ® æ¯ä¸¤ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚</p>\n</li>\n</ul>\n<h4 id=\"api\"><a class=\"anchor\" href=\"#api\">#</a> api</h4>\n<ul>\n<li><code>fs.readFile</code>  å¼‚æ­¥è¯»å–æ–‡ä»¶</li>\n<li><code>fs.writeFile</code>  å¼‚æ­¥å†™å…¥æ–‡ä»¶</li>\n<li><code>fs.appendFile</code>  æ–‡ä»¶å¼‚æ­¥è¿½åŠ å†™å…¥å†…å®¹</li>\n<li><code>fs.copyFile</code>  æ–‡ä»¶å¼‚æ­¥æ‹·è´å†™å…¥</li>\n<li><code>fs.open</code>  å¼‚æ­¥æ‰“å¼€æ–‡ä»¶</li>\n<li><code>fs.close</code>  å¼‚æ­¥å…³é—­æ–‡ä»¶</li>\n<li><code>fs.read</code>  å¼‚æ­¥è¯»å–æ–‡ä»¶</li>\n<li><code>fs.write</code>  å¼‚æ­¥å°† Buffer ä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶</li>\n<li><code>fs.access</code>  å¼‚æ­¥æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯è¯»å¯å†™</li>\n<li><code>fs.stat</code>  å¼‚æ­¥è·å–æ–‡ä»¶ç›®å½•çš„ stats å¯¹è±¡ï¼ˆæ–‡ä»¶å¤¹ä¿¡æ¯ï¼‰</li>\n<li><code>fs.mkdir</code>  å¼‚æ­¥åˆ›å»ºæ–‡ä»¶å¤¹</li>\n<li><code>fs.readdir</code>  å¼‚æ­¥è¯»å–æ–‡ä»¶å¤¹</li>\n<li><code>fs.rmdir</code>  å¼‚æ­¥åˆ é™¤ç›®å½•</li>\n<li><code>fs.unlink</code>  å¼‚æ­¥åˆ é™¤æ–‡ä»¶</li>\n<li>ä»¥ä¸Šæ–¹æ³•éƒ½æœ‰å¯¹åº”çš„åŒæ­¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ååé¢åŠ ä¸Š Sync åç¼€å³å¯ã€‚</li>\n</ul>\n<h4 id=\"fspromises\"><a class=\"anchor\" href=\"#fspromises\">#</a> fs/promises</h4>\n<p>node ä¸­ fs æ¨¡å—çš„æ–¹æ³•æä¾›äº† Promise ç‰ˆæœ¬çš„è°ƒç”¨å½¢å¼ï¼Œå¯¼å…¥å³å¯ä½¿ç”¨ promise çš„ä½¿ç”¨æ–¹å¼è°ƒç”¨ api</p>\n<h4 id=\"æºç \"><a class=\"anchor\" href=\"#æºç \">#</a> æºç </h4>\n<p>Node.js ä¸­ fs æ¨¡å—æ˜¯ç”± libuv æ¥è¿›è¡Œè°ƒåº¦çš„ï¼Œæ–‡ä»¶è¯»å–å®Œæˆä¹‹å libuv æ‰ä¼šå°† fs çš„ç»“æœæ¨å…¥ V8 çš„é˜Ÿåˆ—ã€‚</p>\n<h4 id=\"writefilesync\"><a class=\"anchor\" href=\"#writefilesync\">#</a> writeFileSync</h4>\n<ul>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å†™å…¥çš„æ–‡ä»¶</li>\n<li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å†™å…¥çš„å†…å®¹</li>\n<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å†™å…¥æ–¹å¼é…ç½®é¡¹ï¼Œå…¶ flag æœ‰ä»¥ä¸‹é…ç½®ï¼š\n<ul>\n<li><code>'a'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'ax'</code> : ç±»ä¼¼äº  <code>'a'</code>  ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</li>\n<li><code>'a+'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–å’Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'ax+'</code> : ç±»ä¼¼äº  <code>'a+'</code>  ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</li>\n<li><code>'as'</code> : ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'as+'</code> : ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–å’Œè¿½åŠ ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'r'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</li>\n<li><code>'r+'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</li>\n<li><code>'rs+'</code> : ä»¥åŒæ­¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ æŒ‡ç¤ºæ“ä½œç³»ç»Ÿç»•è¿‡æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ã€‚</li>\n<li><code>'w'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ åˆ›å»ºï¼ˆå¦‚æœå®ƒä¸å­˜åœ¨ï¼‰æˆ–æˆªæ–­ï¼ˆå¦‚æœå®ƒå­˜åœ¨ï¼‰è¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'wx'</code> : ç±»ä¼¼äº  <code>'w'</code>  ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</li>\n<li><code>'w+'</code> : æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ åˆ›å»ºï¼ˆå¦‚æœå®ƒä¸å­˜åœ¨ï¼‰æˆ–æˆªæ–­ï¼ˆå¦‚æœå®ƒå­˜åœ¨ï¼‰è¯¥æ–‡ä»¶ã€‚</li>\n<li><code>'wx+'</code> : ç±»ä¼¼äº  <code>'w+'</code>  ä½†å¦‚æœè·¯å¾„å­˜åœ¨åˆ™å¤±è´¥ã€‚</li>\n</ul>\n</li>\n</ul>\n<p>ä¾‹å¦‚è¿½åŠ æ–‡ä»¶å†…å®¹é™¤äº†å¯ä»¥ä½¿ç”¨ <code>appendFileSync</code>  ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'è¿½åŠ çš„å†…å®¹'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token literal-property property\">flag</span><span class=\"token operator\">:</span> <span class=\"token string\">'a'</span> <span class=\"token comment\">// é…ç½® options ä¸­çš„ flag</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h4 id=\"å¯å†™æµ\"><a class=\"anchor\" href=\"#å¯å†™æµ\">#</a> å¯å†™æµ</h4>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:fs'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> verse <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">'å¾…åˆ°ç§‹æ¥ä¹æœˆå…«'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token string\">'æˆ‘èŠ±å¼€åç™¾èŠ±æ€'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token string\">'å†²å¤©é¦™é˜µé€é•¿å®‰'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token string\">'æ»¡åŸå°½å¸¦é»„é‡‘ç”²'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">let</span> writeStream <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createWriteStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index.txt'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// åˆ›å»ºå†™å…¥æµ</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>verse<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// å†™å…¥å†…å®¹</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finish'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// ç›‘å¬å†™å…¥å®Œæˆäº‹ä»¶</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å†™å…¥å®Œæˆ'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯å†™æµ æ‰“å¼€ä¸€ä¸ªé€šé“ï¼Œå¯ä»¥ä¸€ç›´å†™å…¥æ•°æ®ï¼Œç”¨äºå¤„ç†å¤§é‡çš„æ•°æ®å†™å…¥ï¼Œå†™å…¥å®Œæˆä¹‹åè°ƒç”¨ end å…³é—­å¯å†™æµï¼Œç›‘å¬ finish äº‹ä»¶ å†™å…¥å®Œæˆ</p>\n<h4 id=\"ç¡¬é“¾æ¥-è½¯è¿æ¥\"><a class=\"anchor\" href=\"#ç¡¬é“¾æ¥-è½¯è¿æ¥\">#</a> ç¡¬é“¾æ¥ã€è½¯è¿æ¥</h4>\n<h6 id=\"inode\"><a class=\"anchor\" href=\"#inode\">#</a> inode</h6>\n<ul>\n<li>æ–‡ä»¶å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç£ç›˜çš„æœ€å°å­˜å‚¨å•ä½å«åš <code>æ‰‡åŒº</code> ï¼Œæ¯ä¸ªæ‰‡åŒºå­˜å‚¨ 512 å­—èŠ‚</li>\n<li>æ“ä½œç³»ç»Ÿè¯»å–ç£ç›˜æ—¶ï¼Œä¸ä¼šä¸€ä¸ªæ‰‡åŒºä¸€ä¸ªæ‰‡åŒºåœ°è¯»å–ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½ï¼Œè€Œæ˜¯ä¸€æ¬¡æ€§è¿ç»­è¯»å–å¤šä¸ªæ‰‡åŒºï¼Œå¤šä¸ªæ‰‡åŒºç§°ä¹‹ä¸º <code>å—</code></li>\n<li><code>å—</code> æ˜¯æ–‡ä»¶è¯»å–çš„æœ€å°å•ä½</li>\n<li>æ–‡ä»¶æ•°æ®éƒ½å­˜å‚¨åœ¨ <code>å—</code> ä¸­ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªåœ°æ–¹å­˜å‚¨æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œè¿™ä¸­å­˜å‚¨æ–‡ä»¶å…ƒä¿¡æ¯çš„åŒºåŸŸå°±å«åš <code>inode</code> ï¼Œç´¢å¼•èŠ‚ç‚¹</li>\n<li>åˆ›å»ºè½¯é“¾æ¥æ—¶ç”Ÿæˆäº†æ–°çš„ <code>inode</code> ï¼Œåˆ›å»ºç¡¬é“¾æ¥æ—¶æ²¡æœ‰ã€‚</li>\n</ul>\n<p><img data-src=\"/images/Snipaste_2024-05-29_14-07-39.png\" alt=\"æ‰‡åŒºã€å—å’Œinode\" /></p>\n<p><strong>inode ä¸­åŒ…å«ä¿¡æ¯ï¼š</strong></p>\n<ul>\n<li>æ–‡ä»¶çš„å­—èŠ‚æ•°</li>\n<li>æ–‡ä»¶æ‹¥æœ‰è€… ID</li>\n<li>æ–‡ä»¶çš„ Group ID</li>\n<li>æ–‡ä»¶è¯»ã€å†™ã€æ‰§è¡Œæƒé™</li>\n<li>æ–‡ä»¶çš„æ—¶é—´æˆ³</li>\n<li>é“¾æ¥æ•°</li>\n<li>æ–‡ä»¶æ•°æ® block çš„ä½ç½®</li>\n</ul>\n<p>æ¯ä¸€ä¸ª  <code>inode</code>  éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç  ï¼Œä¸Šé¢çš„è¾“å‡ºä¿¡æ¯ä¸­  <code>ino</code>  å°±æ˜¯  <code>inode</code>  çš„å”¯ä¸€æ ‡è¯†ç ï¼Œåœ¨  <code>linux</code>  ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨  <code>inode</code>  çš„æ ‡è¯†ç æ¥è¯†åˆ«æ–‡ä»¶ï¼Œå¹¶ä¸ä½¿ç”¨æ–‡ä»¶åã€‚ä¹‹å‰ç³»çš„</p>\n<p>åœ¨  <code>linux</code>  ç³»ç»Ÿä¸­ï¼Œç›®å½•ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ã€‚ç›®å½•æ–‡ä»¶åŒ…å«ä¸€ç³»åˆ—ç›®å½•é¡¹ï¼Œæ¯ä¸€ä¸ªç›®å½•é¡¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ‰€åŒ…å«æ–‡ä»¶çš„æ–‡ä»¶åï¼Œä»¥åŠæ–‡ä»¶åå¯¹åº”çš„  <code>inode</code>  æ ‡è¯†ç ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨  <code>ls -i</code>  æ¥åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶ä»¥åŠæ‰€æœ‰çš„  <code>inde</code>  æ ‡è¯†ç ã€‚è¿™é‡Œä¹Ÿå¯ä»¥è§£é‡Šå¯èƒ½å°ä¼™ä¼´ä»¬è§‰å¾—è¯´ä¸é€šçš„é—®é¢˜ï¼Œä»…ä¿®æ”¹ç›®å½•çš„è¯»æƒé™ï¼Œå¹¶ä¸èƒ½å®ç°è¯»å–ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å†…å®¹çš„åŸå› ï¼Œæœ€åéœ€è¦é€šè¿‡é€’å½’ç›®å½•ä¸‹çš„æ–‡ä»¶æ¥è¿›è¡Œä¿®æ”¹ã€‚</p>\n<h6 id=\"è½¯é“¾æ¥\"><a class=\"anchor\" href=\"#è½¯é“¾æ¥\">#</a> è½¯é“¾æ¥</h6>\n<p>è½¯é“¾æ¥ç±»ä¼¼äº  <code>Window</code>  ä¸­çš„ â€œå¿«æ·æ–¹å¼â€ ã€‚åˆ›å»ºè½¯é“¾æ¥ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„  <code>inode</code> ï¼Œæ¯”å¦‚ä¸ºæ–‡ä»¶  <code>a</code>  åˆ›å»ºäº†è½¯é“¾æ¥æ–‡ä»¶ bï¼Œæ–‡ä»¶  <code>b</code>  å†…éƒ¨ä¼šæŒ‡å‘  <code>a</code>  çš„  <code>inode</code> ã€‚å½“æˆ‘ä»¬è¯»å–æ–‡ä»¶ <code>b</code>  çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¯¼å‘æ–‡ä»¶  <code>a</code>  ï¼Œæ–‡ä»¶  <code>b</code>  å°±æ˜¯æ–‡ä»¶  <code>a</code>  è½¯è¿æ¥ (æˆ–è€…å«ç¬¦å·é“¾æ¥)ã€‚</p>\n<ul>\n<li>è®¿é—®ï¼šåˆ›å»ºäº†è½¯é“¾æ¥åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶åè®¿é—®ç›¸åŒçš„å†…å®¹ï¼Œ</li>\n<li>ä¿®æ”¹ï¼šä¿®æ”¹æ–‡ä»¶  <code>a</code>  çš„å†…å®¹ï¼Œæ–‡ä»¶  <code>b</code>  çš„å†…å®¹ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œå¯¹æ–‡ä»¶å†…å®¹çš„ä¿®æ”¹å‘æ”¾æ˜ åˆ°æ‰€æœ‰æ–‡ä»¶ã€‚</li>\n<li>åˆ é™¤ï¼šå½“æˆ‘ä»¬åˆ é™¤æºæ–‡ä»¶  <code>a</code>  æ—¶ï¼Œåœ¨è®¿é—®è½¯è¿æ¥æ–‡ä»¶ b æ˜¯ï¼Œä¼šæŠ¥é”™  <code>&quot;No such file or directory&quot;</code></li>\n</ul>\n<p>å¯ä»¥ç›´æ¥ä½¿ç”¨  <code>linux</code>  å‘½ä»¤  <code>ln -s source target</code>  æ¥åˆ›å»ºè½¯é“¾æ¥ (æ³¨æ„ï¼šè¡¨ç¤º  <code>target</code>  â€œæŒ‡å‘â€  <code>source</code> ï¼‰</p>\n<p><img data-src=\"/images/Snipaste_2024-05-29_14-12-05.png\" alt=\"è½¯é“¾æ¥\" /></p>\n<h6 id=\"ç¡¬é“¾æ¥\"><a class=\"anchor\" href=\"#ç¡¬é“¾æ¥\">#</a> ç¡¬é“¾æ¥</h6>\n<p>ä¸€èˆ¬æƒ…å†µï¼Œä¸€ä¸ªæ–‡ä»¶å &quot;å”¯ä¸€&quot; å¯¹åº”ä¸€ä¸ª  <code>inode</code> ã€‚ä½†æ˜¯  <code>linux</code>  å…è®¸å¤šä¸ªæ–‡ä»¶åéƒ½æŒ‡å‘åŒä¸€ä¸ª  <code>inode</code> ã€‚è¡¨ç¤ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒå¯¹æ–‡ä»¶åè®¿é—®åŒæ ·çš„å†…å®¹ï¼›å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œä¿®æ”¹å°†æ”¾æ˜ åˆ°æ‰€æœ‰æ–‡ä»¶ï¼›åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ä¸å½±å“å¦ä¸€ä¸ªæ–‡ä»¶å¯¹è®¿é—®ã€‚è¿™ç§æœºåˆ¶å°±è¢«ç§°ä¸º &quot;ç¡¬é“¾æ¥&quot;</p>\n<p>ç¡¬é“¾æ¥çš„åˆ›å»º å¯ä»¥ç›´æ¥ä½¿ç”¨  <code>linux</code>  å‘½ä»¤  <code>ln source target</code>  æ¥åˆ›å»ºç¡¬é“¾æ¥ï¼ˆæ³¨æ„ï¼š <code>source</code>  å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œtarget æ˜¯å°†è¦å»ºç«‹çš„é“¾æ¥ï¼‰</p>\n<p><img data-src=\"/images/Snipaste_2024-05-29_14-14-11.png\" alt=\"ç¡¬é“¾æ¥\" /></p>\n<h6 id=\"åˆ›å»ºé“¾æ¥\"><a class=\"anchor\" href=\"#åˆ›å»ºé“¾æ¥\">#</a> åˆ›å»ºé“¾æ¥</h6>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>fs<span class=\"token punctuation\">.</span><span class=\"token function\">linkSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./index2.txt'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ç¡¬é“¾æ¥</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>fs<span class=\"token punctuation\">.</span><span class=\"token function\">symlinkSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./index3.txt'</span> <span class=\"token punctuation\">,</span><span class=\"token string\">\"file\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è½¯è¿æ¥</span></pre></td></tr></table></figure><h6 id=\"ç”¨é€”\"><a class=\"anchor\" href=\"#ç”¨é€”\">#</a> ç”¨é€”</h6>\n<p><strong>ç¡¬é“¾æ¥çš„ä½œç”¨å’Œç”¨é€”å¦‚ä¸‹ï¼š</strong></p>\n<ol>\n<li>æ–‡ä»¶å…±äº«ï¼šç¡¬é“¾æ¥å…è®¸å¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸åŒçš„ä½ç½®ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶åå¼•ç”¨ç›¸åŒçš„å†…å®¹ã€‚è¿™æ ·çš„å…±äº«æ–‡ä»¶å¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”åœ¨å¤šä¸ªä½ç½®å¯¹æ–‡ä»¶çš„ä¿®æ”¹ä¼šåæ˜ åœ¨æ‰€æœ‰å¼•ç”¨æ–‡ä»¶ä¸Šã€‚</li>\n<li>æ–‡ä»¶å¤‡ä»½ï¼šé€šè¿‡åˆ›å»ºç¡¬é“¾æ¥ï¼Œå¯ä»¥åœ¨ä¸å¤åˆ¶æ–‡ä»¶çš„æƒ…å†µä¸‹åˆ›å»ºæ–‡ä»¶çš„å¤‡ä»½ã€‚å¦‚æœåŸå§‹æ–‡ä»¶å‘ç”Ÿæ›´æ”¹ï¼Œå¤‡ä»½æ–‡ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™æ ·å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´ï¼Œå¹¶ç¡®ä¿å¤‡ä»½æ–‡ä»¶ä¸åŸå§‹æ–‡ä»¶ä¿æŒåŒæ­¥ã€‚</li>\n<li>æ–‡ä»¶é‡å‘½åï¼šé€šè¿‡åˆ›å»ºç¡¬é“¾æ¥ï¼Œå¯ä»¥ä¸ºæ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶åï¼Œè€Œæ— éœ€å¤åˆ¶æˆ–ç§»åŠ¨æ–‡ä»¶ã€‚è¿™å¯¹äºéœ€è¦æ›´æ”¹æ–‡ä»¶åä½†ä¿æŒç›¸åŒå†…å®¹å’Œå±æ€§çš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</li>\n</ol>\n<p><strong>è½¯é“¾æ¥çš„ä¸€äº›ç‰¹ç‚¹å’Œç”¨é€”å¦‚ä¸‹ï¼š</strong></p>\n<ol>\n<li>è½¯é“¾æ¥å¯ä»¥åˆ›å»ºæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„å¼•ç”¨ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥åœ¨ä¸å¤åˆ¶æˆ–ç§»åŠ¨æ–‡ä»¶çš„æƒ…å†µä¸‹å¼•ç”¨å®ƒä»¬ï¼Œå¹¶åœ¨ä¸åŒä½ç½®ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶åè®¿é—®ç›¸åŒçš„å†…å®¹ã€‚</li>\n<li>è½¯é“¾æ¥å¯ä»¥ç”¨äºåˆ›å»ºå¿«æ·æ–¹å¼æˆ–åˆ«åï¼Œä½¿å¾—ä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€çŸ­æˆ–æ˜“è®°çš„è·¯å¾„æ¥è®¿é—®å¤æ‚æˆ–æ·±å±‚æ¬¡çš„ç›®å½•ç»“æ„ã€‚</li>\n<li>è½¯é“¾æ¥å¯ä»¥ç”¨äºè§£å†³æ–‡ä»¶æˆ–ç›®å½•çš„ä½ç½®å˜åŒ–é—®é¢˜ã€‚å¦‚æœç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•è¢«ç§»åŠ¨æˆ–é‡å‘½åï¼Œåªéœ€æ›´æ–°è½¯é“¾æ¥çš„ç›®æ ‡è·¯å¾„å³å¯ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å¼•ç”¨è¯¥æ–‡ä»¶æˆ–ç›®å½•çš„å…¶ä»–ä»£ç ã€‚</li>\n</ol>\n<h2 id=\"cryptoæ¨¡å—\"><a class=\"anchor\" href=\"#cryptoæ¨¡å—\">#</a> crypto æ¨¡å—</h2>\n<p>crypto æ¨¡å—çš„ç›®çš„æ˜¯ä¸ºäº†æä¾›é€šç”¨çš„ <code>åŠ å¯†å’Œå“ˆå¸Œç®—æ³•</code> ã€‚ç”¨çº¯ JavaScript ä»£ç å®ç°è¿™äº›åŠŸèƒ½ä¸æ˜¯ä¸å¯èƒ½ï¼Œä½†é€Ÿåº¦ä¼šéå¸¸æ…¢ã€‚nodejs ç”¨ C/C++ å®ç°è¿™äº›ç®—æ³•åï¼Œé€šè¿‡ crypto è¿™ä¸ªæ¨¡å—æš´éœ²ä¸º JavaScript æ¥å£ï¼Œè¿™æ ·ç”¨èµ·æ¥æ–¹ä¾¿ï¼Œè¿è¡Œé€Ÿåº¦ä¹Ÿå¿«ã€‚</p>\n<p>å¯†ç å­¦æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„ä¸€ä¸ªé‡è¦é¢†åŸŸï¼Œå®ƒæ¶‰åŠåˆ°åŠ å¯†ã€è§£å¯†ã€å“ˆå¸Œå‡½æ•°å’Œæ•°å­—ç­¾åç­‰æŠ€æœ¯ã€‚Node.js æ˜¯ä¸€ä¸ªæµè¡Œçš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„å¯†ç å­¦æ¨¡å—ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°åœ¨å…¶åº”ç”¨ç¨‹åºä¸­å®ç°å„ç§å¯†ç å­¦åŠŸèƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å¯†ç å­¦çš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶æ¢è®¨ Node.js ä¸­å¸¸ç”¨çš„å¯†ç å­¦ APIã€‚</p>\n<h4 id=\"å¯¹ç§°åŠ å¯†\"><a class=\"anchor\" href=\"#å¯¹ç§°åŠ å¯†\">#</a> å¯¹ç§°åŠ å¯†</h4>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jså¤åˆ¶ä»£ç <span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// ç”Ÿæˆä¸€ä¸ªéšæœºçš„ 16 å­—èŠ‚çš„åˆå§‹åŒ–å‘é‡ (IV)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> iv <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">randomBytes</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// ç”Ÿæˆä¸€ä¸ªéšæœºçš„ 32 å­—èŠ‚çš„å¯†é’¥</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">randomBytes</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºåŠ å¯†å®ä¾‹ï¼Œä½¿ç”¨ AES-256-CBC ç®—æ³•ï¼Œæä¾›å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">const</span> cipher <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createCipheriv</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aes-256-cbc\"</span><span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> iv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// å¯¹è¾“å…¥æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œå¹¶è¾“å‡ºåŠ å¯†ç»“æœçš„åå…­è¿›åˆ¶è¡¨ç¤º</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>cipher<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°æ»¡zs\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">final</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// è§£å¯†</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">const</span> de <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createDecipheriv</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aes-256-cbc\"</span><span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> iv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>de<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> <span class=\"token string\">\"hex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">const</span> decrypted <span class=\"token operator\">=</span> de<span class=\"token punctuation\">.</span><span class=\"token function\">final</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Decrypted:\"</span><span class=\"token punctuation\">,</span> decrypted<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>å¯¹ç§°åŠ å¯†æ˜¯ä¸€ç§ç®€å•è€Œå¿«é€Ÿçš„åŠ å¯†æ–¹å¼ï¼Œå®ƒä½¿ç”¨ç›¸åŒçš„å¯†é’¥ï¼ˆç§°ä¸ºå¯¹ç§°å¯†é’¥ï¼‰æ¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚è¿™æ„å‘³ç€å‘é€è€…å’Œæ¥æ”¶è€…åœ¨åŠ å¯†å’Œè§£å¯†è¿‡ç¨‹ä¸­éƒ½ä½¿ç”¨ç›¸åŒçš„å¯†é’¥ã€‚å¯¹ç§°åŠ å¯†ç®—æ³•çš„åŠ å¯†é€Ÿåº¦å¾ˆå¿«ï¼Œé€‚åˆå¯¹å¤§é‡æ•°æ®è¿›è¡ŒåŠ å¯†å’Œè§£å¯†æ“ä½œã€‚ç„¶è€Œï¼Œå¯¹ç§°å¯†é’¥çš„å®‰å…¨æ€§æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå› ä¸ºéœ€è¦ç¡®ä¿å‘é€è€…å’Œæ¥æ”¶è€…éƒ½å®‰å…¨åœ°å…±äº«å¯†é’¥ï¼Œå¦åˆ™æœ‰é£é™©è¢«æœªæˆæƒçš„äººè·å–å¯†é’¥å¹¶è§£å¯†æ•°æ®ã€‚</p>\n<h4 id=\"éå¯¹ç§°åŠ å¯†\"><a class=\"anchor\" href=\"#éå¯¹ç§°åŠ å¯†\">#</a> éå¯¹ç§°åŠ å¯†</h4>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>jså¤åˆ¶ä»£ç <span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:crypto'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// ç”Ÿæˆ RSA å¯†é’¥å¯¹</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> privateKey<span class=\"token punctuation\">,</span> publicKey <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">generateKeyPairSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rsa'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">modulusLength</span><span class=\"token operator\">:</span> <span class=\"token number\">2048</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// è¦åŠ å¯†çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'å°æ»¡zs'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨å…¬é’¥è¿›è¡ŒåŠ å¯†</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> encrypted <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">publicEncrypt</span><span class=\"token punctuation\">(</span>publicKey<span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ç§é’¥è¿›è¡Œè§£å¯†</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">const</span> decrypted <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">privateDecrypt</span><span class=\"token punctuation\">(</span>privateKey<span class=\"token punctuation\">,</span> encrypted<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>decrypted<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>éå¯¹ç§°åŠ å¯†ä½¿ç”¨ä¸€å¯¹å¯†é’¥ï¼Œåˆ†åˆ«æ˜¯å…¬é’¥å’Œç§é’¥ã€‚å‘é€è€…ä½¿ç”¨æ¥æ”¶è€…çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œè€Œæ¥æ”¶è€…ä½¿ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚å…¬é’¥å¯ä»¥è‡ªç”±åˆ†äº«ç»™ä»»ä½•äººï¼Œè€Œç§é’¥å¿…é¡»ä¿å¯†ã€‚éå¯¹ç§°åŠ å¯†ç®—æ³•æä¾›äº†æ›´é«˜çš„å®‰å…¨æ€§ï¼Œå› ä¸ºå³ä½¿å…¬é’¥æ³„éœ²ï¼Œåªæœ‰æŒæœ‰ç§é’¥çš„æ¥æ”¶è€…æ‰èƒ½è§£å¯†æ•°æ®ã€‚ç„¶è€Œï¼Œéå¯¹ç§°åŠ å¯†ç®—æ³•çš„åŠ å¯†é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼Œä¸é€‚åˆåŠ å¯†å¤§é‡æ•°æ®ã€‚å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸ä½¿ç”¨éå¯¹ç§°åŠ å¯†æ¥äº¤æ¢å¯¹ç§°å¯†é’¥ï¼Œç„¶åä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†å®é™…çš„æ•°æ®ã€‚</p>\n<h4 id=\"å“ˆå¸Œå‡½æ•°\"><a class=\"anchor\" href=\"#å“ˆå¸Œå‡½æ•°\">#</a> å“ˆå¸Œå‡½æ•°</h4>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// è¦è®¡ç®—å“ˆå¸Œçš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºå“ˆå¸Œå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ MD5 ç®—æ³•</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHash</span><span class=\"token punctuation\">(</span><span class=\"token string\">'md5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// æ›´æ–°å“ˆå¸Œå¯¹è±¡çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>hash<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶ä»¥åå…­è¿›åˆ¶å­—ç¬¦ä¸²å½¢å¼è¾“å‡º</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> hashValue <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Text:'</span><span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hash:'</span><span class=\"token punctuation\">,</span> hashValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>å“ˆå¸Œå‡½æ•°å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>\n<ol>\n<li>å›ºå®šé•¿åº¦è¾“å‡ºï¼šä¸è®ºè¾“å…¥æ•°æ®çš„å¤§å°ï¼Œå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºé•¿åº¦æ˜¯å›ºå®šçš„ã€‚ä¾‹å¦‚ï¼Œå¸¸è§çš„å“ˆå¸Œå‡½æ•°å¦‚ MD5 å’Œ SHA-256 ç”Ÿæˆçš„å“ˆå¸Œå€¼é•¿åº¦åˆ†åˆ«ä¸º 128 ä½å’Œ 256 ä½ã€‚</li>\n<li>ä¸å¯é€†æ€§ï¼šå“ˆå¸Œå‡½æ•°æ˜¯å•å‘çš„ï¼Œæ„å‘³ç€ä»å“ˆå¸Œå€¼æ¨å¯¼å‡ºåŸå§‹è¾“å…¥æ•°æ®æ˜¯éå¸¸å›°éš¾çš„ï¼Œå‡ ä¹ä¸å¯èƒ½ã€‚å³ä½¿è¾“å…¥æ•°æ®å‘ç”Ÿå¾®å°çš„å˜åŒ–ï¼Œå…¶å“ˆå¸Œå€¼ä¹Ÿä¼šå®Œå…¨ä¸åŒã€‚</li>\n<li>å”¯ä¸€æ€§ï¼šå“ˆå¸Œå‡½æ•°åº”è¯¥å…·æœ‰è¾ƒä½çš„ç¢°æ’æ¦‚ç‡ï¼Œå³ä¸åŒçš„è¾“å…¥æ•°æ®ç”Ÿæˆç›¸åŒçš„å“ˆå¸Œå€¼çš„å¯èƒ½æ€§åº”è¯¥éå¸¸å°ã€‚è¿™æœ‰åŠ©äºç¡®ä¿å“ˆå¸Œå€¼èƒ½å¤Ÿå”¯ä¸€åœ°æ ‡è¯†è¾“å…¥æ•°æ®ã€‚</li>\n</ol>\n<p>ä½¿ç”¨åœºæ™¯</p>\n<ol>\n<li>æˆ‘ä»¬å¯ä»¥é¿å…å¯†ç æ˜æ–‡ä¼ è¾“ ä½¿ç”¨ md5 åŠ å¯†æˆ–è€… sha256</li>\n<li>éªŒè¯æ–‡ä»¶å®Œæ•´æ€§ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ç”Ÿæˆ md5 å¦‚æœå‰ç«¯ä¸Šä¼ çš„ md5 å’Œåç«¯çš„è¯»å–æ–‡ä»¶å†…éƒ¨çš„ md5 åŒ¹é…è¯´æ˜æ–‡ä»¶æ˜¯å®Œæ•´çš„</li>\n</ol>\n<h2 id=\"mdè½¬html\"><a class=\"anchor\" href=\"#mdè½¬html\">#</a> md è½¬ html</h2>\n<h4 id=\"å·¥å…·\"><a class=\"anchor\" href=\"#å·¥å…·\">#</a> å·¥å…·</h4>\n<ul>\n<li>ejsï¼šæ¨¡æ¿æ¸²æŸ“åº“ï¼Œä½¿ç”¨ç‰¹å®šè¯­æ³•å¡«å……å†…å®¹ï¼Œè¿›è¡Œæ¨¡æ¿æ¸²æŸ“</li>\n<li>markedï¼šç”¨äºå°† Markdown è¯­æ³•è½¬ä¸º HTML</li>\n<li>browserSyncï¼šç”¨äºåœ¨æµè§ˆå™¨å®æ—¶é¢„è§ˆå’ŒåŒæ­¥åˆ·æ–°</li>\n</ul>\n<h4 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨</h4>\n<p>index.js</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> ejs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ejs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¯¼å…¥ ejs åº“ï¼Œç”¨äºæ¸²æŸ“æ¨¡æ¿</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¯¼å…¥ fs æ¨¡å—ï¼Œç”¨äºæ–‡ä»¶ç³»ç»Ÿæ“ä½œ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> marked <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'marked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¯¼å…¥ marked åº“ï¼Œç”¨äºå°† Markdown è½¬æ¢ä¸º HTML</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> readme <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'README.md'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¯»å– README.md æ–‡ä»¶çš„å†…å®¹ï¼Œç›´æ¥ read çš„ç»“æœæ˜¯ buffer ä¸­çš„æ•°æ®ï¼Œé€šè¿‡ toString æ–¹æ³•å˜ä¸ºåŸå§‹å†…å®¹</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> browserSync <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'browser-sync'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¯¼å…¥ browser-sync åº“ï¼Œç”¨äºå®æ—¶é¢„è§ˆå’ŒåŒæ­¥æµè§ˆå™¨</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">openBrowser</span> <span class=\"token operator\">=</span>  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»ºæµè§ˆå™¨æœåŠ¡</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> browserSync<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// åˆå§‹åŒ–æµè§ˆå™¨æœåŠ¡ ï¼Œä¼ å…¥ç›®å½•å’Œä¸»é¡µ</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    browser<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token literal-property property\">server</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token literal-property property\">baseDir</span><span class=\"token operator\">:</span> <span class=\"token string\">'./'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token string\">'index.html'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> browser</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//ejs æ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼Œä¼ å…¥å˜é‡</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>ejs<span class=\"token punctuation\">.</span><span class=\"token function\">renderFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'template.ejs'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> marked<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>readme<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span><span class=\"token string\">'markdown to html'</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span>data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">// å°†æ–‡ä»¶å†…å®¹å†™å…¥åˆ° index.html</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">let</span> writeStream <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createWriteStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    writeStream<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finish'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">//index.html å†™å…¥å®Œæ¯•ä¹‹åï¼Œæ‰“å¼€æµè§ˆå™¨å®æ—¶é¢„è§ˆ</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token function\">openBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>template.ejs</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>&lt;%= title %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./index.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <span class=\"token comment\">&lt;!-- å¼•å…¥ css æ ·å¼ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    &lt;%- content %></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>index.css</p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* Markdown é€šç”¨æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/* è®¾ç½®å…¨å±€å­—ä½“æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token selector\">body</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Arial<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 1.6<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®æ ‡é¢˜æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token selector\">h1,h2,h3,h4,h5,h6</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 1.3em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 0.6em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token selector\">h1</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 2.2em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token selector\">h2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.8em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token selector\">h3</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.6em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token selector\">h4</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.4em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token selector\">h5</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.2em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token selector\">h6</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®æ®µè½æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token selector\">p</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 1.3em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®é“¾æ¥æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token selector\">a</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #337ab7<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token selector\">a:hover</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> underline<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®åˆ—è¡¨æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token selector\">ul,</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  ol</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 1.3em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®ä»£ç å—æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token selector\">pre</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f7f7f7<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token selector\">code</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Consolas<span class=\"token punctuation\">,</span> Monaco<span class=\"token punctuation\">,</span> Courier<span class=\"token punctuation\">,</span> monospace<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.9em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f7f7f7<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.2em 0.4em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®å¼•ç”¨æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token selector\">blockquote</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token property\">border-left</span><span class=\"token punctuation\">:</span> 4px solid #ddd<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #777<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®è¡¨æ ¼æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token selector\">table</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token property\">border-collapse</span><span class=\"token punctuation\">:</span> collapse<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 1.3em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token selector\">table th,</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  table td</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #ccc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token comment\">/* æ·»åŠ ä¸€äº›é¢å¤–çš„æ ·å¼ï¼Œå¦‚å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token selector\">img</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®ä»£ç è¡Œå·æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>  <span class=\"token selector\">pre code .line-numbers</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #999<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>    <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>    <span class=\"token property\">user-select</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    <span class=\"token property\">pointer-events</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token property\">border-right</span><span class=\"token punctuation\">:</span> 1px solid #ddd<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®ä»£ç è¡Œæ ·å¼ */</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token selector\">pre code .line</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 1.5em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>  <span class=\"token comment\">/* è®¾ç½®ä»£ç é«˜äº®æ ·å¼ */</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token selector\">pre code .line.highlighted</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f7f7f7<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token comment\">/* æ·»åŠ ä¸€äº›å“åº”å¼æ ·å¼ï¼Œé€‚åº”ç§»åŠ¨è®¾å¤‡ */</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token keyword\">only</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 768px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>    <span class=\"token selector\">body</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>      <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 1.5<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>    <span class=\"token selector\">h1</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.8em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>    <span class=\"token selector\">h2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.5em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>    <span class=\"token selector\">h3</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.3em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>    <span class=\"token selector\">h4</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>    <span class=\"token selector\">h5</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>    <span class=\"token selector\">h6</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.9em<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>    <span class=\"token selector\">table</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"zlibæ¨¡å—\"><a class=\"anchor\" href=\"#zlibæ¨¡å—\">#</a> zlib æ¨¡å—</h2>\n<h4 id=\"ä»‹ç»-2\"><a class=\"anchor\" href=\"#ä»‹ç»-2\">#</a> ä»‹ç»</h4>\n<ul>\n<li>Node.js ä¸­ zlib æ¨¡å—ç”¨äºå¯¹æ•°æ®æä¾›å‹ç¼©å’Œè§£å‹ç¼©çš„åŠŸèƒ½ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºä¸­å‡å°‘æ•°æ®çš„ä¼ è¾“å¤§å°ã€èŠ‚çœå¸¦å®½å’Œæé«˜æ€§èƒ½</li>\n<li>è¯¥æ¨¡å—åŒ…å«å„ç§å‹ç¼©ç®—æ³•ï¼ŒåŒ…å« Deflateã€Gzip å’Œ Raw Deflate ç­‰</li>\n</ul>\n<h4 id=\"ä½œç”¨\"><a class=\"anchor\" href=\"#ä½œç”¨\">#</a> ä½œç”¨</h4>\n<ul>\n<li>\n<p>æ•°æ®å‹ç¼©ï¼Œå‡å°‘æ•°æ®çš„å¤§å°ï¼Œè¿™åœ¨ç½‘ç»œä¼ è¾“å’Œç£ç›˜å­˜å‚¨ä¸­å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥èŠ‚çœå¸¦å®½å’Œå­˜å‚¨ç©ºé—´</p>\n</li>\n<li>\n<p>æ•°æ®è§£å‹ç¼©</p>\n</li>\n<li>\n<p>æµå‹ç¼©ï¼Œzlib æ¨¡å—æ”¯æŒæµå¼çš„æ–¹å¼è¿›è¡Œæ•°æ®çš„å‹ç¼©å’Œè§£å‹ç¼©ï¼Œä½¿å¾—å¯ä»¥å¯¹å¤§å‹æ–‡ä»¶æˆ–è€…ç½‘ç»œæ•°æ®æµè¿›è¡Œé€æ­¥å¤„ç†ï¼Œè€Œä¸éœ€è¦å°†æ•´ä¸ªæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å‹ç¼©æ–‡ä»¶ï¼ˆä»¥ Gzip ä¸ºä¾‹ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> zlib <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'zlib'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:fs'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> readStream <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createReadStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./test.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> writeStream <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createWriteStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./test.txt.gz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// å°† readStream åˆ©ç”¨ zlib è¿›è¡Œå‹ç¼©ï¼Œpipe åˆ°ä¸‹ä¸€ä¸ªç®¡é“ï¼Œæœ€å pipe åˆ°å†™å…¥æµ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>readStream<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>zlib<span class=\"token punctuation\">.</span><span class=\"token function\">createGzip</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>writeStream<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// è§£å‹ç¼©æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> reStr <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createReadStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./test.txt.gz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">const</span> wrStr <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">createWriteStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./t.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> gunzip <span class=\"token operator\">=</span> zlib<span class=\"token punctuation\">.</span><span class=\"token function\">createGunzip</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>reStr<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gunzip<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>wrStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>gunzip<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Gunzip error:'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  reStr<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Input file has been read.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  wrStr<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finish'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Output file has been written.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h4 id=\"å¯¹æ¯”-2\"><a class=\"anchor\" href=\"#å¯¹æ¯”-2\">#</a> å¯¹æ¯”</h4>\n<ol>\n<li>å‹ç¼©ç®—æ³•ï¼šGzip ä½¿ç”¨çš„æ˜¯ Deflate å‹ç¼©ç®—æ³•ï¼Œè¯¥ç®—æ³•ç»“åˆäº† LZ77 ç®—æ³•å’Œå“ˆå¤«æ›¼ç¼–ç ã€‚LZ77 ç®—æ³•ç”¨äºæ•°æ®çš„é‡å¤å­—ç¬¦ä¸²çš„æ›¿æ¢å’Œå¼•ç”¨ï¼Œè€Œå“ˆå¤«æ›¼ç¼–ç ç”¨äºè¿›ä¸€æ­¥å‹ç¼©æ•°æ®ã€‚</li>\n<li>å‹ç¼©æ•ˆç‡ï¼šGzip å‹ç¼©é€šå¸¸å…·æœ‰æ›´é«˜çš„å‹ç¼©ç‡ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†å“ˆå¤«æ›¼ç¼–ç æ¥è¿›ä¸€æ­¥å‹ç¼©æ•°æ®ã€‚å“ˆå¤«æ›¼ç¼–ç æ ¹æ®å­—ç¬¦çš„å‡ºç°é¢‘ç‡ï¼Œå°†è¾ƒå¸¸è§çš„å­—ç¬¦ç”¨è¾ƒçŸ­çš„ç¼–ç è¡¨ç¤ºï¼Œä»è€Œå‡å°æ•°æ®çš„å¤§å°ã€‚</li>\n<li>å‹ç¼©é€Ÿåº¦ï¼šç›¸æ¯”äºä»…ä½¿ç”¨ Deflate çš„æ–¹å¼ï¼ŒGzip å‹ç¼©éœ€è¦æ›´å¤šçš„è®¡ç®—å’Œå¤„ç†æ—¶é—´ï¼Œå› ä¸ºå®ƒè¿˜è¦è¿›è¡Œå“ˆå¤«æ›¼ç¼–ç çš„æ­¥éª¤ã€‚å› æ­¤ï¼Œåœ¨å‹ç¼©é€Ÿåº¦æ–¹é¢ï¼ŒDeflate å¯èƒ½æ¯” Gzip æ›´å¿«ã€‚</li>\n<li>åº”ç”¨åœºæ™¯ï¼šGzip å‹ç¼©å¸¸ç”¨äºæ–‡ä»¶å‹ç¼©ã€ç½‘ç»œä¼ è¾“å’Œ HTTP å“åº”çš„å†…å®¹ç¼–ç ã€‚å®ƒå¹¿æ³›åº”ç”¨äº Web æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œä»¥å‡å°æ–‡ä»¶å¤§å°å’Œæé«˜ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li>\n<li>deflate æ˜¯ä¸€ç§è¿‡æ—¶çš„å‹ç¼©æ–¹å¼ï¼Œç°ä»£æµè§ˆå™¨å¯¹å…¶æ”¯æŒå¹¶ä¸å‹å¥½</li>\n</ol>\n</li>\n</ul>\n<p><strong>zlib æ¨¡å—å¯ä»¥ç”¨äºå¯¹å‘é€ç½‘ç»œè¯·æ±‚è¿”å›çš„æ•°æ®è¿›è¡Œå‹ç¼©ï¼ŒèŠ‚çœå¸¦å®½å’Œä¼ è¾“é€Ÿç‡ã€‚</strong></p>\n<h4 id=\"brotli\"><a class=\"anchor\" href=\"#brotli\">#</a> brotli</h4>\n<ul>\n<li>é’ˆå¯¹å¸¸è§çš„ Web èµ„æºå†…å®¹ï¼ŒBrotli çš„æ€§èƒ½æ¯” Gzip æé«˜äº† 17-25%ï¼›</li>\n<li>å½“ Brotli å‹ç¼©çº§åˆ«ä¸º 1 æ—¶ï¼Œå‹ç¼©ç‡æ¯” Gzip çš„æœ€é«˜çº§åˆ« 9 è¿˜è¦é«˜ï¼›</li>\n<li>åœ¨å¤„ç†ä¸åŒçš„ HTML æ–‡æ¡£æ—¶ï¼ŒBrotli ä¾ç„¶èƒ½æä¾›éå¸¸é«˜çš„å‹ç¼©ç‡ã€‚</li>\n<li>é™¤äº† IE å’Œ Opera Mini ä¹‹å¤–ï¼Œå‡ ä¹æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å·²æ”¯æŒ Brotli ç®—æ³•ã€‚</li>\n<li>å°½ç®¡ Brotli åœ¨å‹ç¼©æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä½†éšç€å‹ç¼©çº§åˆ«çš„æé«˜ï¼ŒBrotli å‹ç¼©æ‰€éœ€çš„æ—¶é—´ä¹Ÿä¼šç›¸åº”å¢åŠ ã€‚æ¢å¥è¯è¯´ï¼ŒBrotli éœ€è¦æ›´å¤šçš„è®¡ç®—èƒ½åŠ›ï¼Œè¿™å¯èƒ½æ„å‘³ç€æ›´é«˜çš„è®¾å¤‡å’Œè½¯ä»¶æˆæœ¬ã€‚</li>\n<li>Brotli è¦æ±‚æµè§ˆå™¨å¿…é¡»æ”¯æŒ HTTPS æ‰èƒ½ä½¿ç”¨ã€‚</li>\n</ul>\n<h2 id=\"httpæ¨¡å—\"><a class=\"anchor\" href=\"#httpæ¨¡å—\">#</a> http æ¨¡å—</h2>\n<h4 id=\"ä»‹ç»-3\"><a class=\"anchor\" href=\"#ä»‹ç»-3\">#</a> ä»‹ç»</h4>\n<ul>\n<li>http æ¨¡å—æ˜¯ Node.js ä¸­ç”¨äºåˆ›å»ºå’Œå¤„ç† HTTP æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„æ ¸å¿ƒæ¨¡å—</li>\n<li>http æ¨¡å—ä½¿å¾—åŸºäº HTTP åè®®çš„åº”ç”¨ç¨‹åºæ›´åŠ ç®€å•å’Œçµæ´»</li>\n<li>http æ¨¡å—ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºä»£ç†æœåŠ¡å™¨ï¼Œç”¨äºè½¬å‘å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ°å…¶ä»–æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å¯ä»¥ç”¨äºè´Ÿè½½å‡è¡¡ã€ç¼“å­˜ã€å®‰å…¨è¿‡æ»¤æˆ–è·¨åŸŸè¯·æ±‚ç­‰åœºæ™¯ã€‚é€šè¿‡åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šæ·»åŠ é€»è¾‘ï¼Œå¯ä»¥å¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œä¿®æ”¹ã€è®°å½•æˆ–è¿‡æ»¤ã€‚</li>\n<li>http æ¨¡å—ä¹Ÿå¯ä»¥åˆ›å»ºæ–‡ä»¶æœåŠ¡å™¨ï¼Œç”¨äºæä¾›é™æ€æ–‡ä»¶ï¼Œé€šè¿‡è¯»å–æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºå“åº”å‘é€ç»™å®¢æˆ·ç«¯ã€‚</li>\n</ul>\n<h4 id=\"ä½¿ç”¨-2\"><a class=\"anchor\" href=\"#ä½¿ç”¨-2\">#</a> ä½¿ç”¨</h4>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> httpServer <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>httpServer<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">98</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æœåŠ¡å™¨å¯åŠ¨ï¼Œç«¯å£ï¼š98'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h4 id=\"urlæ¨¡å—\"><a class=\"anchor\" href=\"#urlæ¨¡å—\">#</a> url æ¨¡å—</h4>\n<p>å¯ä»¥é€šè¿‡ url æ¨¡å—æ¥è§£æ req çš„è¯·æ±‚è·¯å¾„ï¼Œæ¥è¿›ä¸€æ­¥ç²¾ç»†åŒ–å“åº”å†…å®¹ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¼•å…¥ http æ¨¡å—</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node:url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¼•å…¥ url æ¨¡å—</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// åˆ›å»º HTTP æœåŠ¡å™¨ï¼Œå¹¶ä¼ å…¥å›è°ƒå‡½æ•°ç”¨äºå¤„ç†è¯·æ±‚å’Œç”Ÿæˆå“åº”</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> pathname<span class=\"token punctuation\">,</span> query <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è§£æè¯·æ±‚çš„ URLï¼Œè·å–è·¯å¾„å’ŒæŸ¥è¯¢å‚æ•°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æ£€æŸ¥è¯·æ±‚æ–¹æ³•æ˜¯å¦ä¸º POST</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pathname <span class=\"token operator\">===</span> <span class=\"token string\">'/post'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æ£€æŸ¥è·¯å¾„æ˜¯å¦ä¸º '/post'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      req<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        data <span class=\"token operator\">+=</span> chunk<span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·å– POST è¯·æ±‚çš„æ•°æ®</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      req<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®å“åº”å¤´çš„ Content-Type ä¸º 'application/json'</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®å“åº”çŠ¶æ€ç ä¸º 200</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å°†è·å–åˆ°çš„æ•°æ®ä½œä¸ºå“åº”ä½“è¿”å›</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®å“åº”å¤´çš„ Content-Type ä¸º 'application/json'</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">404</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®å“åº”çŠ¶æ€ç ä¸º 404</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Not Found'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿”å› 'Not Found' ä½œä¸ºå“åº”ä½“</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æ£€æŸ¥è¯·æ±‚æ–¹æ³•æ˜¯å¦ä¸º GET</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pathname <span class=\"token operator\">===</span> <span class=\"token string\">'/get'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æ£€æŸ¥è·¯å¾„æ˜¯å¦ä¸º '/get'</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ‰“å°æŸ¥è¯¢å‚æ•°ä¸­çš„é”®åä¸º 'a' çš„å€¼</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get success'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿”å› 'get success' ä½œä¸ºå“åº”ä½“</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">98</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server is running on port 98'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ‰“å°æœåŠ¡å™¨å¯åŠ¨çš„ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"netæ¨¡å—\"><a class=\"anchor\" href=\"#netæ¨¡å—\">#</a> net æ¨¡å—</h2>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<ul>\n<li>net æ¨¡å—æ˜¯ Node.js çš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œæä¾›äº†ç”¨äºåˆ›å»ºåŸºäºç½‘ç»œçš„åº”ç”¨ç¨‹åºçš„ API</li>\n<li>net æ¨¡å—ä¸»è¦ç”¨äº<strong>åˆ›å»º TCP æœåŠ¡å™¨å’Œ TCP å®¢æˆ·ç«¯ï¼Œä»¥åŠå¤„ç†ç½‘ç»œé€šä¿¡</strong></li>\n</ul>\n<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>\n<ul>\n<li>\n<p>æœåŠ¡ç«¯ä¹‹é—´çš„é€šè®¯</p>\n<ul>\n<li>\n<p>æœåŠ¡ç«¯ä¹‹é—´çš„é€šè®¯å¯ä»¥ç›´æ¥ä½¿ç”¨ TCP é€šè®¯ï¼Œè€Œä¸éœ€è¦ä¸Šå‡åˆ° http å±‚</p>\n</li>\n<li>\n<p>server.jsï¼ˆTCP å±‚é¢çš„æœåŠ¡ç«¯ï¼‰</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> net <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'net'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> net<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">client</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  client<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å‘é€TCPå†…å®¹'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3000ç«¯å£å¯åŠ¨æœåŠ¡'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n<li>\n<p>connection.jsï¼ˆTCP å±‚é¢çš„å®¢æˆ·ç«¯ï¼‰</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> net <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'net'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> connection <span class=\"token operator\">=</span> net<span class=\"token punctuation\">.</span><span class=\"token function\">createConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">host</span><span class=\"token operator\">:</span><span class=\"token string\">'127.0.0.1'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span><span class=\"token number\">3000</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>connection<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>ä»ä¼ è¾“å±‚å®ç° http åè®®</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> net <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'net'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h1>TCP Server&lt;/h1></span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> reposneHeader <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token string\">'HTTP/1.1 200 OK'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token string\">'Content-Type: text/html'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token string\">'Content-Length: '</span> <span class=\"token operator\">+</span> html<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token string\">'Server: Nodejs'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token string\">'\\r\\n'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    html</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> net<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">connect</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  connect<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      connect<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>reposneHeader<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\r\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// å‘ TCP è¿æ¥ä¸­å†™å…¥ html å“åº”</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      connect<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>http<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æœåŠ¡å¯åŠ¨'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"åŠ¨é™åˆ†ç¦»\"><a class=\"anchor\" href=\"#åŠ¨é™åˆ†ç¦»\">#</a> åŠ¨é™åˆ†ç¦»</h2>\n<ul>\n<li>åŠ¨é™åˆ†ç¦»æ˜¯ Web æœåŠ¡å™¨æ¶æ„ä¸­å¸¸ç”¨çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œç”¨äºæé«˜ç½‘ç«™çš„æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§</li>\n<li>åŸç†å°±æ˜¯å°†é™æ€èµ„æºçš„è¯·æ±‚å’ŒåŠ¨æ€å†…å®¹åˆ†å¼€å¤„ç†ï¼ˆé€šè¿‡ urlï¼Œä¾‹å¦‚åŠ ä¸Š static åç¼€è¡¨ç¤ºé™æ€ï¼‰</li>\n<li>å¥½å¤„åœ¨äºï¼š\n<ul>\n<li>æ€§èƒ½ä¼˜åŒ–ï¼ˆé™æ€èµ„æºå†…å®¹ä¸å˜ï¼Œå¯ä»¥åˆ©ç”¨ç¼“å­˜ï¼‰</li>\n<li>è´Ÿè½½å‡è¡¡ï¼ˆåŠ¨æ€å†…å®¹è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨æˆ–æœåŠ¡ä¸Šï¼Œå¹³è¡¡æœåŠ¡å™¨çš„è´Ÿè½½ï¼‰</li>\n<li>å®‰å…¨æ€§ï¼ˆåŠ¨æ€å†…å®¹å¾€å¾€æ¶‰åŠæ•æ„Ÿä¿¡æ¯ï¼ŒåŠ¨é™åˆ†ç¦»å¯ä»¥æ›´å¥½åœ°ç®¡ç†è®¿é—®æ§åˆ¶å’Œå®‰å…¨ç­–ç•¥ï¼‰</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> http <span class=\"token keyword\">from</span> <span class=\"token string\">'node:http'</span> <span class=\"token comment\">// å¯¼å…¥ http æ¨¡å—</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'node:fs'</span> <span class=\"token comment\">// å¯¼å…¥æ–‡ä»¶ç³»ç»Ÿæ¨¡å—</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">'node:path'</span> <span class=\"token comment\">// å¯¼å…¥è·¯å¾„å¤„ç†æ¨¡å—</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> mime <span class=\"token keyword\">from</span> <span class=\"token string\">'mime'</span> <span class=\"token comment\">// å¯¼å…¥ mime æ¨¡å—</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> url<span class=\"token punctuation\">,</span> method <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> req</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// å¤„ç†é™æ€èµ„æº</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'GET'</span> <span class=\"token operator\">&amp;&amp;</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–æ–‡ä»¶è·¯å¾„</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">const</span> mimeType <span class=\"token operator\">=</span> mime<span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–æ–‡ä»¶çš„ MIME ç±»å‹</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mimeType<span class=\"token punctuation\">)</span> <span class=\"token comment\">// æ‰“å° MIME ç±»å‹</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// è¯»å–æ–‡ä»¶å†…å®¹</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">404</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                    <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text/plain\"</span> <span class=\"token comment\">// è®¾ç½®å“åº”å¤´ä¸ºçº¯æ–‡æœ¬ç±»å‹</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'not found'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è¿”å› 404 Not Found</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                    <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span> mimeType<span class=\"token punctuation\">,</span> <span class=\"token comment\">// è®¾ç½®å“åº”å¤´ä¸ºå¯¹åº”çš„ MIME ç±»å‹</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                    <span class=\"token string-property property\">\"Cache-Control\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public, max-age=3600\"</span> <span class=\"token comment\">// è®¾ç½®ç¼“å­˜æ§åˆ¶å¤´</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token comment\">// è¿”å›æ–‡ä»¶å†…å®¹</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">// å¤„ç†åŠ¨æ€èµ„æº</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">//... å¤„ç†åŠ¨æ€èµ„æºçš„é€»è¾‘</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ç›‘å¬ç«¯å£ 80</span></pre></td></tr></table></figure><h2 id=\"é‚®ä»¶æœåŠ¡\"><a class=\"anchor\" href=\"#é‚®ä»¶æœåŠ¡\">#</a> é‚®ä»¶æœåŠ¡</h2>\n<p>é‚®ä»¶æœåŠ¡å¯ä»¥ç”¨äºç»™æˆå‘˜å‘é€é‚®ä»¶ã€é€šçŸ¥æˆå‘˜ä¿¡æ¯ï¼Œåœ¨ node.js ä¸Šåˆ›å»ºé‚®ä»¶æœåŠ¡ï¼Œéœ€è¦æä¾›æˆæƒç ã€‚</p>\n<p><strong>å·¥å…·ï¼š</strong></p>\n<ul>\n<li>js-yamlï¼šç”¨äºå°† yaml è½¬ä¸º js å¯¹è±¡</li>\n<li>nodemailerï¼šç”¨äºåˆ›å»ºé‚®ä»¶æœåŠ¡</li>\n</ul>\n<p><strong>ä½¿ç”¨ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//node.js å‘é€é‚®ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> yamlTrans <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js-yaml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> nodemailer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nodemailer'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> yamlCode <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./data.yaml'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> dataObj <span class=\"token operator\">=</span> yamlTrans<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>yamlCode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">//nodemailer.createTransport åˆ›å»º transPort æœåŠ¡ï¼Œä¼ å…¥ auth ä¿¡æ¯å’Œé…ç½®é¡¹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// æˆæƒç éœ€è¦åˆ°å¯¹åº”å®˜ç½‘ç”Ÿæˆ</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> transPort <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token literal-property property\">serviece</span><span class=\"token operator\">:</span><span class=\"token string\">'qq'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span><span class=\"token number\">587</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token literal-property property\">host</span><span class=\"token operator\">:</span><span class=\"token string\">'smtp.qq.cmo'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token literal-property property\">secure</span><span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token literal-property property\">auth</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token literal-property property\">pass</span><span class=\"token operator\">:</span>dataObj<span class=\"token punctuation\">.</span>pass<span class=\"token punctuation\">,</span> <span class=\"token comment\">// æˆæƒç éœ€è¦å»å®˜ç½‘ç”³è¯·ç”Ÿæˆ</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span>dataObj<span class=\"token punctuation\">.</span>user</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">//sendMail æ–¹æ³•å‘é€é‚®ä»¶ï¼Œä¼ å…¥æ¥æ”¶æ–¹ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>transPort<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> send<span class=\"token punctuation\">.</span>qq<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> dataObj<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token string\">'é‚®ä»¶æ ‡é¢˜'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token string\">'é‚®ä»¶å†…å®¹'</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"é˜²ç›—é“¾\"><a class=\"anchor\" href=\"#é˜²ç›—é“¾\">#</a> é˜²ç›—é“¾</h2>\n<p>é˜²ç›—é“¾æ˜¯æŒ‡åœ¨ç½‘é¡µæˆ–å…¶ä»–èµ„æºä¸­ï¼Œé€šè¿‡ç›´æ¥é“¾æ¥çš„æ–¹å¼é“¾æ¥åˆ°å…¶ä»–ç½‘ç«™ä¸Šçš„å›¾ç‰‡ã€è§†é¢‘æˆ–è€…å…¶ä»–åª’ä½“æ–‡ä»¶ï¼Œæ˜¾ç¤ºåœ¨è‡ªå·±çš„ç½‘é¡µä¸Šï¼Œè¿™ç§è¡Œä¸ºé€šå¸¸ä¼šç»™è¢«é“¾æ¥çš„ç½‘ç«™å¸¦æ¥é¢å¤–çš„å¸¦å®½æ¶ˆè€—å’Œèµ„æºæµªè´¹ï¼Œè€Œä¸”å¯èƒ½ä¾µçŠ¯äº†åŸå§‹ç½‘ç«™çš„ç‰ˆæƒã€‚é‡‡ç”¨æªæ–½æœ‰ï¼š</p>\n<ul>\n<li><strong>é€šè¿‡ HTTP å¼•ç”¨æ£€æŸ¥</strong>ï¼šï¼ˆæŸ¥çœ‹è¯·æ±‚æ¥æºåœ°å€ï¼Œä¸åŒ¹é…åˆ™ä¸æä¾›èµ„æºï¼‰</li>\n<li><strong>ä½¿ç”¨ Referrer æ£€æŸ¥</strong>ï¼šæ£€æŸ¥ HTTP è¯·æ±‚ä¸­çš„ Referrer å­—æ®µï¼Œè¯¥å­—æ®µæŒ‡ç¤ºäº†è¯·æ±‚èµ„æºçš„æ¥æºé¡µé¢ï¼ˆä¸åŒ¹é…åˆ™ä¸æä¾›æœåŠ¡ï¼‰</li>\n<li><strong>ä½¿ç”¨è®¿é—®æ§åˆ¶åˆ—è¡¨</strong>ï¼ˆACLï¼‰ï¼šç½‘ç«™ç®¡ç†å‘˜å¯ä»¥é…ç½®æœåŠ¡å™¨çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œåªå…è®¸ç‰¹å®šçš„åŸŸåæˆ– IP åœ°å€è®¿é—®èµ„æºï¼Œå…¶ä»–æ¥æºçš„è¯·æ±‚å°†è¢«æ‹’ç»ã€‚</li>\n<li><strong>ä½¿ç”¨é˜²ç›—é“¾æ’ä»¶æˆ–è„šæœ¬</strong>ï¼šä¸€äº›ç½‘ç«™å¹³å°å’Œå†…å®¹ç®¡ç†ç³»ç»Ÿæä¾›äº†ä¸“é—¨çš„æ’ä»¶æˆ–è„šæœ¬æ¥é˜²æ­¢ç›—é“¾ã€‚è¿™äº›å·¥å…·å¯ä»¥æ ¹æ®éœ€è¦é…ç½®ï¼Œé˜»æ­¢æ¥è‡ªæœªç»æˆæƒçš„ç½‘ç«™çš„ç›—é“¾è¯·æ±‚ã€‚</li>\n<li><strong>ä½¿ç”¨æ°´å°æŠ€æœ¯</strong>ï¼šåœ¨å›¾ç‰‡æˆ–è§†é¢‘ä¸Šæ·»åŠ æ°´å°å¯ä»¥å¸®åŠ©è¯†åˆ«ç›—é“¾è¡Œä¸ºï¼Œå¹¶æé†’ç”¨æˆ·èµ„æºçš„æ¥æºã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> whitelist <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// é˜²ç›—é“¾ä¸­é—´ä»¶</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">preventHotLinking</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span>res<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">const</span> referer <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'referer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¯·æ±‚ä¸­çš„ referrer å­—æ®µæ ‡è¯†è¯·æ±‚æ¥æº</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>referer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span>hostname<span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URL</span><span class=\"token punctuation\">(</span>referer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>whistlist<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>hostname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">403</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æˆ‘ä¸å…è®¸ä½ è®¿é—®æˆ‘çš„èµ„æº'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>preventHotLinking<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3000ç«¯å£å¯åŠ¨'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"å“åº”å¤´å’Œè¯·æ±‚å¤´\"><a class=\"anchor\" href=\"#å“åº”å¤´å’Œè¯·æ±‚å¤´\">#</a> å“åº”å¤´å’Œè¯·æ±‚å¤´</h2>\n<p><strong>å“åº”å¤´ï¼š</strong></p>\n<ul>\n<li>\n<p>HTTP å“åº”å¤´ï¼ˆHTTP response headersï¼‰æ˜¯åœ¨ HTTP å“åº”ä¸­å‘é€çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œç”¨äºæè¿°å“åº”çš„ç‰¹æ€§ã€å†…å®¹å’Œè¡Œä¸ºã€‚ä»–ä»¬ä»¥é”®å€¼å¯¹çš„å½¢å¼å‡ºç°ã€‚æ¯ä¸ªé”®å€¼å¯¹ç”±ä¸€ä¸ªæ ‡å¤´å­—æ®µå’Œå“åº”å€¼ç»„æˆã€‚</p>\n<figure class=\"highlight http\"><figcaption data-lang=\"HTTP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">*</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span><span class=\"token header-value\">public, max-age=0, must-revalidate</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span><span class=\"token header-value\">text/html; charset=utf-8</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token header\"><span class=\"token header-name keyword\">Server</span><span class=\"token punctuation\">:</span><span class=\"token header-value\">nginx</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span><span class=\"token header-value\">Mon, 08 Jan 2024 18:32:47 GMT</span></span></pre></td></tr></table></figure></li>\n</ul>\n<p><strong>corsï¼š</strong></p>\n<ul>\n<li>\n<p>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºåœ¨æµè§ˆå™¨ä¸­å®ç°è·¨åŸŸè¯·æ±‚è®¿é—®èµ„æºçš„æƒé™æ§åˆ¶ã€‚</p>\n</li>\n<li>\n<p>å½“ä¸€ä¸ªç½‘é¡µé€šè¿‡ XMLHttpRequest æˆ–è€… Fetch Api è¿›è¡Œè·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®åŒæºç­–ç•¥è¿›è¡Œé™åˆ¶ã€‚</p>\n</li>\n<li>\n<p>åŒæºç­–ç•¥è¦æ±‚è¯·æ±‚çš„åè®®ã€åŸŸåå’Œç«¯å£å·å¿…é¡»ä¸€è‡´ã€‚</p>\n</li>\n</ul>\n<p><strong>è¯·æ±‚å¤´ï¼š</strong></p>\n<ul>\n<li>\n<p>Acceptï¼šæŒ‡å®šå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„å†…å®¹ç±»å‹ã€‚</p>\n</li>\n<li>\n<p>Accept-Languageï¼šæŒ‡å®šå®¢æˆ·ç«¯åå¥½çš„è‡ªç„¶è¯­è¨€ã€‚</p>\n</li>\n<li>\n<p>Content-Languageï¼šæŒ‡å®šè¯·æ±‚æˆ–å“åº”å®ä½“çš„è‡ªç„¶è¯­è¨€ã€‚</p>\n</li>\n<li>\n<p>Content-Typeï¼šæŒ‡å®šè¯·æ±‚æˆ–å“åº”å®ä½“çš„åª’ä½“ç±»å‹ã€‚</p>\n</li>\n<li>\n<p>DNT (Do Not Track)ï¼šæŒ‡ç¤ºå®¢æˆ·ç«¯ä¸å¸Œæœ›è¢«è·Ÿè¸ªã€‚</p>\n</li>\n<li>\n<p>Originï¼šæŒ‡ç¤ºè¯·æ±‚çš„æºï¼ˆåè®®ã€åŸŸåå’Œç«¯å£ï¼‰ã€‚</p>\n</li>\n<li>\n<p>User-Agentï¼šåŒ…å«å‘èµ·è¯·æ±‚çš„ç”¨æˆ·ä»£ç†çš„ä¿¡æ¯ã€‚</p>\n</li>\n<li>\n<p>Refererï¼šæŒ‡ç¤ºå½“å‰è¯·æ±‚çš„æº URLã€‚</p>\n</li>\n<li>\n<p>Content-type: application/x-www-form-urlencoded | multipart/form-data |  text/plain</p>\n</li>\n</ul>\n<p><strong>è¯·æ±‚æ–¹æ³•æ”¯æŒï¼š</strong></p>\n<p>æœåŠ¡ç«¯é»˜è®¤åªæ”¯æŒ GETã€POSTã€HEADã€OPTIONS è¯·æ±‚ï¼Œä½¿ç”¨å…¶ä»– restful api è¯·æ±‚æ–¹æ³•éœ€è¦æ·»åŠ å“åº”å¤´ <code>Access-Control-Allow-Methods: *</code></p>\n<h2 id=\"sse-2\"><a class=\"anchor\" href=\"#sse-2\">#</a> SSE</h2>\n<ul>\n<li>\n<p>SSEï¼ˆServer-Sent-Eventsï¼‰æ˜¯ä¸€ç§åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å®ç°å•å‘äº‹ä»¶æµçš„æœºåˆ¶ï¼Œå…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€äº‹ä»¶æ•°æ®ï¼Œåœ¨ SSE ä¸­å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶æ¥å®Œæˆã€‚</p>\n</li>\n<li>\n<p>SSE æ ¸å¿ƒå°±æ˜¯ï¼š</p>\n<ul>\n<li>å‰ç«¯é€šè¿‡ <code>EventSource</code>  æ¥æ³¨å†Œäº‹ä»¶æºï¼Œç›‘å¬å¯¹åº”äº‹ä»¶ã€‚</li>\n<li>åç«¯é€šè¿‡è®¾ç½®å“åº”å¤´ <code>Content-Type</code>  ä¸ºï¼š <code>text/event-stream</code>  ä¹‹å å‘é€å…·æœ‰ç‰¹å®šç±»å‹çš„äº‹ä»¶æ•°æ®ã€‚</li>\n</ul>\n</li>\n</ul>\n<p><strong>å‰ç«¯ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> sse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EventSource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/sse'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sse<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong>åç«¯ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/sse'</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'text/event-stream'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®äº‹ä»¶å“åº”å¤´</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'event: test\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å‘é€å¯¹åº”çš„äº‹ä»¶</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data: '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\\n\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"ormæ¡†æ¶\"><a class=\"anchor\" href=\"#ormæ¡†æ¶\">#</a> ORM æ¡†æ¶</h2>\n<ul>\n<li>ORM (Object Relation Map)ï¼šå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œå¸¸ç”¨äºä¸ºå…³ç³»å‹æ•°æ®åº“æä¾›ç±»å‹å®‰å…¨çš„æ”¯æŒã€‚</li>\n</ul>\n<h4 id=\"knex\"><a class=\"anchor\" href=\"#knex\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9rbmV4anMub3JnL2d1aWRlL3F1ZXJ5LWJ1aWxkZXIuaHRtbCNzZWxlY3Q=\">knex</span></h4>\n<ul>\n<li>knex æ˜¯ä¸€ä¸ªåŸºäº JavaScript çš„æŸ¥è¯¢ç”Ÿæˆå™¨</li>\n<li>knex å…è®¸ä½¿ç”¨ JavaScript ä»£ç æ¥ç”Ÿæˆå’Œæ‰§è¡Œ SQL æŸ¥è¯¢è¯­å¥</li>\n<li>knex æä¾›äº†ä¸€ç§ç®€å•å’Œç›´è§‚çš„æ–¹å¼æ¥ä¸å…³ç³»å‹æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œè€Œæ— éœ€ç¼–å†™ SQL è¯­å¥</li>\n<li>å¯ä»¥ä½¿ç”¨ knex æ¥å®šä¹‰è¡¨ç»“æ„ï¼Œæ‰§è¡ŒæŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œã€‚</li>\n</ul>\n<p><strong>è¿æ¥æ•°æ®åº“ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> knex <span class=\"token keyword\">from</span> <span class=\"token string\">'knex'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> <span class=\"token function\">knex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token literal-property property\">client</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mysql2\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token literal-property property\">connection</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span>root<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token literal-property property\">password</span><span class=\"token operator\">:</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token literal-property property\">host</span><span class=\"token operator\">:</span>localhost<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token literal-property property\">database</span><span class=\"token operator\">:</span>test</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>å¢åˆ æ”¹æŸ¥è¯¦è§å®˜ç½‘ã€‚</p>\n<p><strong>äº‹åŠ¡ï¼š</strong></p>\n<p>äº‹åŠ¡ç›¸å½“äºåˆ†ç»„çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå¯ä»¥ä½¿ç”¨äº‹åŠ¡æ¥ç¡®ä¿ä¸€ç»„æ•°æ®åº“æ“ä½œçš„åŸå­æ€§ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸæäº¤ï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šã€‚</p>\n<h4 id=\"prisma\"><a class=\"anchor\" href=\"#prisma\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9wcmlzbWEueW9nYS9nZXR0aW5nLXN0YXJ0ZWQ=\">prisma</span></h4>\n<p>Prisma å’Œ Knex éƒ½æ˜¯ç°ä»£çš„ Node.js ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰åº“ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©å¼€å‘è€…ä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥æ“ä½œæ•°æ®åº“ã€‚å°½ç®¡å®ƒä»¬çš„ç›®æ ‡ç›¸ä¼¼ï¼Œä½†å®ƒä»¬åœ¨è®¾è®¡ç†å¿µã€åŠŸèƒ½ç‰¹æ€§å’Œä½¿ç”¨æ–¹å¼ä¸Šå­˜åœ¨ä¸€äº›åŒºåˆ«ï¼š</p>\n<ul>\n<li>prisma å’Œ TypeScript è”ç³»ç´§å¯†</li>\n<li>prisma æä¾›å¼ºå¤§çš„ç±»å‹å®‰å…¨</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHJpc21h\">prisma CLI</span></p>\n<p>prisma å¯¹åº”çš„è„šæ‰‹æ¶å¯ä»¥å¿«é€Ÿåˆ›å»ºæ¨¡æ¿ç»“æ„ã€‚</p>\n<h2 id=\"è®¾è®¡æ¨¡å¼\"><a class=\"anchor\" href=\"#è®¾è®¡æ¨¡å¼\">#</a> è®¾è®¡æ¨¡å¼</h2>\n<h4 id=\"mvc\"><a class=\"anchor\" href=\"#mvc\">#</a> MVC</h4>\n<p><strong>æ¦‚å¿µï¼š</strong></p>\n<ul>\n<li>\n<p>MVC æ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œç”¨äºè®¾è®¡å’Œç»„ç»‡åº”ç”¨ç¨‹åºçš„ä»£ç </p>\n</li>\n<li>\n<p>å®ƒå°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªä¸»è¦çš„ç»„ä»¶ï¼šæ¨¡å‹ (Model)ã€è§†å›¾ (view) å’Œæ§åˆ¶å™¨ (Controller)ï¼Œå„è‡ªè´Ÿè´£ä¸åŒçš„æ¨¡å—</p>\n</li>\n</ul>\n<p><strong>ä½œç”¨ï¼š</strong></p>\n<ul>\n<li>MVC å°†åº”ç”¨ç¨‹åºçš„é€»è¾‘æ•°æ®ç­‰å’Œç•Œé¢ç›¸åˆ†ç¦»ï¼Œä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯é‡ç”¨æ€§ã€‚</li>\n<li>é€šè¿‡å°†ä¸åŒèŒè´£åˆ†é…ç»™ä¸åŒç»„ä»¶ï¼ŒMVC æä¾›äº†ä¸€ç§æ¸…æ™°çš„ç»“æ„ä½¿å¾—å¼€å‘äººå‘˜æ›´å¥½çš„ç®¡ç†åº”ç”¨ç¨‹åºçš„å„ä¸ªéƒ¨åˆ†</li>\n</ul>\n<h4 id=\"locæ§åˆ¶åè½¬\"><a class=\"anchor\" href=\"#locæ§åˆ¶åè½¬\">#</a> loC æ§åˆ¶åè½¬</h4>\n<p><strong>æ¦‚å¿µï¼š</strong></p>\n<ul>\n<li>\n<p>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰æ˜¯ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œå®ƒå°†ç»„ä»¶çš„æ§åˆ¶æƒä»ç»„ä»¶è‡ªèº«è½¬ç§»åˆ°å¤–éƒ¨å®¹å™¨ã€‚</p>\n</li>\n<li>\n<p>ä¼ ç»Ÿä¸Šï¼Œç»„ä»¶è´Ÿè´£è‡ªå·±çš„åˆ›å»ºå’Œç®¡ç†ï¼Œè€Œæ§åˆ¶åè½¬åˆ™å°†è¿™ä¸ªè´£ä»»è½¬ç»™äº†ä¸€ä¸ªå¤–éƒ¨çš„å®¹å™¨æˆ–æ¡†æ¶ã€‚å®¹å™¨è´Ÿè´£åˆ›å»ºç»„ä»¶å®ä¾‹å¹¶ç®¡ç†å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸï¼Œç»„ä»¶åªéœ€å£°æ˜è‡ªå·±æ‰€éœ€çš„ä¾èµ–å…³ç³»ï¼Œå¹¶é€šè¿‡å®¹å™¨è·å–è¿™äº›ä¾èµ–ã€‚</p>\n</li>\n<li>\n<p>loC æ§åˆ¶åè½¬ä½¿å¾—ç»„ä»¶æ›´åŠ æ¾è€¦åˆã€å¯æµ‹è¯•å’Œå¯ç»´æŠ¤ã€‚</p>\n</li>\n</ul>\n<p><strong>ä¾èµ–æ³¨å…¥ï¼š</strong></p>\n<ul>\n<li>\n<p>ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰æ˜¯å®ç°æ§åˆ¶åè½¬çš„ä¸€ç§å…·ä½“æŠ€æœ¯ã€‚</p>\n</li>\n<li>\n<p>å®ƒé€šè¿‡å°†ç»„ä»¶çš„ä¾èµ–å…³ç³»ä»ç»„ä»¶å†…éƒ¨ç§»åŠ¨åˆ°å¤–éƒ¨å®¹å™¨æ¥å®ç°æ¾è€¦åˆã€‚</p>\n</li>\n<li>\n<p>ç»„ä»¶ä¸å†è´Ÿè´£åˆ›å»ºæˆ–ç®¡ç†å®ƒæ‰€ä¾èµ–çš„å…¶ä»–ç»„ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å‡½æ•°ã€å±æ€§æˆ–æ–¹æ³•å‚æ•°ç­‰æ–¹å¼å°†ä¾èµ–å…³ç³»æ³¨å…¥åˆ°ç»„ä»¶ä¸­ã€‚</p>\n</li>\n<li>\n<p>ä¾èµ–æ³¨å…¥å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ï¼ˆConstructor Injectionï¼‰ã€å±æ€§æ³¨å…¥ï¼ˆProperty Injectionï¼‰æˆ–æ–¹æ³•æ³¨å…¥ï¼ˆMethod Injectionï¼‰ç­‰æ–¹å¼å®ç°ã€‚</p>\n</li>\n</ul>\n<p><strong>å·¥å…·åŒ…ï¼š</strong></p>\n<p>å¯ä»¥ä½¿ç”¨ inversifyã€reflect-metadataã€inversify-express-utils æ¥å®ç°ã€‚</p>\n<h2 id=\"jwt\"><a class=\"anchor\" href=\"#jwt\">#</a> JWT</h2>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<p>JWTï¼ˆJSON Web Tokenï¼‰æ˜¯ä¸€ç§å¼€æ”¾çš„æ ‡å‡†ï¼Œæ˜¯ä¸€ç§åŸºäº JSON çš„å®‰å…¨ä»¤ç‰Œï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¼ è¾“ä¿¡æ¯ã€‚</p>\n<p><strong>ç»„æˆï¼š</strong></p>\n<p>JWT ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå®ƒä»¬é€šè¿‡ç‚¹ï¼ˆ.ï¼‰è¿›è¡Œåˆ†éš”ï¼š</p>\n<ol>\n<li>Headerï¼ˆå¤´éƒ¨ï¼‰ï¼šåŒ…å«äº†ä»¤ç‰Œçš„ç±»å‹å’Œä½¿ç”¨çš„åŠ å¯†ç®—æ³•ç­‰ä¿¡æ¯ã€‚é€šå¸¸é‡‡ç”¨ Base64 ç¼–ç è¡¨ç¤ºã€‚</li>\n<li>Payloadï¼ˆè´Ÿè½½ï¼‰ï¼šåŒ…å«äº†èº«ä»½éªŒè¯å’Œæˆæƒç­‰ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ· IDã€è§’è‰²ã€æƒé™ç­‰ã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚åŒæ ·é‡‡ç”¨ Base64 ç¼–ç è¡¨ç¤ºã€‚</li>\n<li>Signatureï¼ˆç­¾åï¼‰ï¼šä½¿ç”¨æŒ‡å®šçš„å¯†é’¥å¯¹å¤´éƒ¨å’Œè´Ÿè½½è¿›è¡Œç­¾åï¼Œä»¥ç¡®ä¿ä»¤ç‰Œçš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚</li>\n</ol>\n<p><strong>å·¥ä½œæµç¨‹ï¼š</strong></p>\n<ol>\n<li>ç”¨æˆ·é€šè¿‡æä¾›æœ‰æ•ˆçš„å‡­è¯ï¼ˆä¾‹å¦‚ç”¨æˆ·åå’Œå¯†ç ï¼‰è¿›è¡Œèº«ä»½éªŒè¯ã€‚</li>\n<li>æœåŠ¡å™¨éªŒè¯å‡­è¯ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª JWT ä½œä¸ºå“åº”ã€‚JWT åŒ…å«äº†ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’Œå…¶ä»–å¿…è¦çš„æ•°æ®ã€‚</li>\n<li>æœåŠ¡å™¨å°† JWT å‘é€ç»™å®¢æˆ·ç«¯ã€‚</li>\n<li>å®¢æˆ·ç«¯åœ¨åç»­çš„è¯·æ±‚ä¸­ï¼Œå°† JWT æ”¾å…¥è¯·æ±‚çš„å¤´éƒ¨æˆ–å…¶ä»–é€‚å½“çš„ä½ç½®ã€‚</li>\n<li>æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼ŒéªŒè¯ JWT çš„ç­¾åä»¥ç¡®ä¿å…¶å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚å¦‚æœéªŒè¯é€šè¿‡ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ JWT ä¸­çš„ä¿¡æ¯è¿›è¡Œæˆæƒå’Œèº«ä»½éªŒè¯ã€‚</li>\n</ol>\n<h2 id=\"redis\"><a class=\"anchor\" href=\"#redis\">#</a> Redis</h2>\n<p><strong>å†…å­˜å­˜å‚¨ç³»ç»Ÿ</strong></p>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<p>Redisï¼ˆRemote Dictionary Serverï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„å†…å­˜æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œæä¾›äº†ä¸€ä¸ªé«˜æ•ˆçš„é”®å€¼å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œå¹¶æ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œå¦‚ï¼šstring å­—ç¬¦ä¸²ã€hashes å“ˆå¸Œã€lists åˆ—è¡¨ã€sets é›†åˆå’Œ sorted sets æœ‰åºé›†åˆç­‰ç­‰ã€‚</p>\n<p><strong>åº”ç”¨ï¼š</strong></p>\n<p>Redis è¢«å¹¿æ³›åº”ç”¨äºç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå®æ—¶ç»Ÿè®¡ç­‰åœºæ™¯ã€‚</p>\n<p><strong>ç‰¹ç‚¹ï¼š</strong></p>\n<ul>\n<li>å†…å­˜å­˜å‚¨ï¼Œå› æ­¤å…·æœ‰å¿«é€Ÿçš„è¯»å†™åŠŸèƒ½ï¼Œèƒ½æŒä¹…åŒ–æ•°æ®åˆ°ç¡¬ç›˜ï¼Œä»¥ä¾¿åœ¨é‡æ–°å¯åŠ¨åæ¢å¤æ•°æ®</li>\n<li>å¤šç§æ•°æ®ç»“æ„ï¼ŒRedis æ”¯æŒå¤šç§æ•°æ®ç»“æ„</li>\n<li>å‘å¸ƒ / è®¢é˜…ï¼ŒRedis æ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå…è®¸å¤šä¸ªå®¢æˆ·ç«¯è®¢é˜…åŒä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“ï¼Œä»¥æ¥æ”¶å®æ—¶å‘å¸ƒçš„æ¶ˆæ¯ï¼Œè¿™ä½¿å¾— Redis å¯ä»¥ç”¨äºå®æ—¶æ¶ˆæ¯ç³»ç»Ÿ</li>\n<li>äº‹åŠ¡æ”¯æŒï¼ŒRedis æ”¯æŒäº‹åŠ¡ï¼Œå¯ä»¥å°†å¤šä¸ªå‘½ä»¤æ‰“åŒ…æˆä¸€ä¸ªåŸå­æ“ä½œæ‰§è¡Œï¼Œç¡®ä¿å‘½ä»¤è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</li>\n<li>æŒä¹…åŒ–ï¼ŒRedis æä¾›ä¸¤ç§æŒä¹…åŒ–æ•°æ®çš„æ–¹å¼ï¼š\n<ul>\n<li>RDBï¼ˆRedis Databaseï¼‰ï¼ŒRDB æ˜¯å°†æ•°æ®ä»¥å¿«ç…§çš„å½¢å¼ä¿å­˜åˆ°ç£ç›˜ã€‚</li>\n<li>AOFï¼ˆAppend Only Fileï¼‰ï¼ŒAOF æ˜¯å°†æ¯ä¸ªå†™æ“ä½œè¿½åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œç¡®ä¿æ•°æ®åœ¨æ„å¤–å®•æœºæˆ–é‡å¯åçš„æŒä¹…æ€§</li>\n</ul>\n</li>\n<li>é«˜å¯ç”¨æ€§ï¼ŒRedis æ”¯æŒä¸»ä»å¤åˆ¶å’Œ Sentine å“¨å…µæœºåˆ¶ï¼Œé€šè¿‡ä¸»ä»å¤åˆ¶å¯ä»¥åˆ›å»ºå¤šä¸ª Redis å®ä¾‹çš„å‰¯æœ¬ï¼Œä»¥æé«˜è¯»å–æ€§å’Œå®¹é”™èƒ½åŠ›ã€‚ <code>sentinel</code>  æ˜¯ä¸€ä¸ªç”¨äºç›‘æ§å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»çš„ç³»ç»Ÿï¼Œå¯ä»¥åœ¨ä¸»èŠ‚ç‚¹å®•æœºæ—¶è‡ªåŠ¨å°†èŠ‚ç‚¹æå‡ä¸ºä¸»èŠ‚ç‚¹ã€‚</li>\n<li>ç¼“å­˜ï¼ŒRedis çš„å¿«é€Ÿè¯»å†™èƒ½åŠ›å’Œçµæ´»çš„æ•°æ®ç»“æ„ä½¿å…¶è¢«å¹¿æ³›åº”ç”¨äºç¼“å­˜å±‚ï¼Œå®ƒå¯ä»¥å°†å¸¸ç”¨çš„æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»¥åŠ å¿«æ•°æ®è®¿é—®é€Ÿåº¦ï¼Œå‡è½»åç«¯æ•°æ®åº“çš„è´Ÿè½½ã€‚</li>\n<li>å®æ—¶ç»Ÿè®¡ï¼ŒRedis çš„è®¡æ•°å™¨å’Œæœ‰åºé›†åˆç­‰æ•°æ®ç»“æ„ä½¿å…¶éå¸¸é€‚åˆå®æ—¶ç»Ÿè®¡çš„åœºæ™¯ï¼Œå¯ä»¥å­˜å‚¨å’Œæ›´æ–°è®¡æ•°å™¨ï¼Œå¹¶å¯¹æœ‰åºé›†åˆè¿›è¡Œæ’åå’ŒèŒƒå›´æŸ¥è¯¢ï¼Œç”¨äºç»Ÿè®¡å’Œæ’è¡Œæ¦œåŠŸèƒ½ã€‚</li>\n</ul>\n<p><strong>å®‰è£…</strong></p>\n<p>å®‰è£…æ–‡ä»¶ï¼Œé…ç½®ç¯å¢ƒå˜é‡ï¼Œç„¶åå¯åŠ¨å³å¯ã€‚</p>\n<p>è¿æ¥ redis æœåŠ¡å¯ä»¥ä½¿ç”¨ Navicate æˆ–è€…åœ¨ vscode ä¸­ä¸‹è½½å¯¹åº”çš„æ’ä»¶ã€‚</p>\n<p><strong>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼š</strong></p>\n<p>åœ¨ redis ä¸­ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼é€šè¿‡å‘½ä»¤ï¼špublishã€subscribeã€unsubscribeã€psubscribe å‘½ä»¤å’Œ punsubscribe å‘½ä»¤æ¥è¿›è¡Œæ“ä½œã€‚</p>\n<p><strong>äº‹åŠ¡ï¼š</strong></p>\n<ul>\n<li>redis æ”¯æŒäº‹åŠ¡ï¼Œå…è®¸ç”¨æˆ·å°†å¤šä¸ªå‘½ä»¤æ‰“åŒ…åœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªå•å…ƒè¿›è¡Œæ‰§è¡Œï¼Œäº‹åŠ¡æä¾›äº†ä¸€ç§åŸå­æ€§æ“ä½œçš„æœºåˆ¶ï¼Œè¦ä¹ˆæ‰€æœ‰å‘½ä»¤éƒ½æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆæ‰€æœ‰å‘½ä»¤éƒ½ä¸æˆåŠŸã€‚</li>\n<li>Redis çš„äº‹åŠ¡ä¸æ”¯æŒå›æ»šæ“ä½œï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡ŒæœŸé—´å‘ç”Ÿé”™è¯¯ï¼Œäº‹åŠ¡ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šä¼šå›æ»šå·²æ‰§è¡Œçš„å‘½ä»¤ã€‚</li>\n<li>Redis äº‹åŠ¡å¸¸ç”¨å‘½ä»¤ï¼š\n<ul>\n<li>multiï¼šå¼€å¯ä¸€ä¸ªäº‹åŠ¡</li>\n<li>execï¼šæ‰§è¡Œäº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤</li>\n<li>watchï¼šå¯¹ä¸€ä¸ªæˆ–å¤šä¸ªé”®è¿›è¡Œç›‘è§†</li>\n<li>discardï¼šå–æ¶ˆäº‹åŠ¡ï¼Œæ¸…ç©ºäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ã€‚</li>\n</ul>\n</li>\n</ul>\n<p><strong>redis æŒä¹…åŒ–ï¼š</strong></p>\n<ul>\n<li>RDBï¼ˆRedis Databaseï¼‰æŒä¹…åŒ–\n<ul>\n<li>RDB æŒä¹…åŒ–æ˜¯ä¸€ç§å¿«ç…§çš„å½¢å¼ï¼Œä¼šå°†å†…å­˜ä¸­çš„æ•°æ®å®šæœŸä¿å­˜åˆ°ç£ç›˜ä¸Šã€‚</li>\n<li>å¯ä»¥é€šè¿‡é…ç½® Redis æœåŠ¡å™¨ï¼Œè®¾ç½®è‡ªåŠ¨è§¦å‘ RDB å¿«ç…§çš„æ¡ä»¶ï¼Œæ¯”å¦‚æŒ‡å®šæ—¶é—´é—´éš”æˆ–æŒ‡å®šæ“ä½œæ¬¡æ•°è‡ªåŠ¨ä¿å­˜ã€‚</li>\n<li>RDB æŒä¹…åŒ–ç”Ÿæˆçš„å¿«ç…§æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«äº† Redis æ•°æ®çš„å®Œæ•´çŠ¶æ€ã€‚</li>\n<li>åœ¨æ¢å¤æ•°æ®æ—¶ï¼Œå¯ä»¥é€šè¿‡åŠ è½½å¿«ç…§æ–‡ä»¶å°†æ•°æ®é‡æ–°åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</li>\n</ul>\n</li>\n<li>RDB ä½¿ç”¨ï¼š\n<ul>\n<li>æ‰¾åˆ° redis çš„ redis.conf æ–‡ä»¶ï¼Œé…ç½®å…¶ä¸­çš„ save å­—æ®µã€‚</li>\n<li>æˆ–è€…åœ¨ redis å¯åŠ¨çš„å‘½ä»¤è¡Œä¸­è¾“å…¥ saveï¼Œæ‰‹åŠ¨ä¿å­˜å¿«ç…§ã€‚</li>\n</ul>\n</li>\n<li>AOFï¼ˆAppend Only Fileï¼‰æŒä¹…åŒ–\n<ul>\n<li>AOF æŒä¹…åŒ–è®°å½•äº† Redis æœåŠ¡å™¨æ‰§è¡Œçš„æ‰€æœ‰å†™æ“ä½œå‘½ä»¤ï¼Œåœ¨æ–‡ä»¶ä¸­ä»¥è¿½åŠ çš„æ–¹å¼ä¿å­˜</li>\n<li>å½“ redis é‡å¯æ—¶ï¼Œå¯ä»¥é‡æ–°æ‰§è¡Œ AOF æ–‡ä»¶ä¸­ä¿å­˜çš„å‘½ä»¤ï¼Œä»¥é‡æ–°æ„å»ºæ•°æ®é›†ã€‚ç›¸æ¯”äº RDB æŒä¹…åŒ–ï¼ŒAOF æŒä¹…åŒ–æä¾›äº†æ›´å¥½çš„æ•°æ®æ¢å¤ä¿è¯ï¼Œå› ä¸ºå®ƒè®°å½•äº†æ¯ä¸ªå†™æ“ä½œï¼Œè€Œä¸æ˜¯å¿«ç…§çš„å½¢å¼ã€‚</li>\n<li>AOF æ–‡ä»¶ç›¸å¯¹äº RDB æ–‡ä»¶æ›´å¤§ï¼Œæ¢å¤æ•°æ®çš„é€Ÿåº¦å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ã€‚</li>\n</ul>\n</li>\n<li>AOF ä½¿ç”¨ï¼š\n<ul>\n<li>redus.conf æ–‡ä»¶çš„ appendonly å­—æ®µè®¾ç½®ä¸º yesã€‚</li>\n</ul>\n</li>\n</ul>\n<p><strong>redis ä¸»ä»å¤åˆ¶ï¼š</strong></p>\n<ul>\n<li>redis ä¸»ä»å¤åˆ¶æ˜¯ä¸€ç§æ•°æ®å¤åˆ¶å’ŒåŒæ­¥æœºåˆ¶ï¼Œå…¶ä¸­ä¸€ä¸ª redis æœåŠ¡å™¨ï¼ˆä¸»æœåŠ¡å™¨ï¼‰å°†å…¶æ•°æ®å¤åˆ¶åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»– Redis æœåŠ¡å™¨ï¼ˆä»æœåŠ¡å™¨ï¼‰ä¸­ï¼Œä¸»ä»å¤åˆ¶æä¾›äº†æ•°æ®å†—ä½™å¤‡ä»½ã€è¯»å†™åˆ†ç¦»å’Œæ•…éšœæ¢å¤ç­‰åŠŸèƒ½ã€‚</li>\n</ul>\n<p><strong>ioredisï¼šåœ¨ node.js ä¸­ä¸ Redis è¿›è¡Œäº¤äº’çš„ä¸‰æ–¹åº“ã€‚</strong></p>\n<h2 id=\"lua\"><a class=\"anchor\" href=\"#lua\">#</a> lua</h2>\n<p>è½»é‡çº§ã€å¯åµŒå…¥çš„è„šæœ¬è¯­è¨€ã€‚</p>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<ul>\n<li>lua æ˜¯ä¸€ç§è½»é‡çº§ã€é«˜æ•ˆã€å¯åµŒå…¥çš„è„šæœ¬è¯­è¨€ï¼Œè¢«å¹¿æ³›åº”ç”¨äºåµŒå…¥å¼ç³»ç»Ÿã€æ¸¸æˆå¼€å‘ã€Web åº”ç”¨å’Œè„šæœ¬ç¼–å†™ç­‰é¢†åŸŸã€‚</li>\n<li>å…¶è®¾è®¡ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ä½œä¸ºæ‰©å±•å’ŒåµŒå…¥å¼è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€æ— ç¼é›†æˆã€‚</li>\n<li>åœ¨ redius ä¸­å¯ä»¥ç›´æ¥æ‰§è¡Œ lua è„šæœ¬ï¼ˆ.lua æ–‡ä»¶ï¼‰ã€‚</li>\n<li>web åº”ç”¨ä¸ºäº†å¢å¼ºæ€§èƒ½å’Œå¯æ‰©å±•æ€§ï¼Œé€šå¸¸å°† Luaã€Redis å’Œ Nginx ç»“åˆä½¿ç”¨ï¼Œä»¥æ„å»ºé«˜æ€§èƒ½çš„ Web åº”ç”¨ç¨‹åºæˆ– API æœåŠ¡ã€‚</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubHVhLm9yZy8=\">å®‰è£…</span></p>\n<h2 id=\"cornè¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#cornè¡¨è¾¾å¼\">#</a> corn è¡¨è¾¾å¼</h2>\n<p>corn è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ±‰è¯­æŒ‡å®šå®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶é—´çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œç”± 6 ä¸ªæˆ– 7 ä¸ªå­—æ®µç»„æˆï¼Œæ¯ä¸ªå­—æ®µè¡¨ç¤ºä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´å•ä½å’ŒèŒƒå›´ã€‚</p>\n<p><strong>æ ¼å¼ä¸ºï¼š</strong></p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token hr punctuation\">*    *    *    *    *    *</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>â”¬    â”¬    â”¬    â”¬    â”¬    â”¬</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>â”‚    â”‚    â”‚    â”‚    â”‚    â”‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>â”‚    â”‚    â”‚    â”‚    â”‚    â””â”€â”€ æ˜ŸæœŸï¼ˆ0 - 6ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€ æœˆä»½ï¼ˆ1 - 12ï¼‰</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ï¼ˆ1 - 31ï¼‰</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ï¼ˆ0 - 23ï¼‰</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿï¼ˆ0 - 59ï¼‰</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç§’ï¼ˆ0 - 59ï¼‰</pre></td></tr></table></figure><p>å¸¸è§çš„ Cron è¡¨è¾¾å¼ç¤ºä¾‹ï¼š</p>\n<ul>\n<li><code>* * * * * *</code> ï¼šæ¯ç§’æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 * * * * *</code> ï¼šæ¯åˆ†é’Ÿçš„æ•´ç‚¹æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 0 * * * *</code> ï¼šæ¯å°æ—¶çš„æ•´ç‚¹æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 0 * * * *</code> ï¼šæ¯å¤©çš„åˆå¤œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 0 * * 1 *</code> ï¼šæ¯å‘¨ä¸€çš„åˆå¤œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 0 1 * * *</code> ï¼šæ¯æœˆçš„ 1 å·åˆå¤œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n<li><code>0 0 1 1 * *</code> ï¼šæ¯å¹´çš„ 1 æœˆ 1 æ—¥åˆå¤œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>\n</ul>\n<p><strong>æ˜é‡‘å®šæ—¶è‡ªåŠ¨ç­¾åˆ°ï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> schedule <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-schedule'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> aid <span class=\"token operator\">=</span> <span class=\"token string\">'******'</span> <span class=\"token comment\">// è¾“å…¥æ˜é‡‘è´¦å·çš„ aid</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> uid <span class=\"token operator\">=</span> <span class=\"token string\">'******'</span> <span class=\"token comment\">// è¾“å…¥æ˜é‡‘è´¦å·çš„ uid</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> cookie <span class=\"token operator\">=</span> <span class=\"token string\">'******'</span> <span class=\"token comment\">// è¾“å…¥åœ¨æ˜é‡‘çš„ cookie</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">scheduleJob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'48 15 * * *'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">//corn è¡¨è¾¾å¼è¡¨ç¤º 43 åˆ†é’Ÿ 15 å°æ—¶æ¯å¤©æ¯æœˆæ¯æ˜ŸæœŸï¼ˆæ¯å¤© 15 ç‚¹ 43 åˆ†ï¼‰ç‚¹æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.juejin.cn/growth_api/v1/check_in?aid=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>aid<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">&amp;uid=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>uid<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token literal-property property\">referer</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://juejin.cn/'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token literal-property property\">cookie</span><span class=\"token operator\">:</span> `sessionid<span class=\"token operator\">=</span>$<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>`</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç­¾åˆ°æˆåŠŸ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å‡ºç°é”™è¯¯'</span><span class=\"token punctuation\">,</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"serverless\"><a class=\"anchor\" href=\"#serverless\">#</a> serverLess</h2>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<ul>\n<li>serverLess å¹¶ä¸æ˜¯ä¸€é¡¹æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¶æ„æ¨¡å‹ï¼ˆæ— æœåŠ¡å™¨æ¶æ„ï¼‰ã€‚</li>\n<li>åœ¨ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œéƒ¨ç½²ä¸€ä¸ªæœåŠ¡éœ€è¦é€‰æ‹©æœåŠ¡å™¨ï¼ˆlinuxã€windows ç­‰ï¼‰ï¼Œå¹¶ä¸”éœ€è¦å®‰è£…ç¯å¢ƒï¼Œç†Ÿæ‚‰æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼ŒçŸ¥æ™“å®‰å…¨çŸ¥è¯†ç­‰ï¼Œéƒ½éœ€è¦ä¸€å®šçš„æˆæœ¬ï¼ŒserverLess çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯è®©å¼€å‘è€…æ›´å¤šå…³æ³¨ä¸šåŠ¡æœ¬èº«è€Œä¸æ˜¯æœåŠ¡å™¨è¿è¡Œæˆæœ¬ã€‚</li>\n</ul>\n<p><strong>Faasï¼šå‡½æ•°å³æœåŠ¡</strong></p>\n<p>FaaS æ˜¯ä¸€ç§ Serverless è®¡ç®—æ¨¡å‹ï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜ç¼–å†™å’Œéƒ¨ç½²å‡½æ•°ä»£ç ï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚çš„æœåŠ¡å™¨ç®¡ç†ã€‚åœ¨ FaaS ä¸­ï¼Œå¼€å‘äººå‘˜åªéœ€å…³æ³¨å‡½æ•°çš„å®ç°å’Œé€»è¾‘ï¼Œå°†å…¶ä¸Šä¼ åˆ°äº‘å¹³å°ä¸Šï¼Œå¹³å°ä¼šè´Ÿè´£å‡½æ•°çš„è¿è¡Œå’Œæ‰©å±•ã€‚å½“æœ‰è¯·æ±‚è§¦å‘å‡½æ•°æ—¶ï¼Œäº‘å¹³å°ä¼šè‡ªåŠ¨ä¸ºå‡½æ•°æä¾›æ‰€éœ€çš„è®¡ç®—èµ„æºï¼Œå¹¶æ ¹æ®è¯·æ±‚é‡è¿›è¡Œå¼¹æ€§æ‰©å±•ã€‚è¿™ç§æŒ‰éœ€è®¡ç®—çš„æ¨¡å¼ä½¿å¼€å‘äººå‘˜å¯ä»¥æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼ŒåŒæ—¶å®ç°äº†èµ„æºçš„é«˜æ•ˆåˆ©ç”¨ã€‚</p>\n<p>æ¯ä¸ªå‡½æ•°å³ä¸€ä¸ªæœåŠ¡ï¼Œå‡½æ•°å†…åªéœ€å¤„ç†ä¸šåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ BASS å±‚æä¾›çš„æœåŠ¡å·²å®Œæˆä¸šåŠ¡ï¼Œæ— éœ€å…³å¿ƒèƒŒåè®¡ç®—èµ„æºçš„é—®é¢˜ã€‚</p>\n<p><strong>Baasï¼šåç«¯å³æœåŠ¡</strong></p>\n<p>åç«¯å³æœåŠ¡æ˜¯ä¸€ç§æä¾›é¢å‘ç§»åŠ¨åº”ç”¨å’Œ Web åº”ç”¨çš„åç«¯åŠŸèƒ½çš„äº‘æœåŠ¡æ¨¡å‹ã€‚BaaS ä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç»„é¢„æ„å»ºçš„åç«¯æœåŠ¡ï¼Œå¦‚ç”¨æˆ·èº«ä»½éªŒè¯ã€æ•°æ®åº“å­˜å‚¨ã€æ–‡ä»¶å­˜å‚¨ã€æ¨é€é€šçŸ¥ç­‰ï¼Œä»¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å¼€å‘å’Œç®¡ç†ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ BaaS å¹³å°æä¾›çš„ API å’Œ SDKï¼Œç›´æ¥é›†æˆè¿™äº›åŠŸèƒ½åˆ°ä»–ä»¬çš„åº”ç”¨ä¸­ï¼Œè€Œæ— éœ€è‡ªå·±æ„å»ºå’Œç»´æŠ¤åç«¯åŸºç¡€è®¾æ–½ã€‚</p>\n<p>å¯¹åç«¯çš„èµ„æºå½“æˆä¸€ç§æœåŠ¡ï¼Œå¦‚æ–‡ä»¶å­˜å‚¨ï¼Œæ•°æ®å­˜å‚¨ï¼Œæ¨é€æœåŠ¡ï¼Œèº«ä»½éªŒè¯ã€‚è¯¥å±‚åªéœ€æä¾›å¯¹åº”çš„æœåŠ¡ï¼Œæ— éœ€å…³å¿ƒä¸šåŠ¡ã€‚å®šä¹‰ä¸ºåº•å±‚åŸºç¡€æœåŠ¡ï¼Œç”±å…¶ä»–æœåŠ¡è°ƒç”¨ï¼Œæ­£å¸¸ä¸è§¦åŠç”¨æˆ·ç»ˆç«¯ã€‚</p>\n<p><strong>è„šæ‰‹æ¶å¿«é€Ÿç¼–å†™ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHNlcnZlcmxlc3MtZGV2cy9z\">https://www.npmjs.com/package/@serverless-devs/s</span></strong></p>\n<h2 id=\"websocket\"><a class=\"anchor\" href=\"#websocket\">#</a> webSocket</h2>\n<p><strong>ä¼ ç»Ÿ HTTP çš„ä¸è¶³ï¼š</strong></p>\n<ul>\n<li>\n<p>ä¼ ç»Ÿ HTTP æ˜¯ä¸€ç§å•å‘è¯·æ±‚ -- å“åº”åè®®ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ä¹‹åï¼ŒæœåŠ¡å™¨æ‰ä¼šå“åº”å¹¶è¿”å›ç›¸åº”çš„æ•°æ®ã€‚</p>\n</li>\n<li>\n<p>åœ¨ä¼ ç»Ÿ HTTP ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦ä¸»åŠ¨å‘é€è¯·æ±‚æ‰èƒ½è·å–æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œè€Œä¸”æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ï¼Œè¿™ç§æ–¹å¼åœ¨å®æ—¶é€šä¿¡å’ŒæŒç»­è·å–èµ„æºçš„åœºæ™¯ä¸‹æ•ˆç‡è¾ƒä½ã€‚</p>\n</li>\n</ul>\n<p><strong>Socketï¼š</strong></p>\n<p>socket æä¾›äº†å®æ—¶çš„åŒå‘é€šä¿¡èƒ½åŠ›ï¼Œå¯ä»¥å®æ—¶åœ°ä¼ è¾“æ•°æ®ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ˜¯å³æ—¶çš„ï¼Œæ•°æ®çš„ä¼ è¾“å’Œå“åº”å‡ ä¹æ˜¯å®æ—¶å®Œæˆçš„ï¼Œä¸éœ€è¦è½®è¯¢æˆ–å®šæ—¶å‘é€è¯·æ±‚ã€‚</p>\n<p><strong>node ä¸­ä½¿ç”¨ webSocketï¼š</strong></p>\n<ul>\n<li><strong>å®¢æˆ·ç«¯ï¼š</strong></li>\n</ul>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token selector\">*</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token selector\">html,</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        body,</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        .room</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token selector\">.room</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token selector\">.left</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token property\">border-right</span><span class=\"token punctuation\">:</span> 0.5px solid #f5f5f5<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token selector\">.right</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #1c1c1c<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token selector\">.header</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #8d0eb0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token selector\">.main</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token selector\">.main-chat</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token selector\">.footer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token property\">border-top</span><span class=\"token punctuation\">:</span> 1px solid green<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token selector\">.footer .ipt</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token selector\">.groupList</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token selector\">.groupList-items</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #131313<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>            <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>            <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>room<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>groupList<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>èŠå¤©å®¤<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ipt<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">contenteditable</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sendMessage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword\">const</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>            div<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'main-chat'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            div<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>message<span class=\"token punctuation\">.</span>user<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>message<span class=\"token punctuation\">.</span>text<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>            main<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token keyword\">const</span> groupEl <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.groupList'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token keyword\">const</span> main <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.main'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> io <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"https://cdn.socket.io/4.7.4/socket.io.esm.min.js\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token function\">prompt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è¯·è¾“å…¥ä½ çš„åå­—'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>        <span class=\"token keyword\">const</span> room <span class=\"token operator\">=</span> <span class=\"token function\">prompt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è¯·è¾“å…¥æˆ¿é—´å·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token keyword\">const</span> socket <span class=\"token operator\">=</span> <span class=\"token function\">io</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ws://localhost:3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        <span class=\"token comment\">// é”®ç›˜æŒ‰ä¸‹å‘é€æ¶ˆæ¯</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">'Enter'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>                e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>                <span class=\"token keyword\">const</span> ipt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.ipt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>                socket<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>                    <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> ipt<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>                    <span class=\"token literal-property property\">room</span><span class=\"token operator\">:</span> room<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>                    <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> name</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>                <span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>                    <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> ipt<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>                    <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> name<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>                ipt<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token comment\">// è¿æ¥æˆåŠŸ socket</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>        socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'connect'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>            socket<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'join'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> name<span class=\"token punctuation\">,</span> room <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// åŠ å…¥ä¸€ä¸ªæˆ¿é—´</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>            socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>                <span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>            socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'groupList'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">groupList</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>groupList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>                groupEl<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>                Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>groupList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>                    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>                    item<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'groupList-items'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>                    item<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">æˆ¿é—´åç§°:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> æˆ¿é—´äººæ•°:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>groupList<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>                    groupEl<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li><strong>æœåŠ¡ç«¯ï¼š</strong></li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> http <span class=\"token keyword\">from</span> <span class=\"token string\">'http'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Server <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'socket.io'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Origin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Headers\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Access-Control-Allow-Methods\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">const</span> io <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Server</span><span class=\"token punctuation\">(</span>server<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token literal-property property\">cors</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// å…è®¸è·¨åŸŸ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">const</span> groupList <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> * [&#123;1008:[&#123;name,room,id&#125;]&#125;]</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>io<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'connection'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">socket</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">// åŠ å…¥æˆ¿é—´</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'join'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> name<span class=\"token punctuation\">,</span> room <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        socket<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>room<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>groupList<span class=\"token punctuation\">[</span>room<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            groupList<span class=\"token punctuation\">[</span>room<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> name<span class=\"token punctuation\">,</span> room<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> socket<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            groupList<span class=\"token punctuation\">[</span>room<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span> name<span class=\"token punctuation\">,</span> room<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> socket<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        socket<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> <span class=\"token string\">'ç®¡ç†å‘˜'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">è¿›å…¥äº†æˆ¿é—´</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        socket<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'groupList'</span><span class=\"token punctuation\">,</span> groupList<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        socket<span class=\"token punctuation\">.</span>broadcast<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'groupList'</span><span class=\"token punctuation\">,</span> groupList<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token comment\">// å‘é€æ¶ˆæ¯</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> text<span class=\"token punctuation\">,</span> room<span class=\"token punctuation\">,</span> user <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        socket<span class=\"token punctuation\">.</span>broadcast<span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>room<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            text<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            user</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token comment\">// æ–­å¼€é“¾æ¥å†…ç½®äº‹ä»¶</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    socket<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'disconnect'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>groupList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token keyword\">let</span> leval <span class=\"token operator\">=</span> groupList<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> socket<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>leval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                socket<span class=\"token punctuation\">.</span>broadcast<span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>leval<span class=\"token punctuation\">.</span>room<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> <span class=\"token string\">'ç®¡ç†å‘˜'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>leval<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">ç¦»å¼€äº†æˆ¿é—´</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            groupList<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> groupList<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> socket<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        socket<span class=\"token punctuation\">.</span>broadcast<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'groupList'</span><span class=\"token punctuation\">,</span> groupList<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'listening on :3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"çˆ¬è™«\"><a class=\"anchor\" href=\"#çˆ¬è™«\">#</a> çˆ¬è™«</h2>\n<p><strong>ä»‹ç»ï¼š</strong></p>\n<ul>\n<li>çˆ¬è™«ä¹Ÿç§°ä¸ºç½‘ç»œçˆ¬è™«æˆ–ç½‘ç»œèœ˜è››ï¼Œæ˜¯æŒ‡ä¸€ç§è‡ªåŠ¨åŒ–ç¨‹åºæˆ–è„šæœ¬ï¼Œç”¨äºåœ¨äº’è”ç½‘ä¸Šæµè§ˆå’Œæå–ä¿¡æ¯ã€‚</li>\n<li>çˆ¬è™«æ¨¡æ‹Ÿäººç±»åœ¨ç½‘é¡µä¸Šçš„è¡Œä¸ºï¼Œé€šè¿‡ HTTP åè®®å‘é€è¯·æ±‚ï¼Œè·å–ç½‘é¡µå†…å®¹ï¼Œç„¶åè§£æå¹¶æå–éœ€è¦çš„å†…å®¹ã€‚</li>\n<li>åœ¨ node ä¸­ä½¿ç”¨çˆ¬è™«éœ€è¦å€ŸåŠ©æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒçš„åŒ…ï¼ˆå¦‚ puppeteerï¼‰æ¥æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒã€‚</li>\n</ul>\n<p><strong>å·¥å…·ï¼š</strong></p>\n<ul>\n<li>puppeteerï¼ˆæ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼‰</li>\n</ul>\n<p><strong>ä½¿ç”¨ï¼š</strong></p>\n<p>npm åŒ…ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i puppeteer</pre></td></tr></table></figure><p>index.jsï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> puppeteer <span class=\"token keyword\">from</span> <span class=\"token string\">\"puppeteer\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> btnText <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token literal-property property\">headless</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// å–æ¶ˆæ— å¤´æ¨¡å¼</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ‰“å¼€ä¸€ä¸ªé¡µé¢</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>page<span class=\"token punctuation\">.</span><span class=\"token function\">setViewport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span><span class=\"token number\">1920</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span><span class=\"token number\">1080</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®é¡µé¢å®½é«˜</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://juejin.cn/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·³è½¬</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForSelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.side-navigator-wrap'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç­‰å¾…å…ƒç´ å‡ºç°</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> elements <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">$$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.side-navigator-wrap .nav-item-wrap span'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–å…ƒç´ </span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">const</span> articleList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">collectFunc</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForSelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.entry-list'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">const</span> elements <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">$$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.entry-list .title-row a'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> el <span class=\"token keyword\">of</span> elements<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'innerText'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">jsonValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        articleList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>articleList<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> el <span class=\"token keyword\">of</span> elements<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'innerText'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å– span çš„å±æ€§</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">jsonValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–å†…å®¹</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>btnText <span class=\"token operator\">||</span> <span class=\"token string\">'å‰ç«¯'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">await</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è‡ªåŠ¨ç‚¹å‡»å¯¹åº”çš„èœå•</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token function\">collectFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è°ƒç”¨å‡½æ•°</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>å¯ä»¥ç»“åˆ node å­è¿›ç¨‹è·‘ python è„šæœ¬ï¼Œä½¿ç”¨ pip ä»“åº“ä¸­ç›¸åº”çš„åŒ…å’ŒåŠŸèƒ½ã€‚</strong></p>\n<h2 id=\"cæ‰©å±•\"><a class=\"anchor\" href=\"#cæ‰©å±•\">#</a> C++ æ‰©å±•</h2>\n<p>Node.js åœ¨ IO æ–¹é¢å…·æœ‰æå¼ºçš„èƒ½åŠ›ï¼Œä½†æ˜¯å¯¹ CPU å¯†é›†å‹çš„ä»»åŠ¡æœ‰æ‰€ä¸è¶³ï¼Œä¸ºäº†å¡«è¡¥è¿™éƒ¨åˆ†ç¼ºç‚¹ï¼Œnode.js æ”¯æŒ C/C++ ä¸ºå…¶ç¼–å†™åŸç”Ÿçš„ nodejs æ’ä»¶ï¼Œè¡¥å……è¿™æ–¹é¢èƒ½åŠ›ã€‚</p>\n<p><strong>node.js ä¸­ C++ æ‰©å±•ï¼š</strong></p>\n<p>c++ ç¼–å†™çš„ä»£ç èƒ½å¤Ÿè¢«ç¼–è¯‘æˆä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ (dll), å¯ä»¥è¢« nodejs require å¼•å…¥ä½¿ç”¨ï¼Œåç¼€æ˜¯ <code>.node</code></p>\n<p>.node æ–‡ä»¶çš„åŸç†å°±æ˜¯ ( <code>window dll</code> ) ( <code>Mac dylib</code> ) ( <code>Linux so</code> )</p>\n<p>c++ æ‰©å±•ç¼–å†™è¯­æ³•</p>\n<ul>\n<li>\n<p>NAN (Native Abstractions for Nodejs) ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„ç¼–è¯‘</p>\n<ul>\n<li>å› ä¸º Nodejs å’Œ V8 éƒ½æ›´æ–°çš„å¾ˆå¿«æ‰€æœ‰æ¯ä¸ªç‰ˆæœ¬çš„æ–¹æ³•åä¹Ÿä¸ä¸€æ ·ï¼Œå¯¹æˆ‘ä»¬å¼€å‘é€ æˆäº†å¾ˆå¤§çš„é—®é¢˜ä¾‹å¦‚</li>\n<li>0.50 ç‰ˆæœ¬  <code>Echo(const Prototype&amp;proto)</code></li>\n<li>3.00 ç‰ˆæœ¬  <code>Echo(Object&lt;Prototype&gt;&amp; proto)</code></li>\n</ul>\n</li>\n<li>\n<p>NAN çš„å°±æ˜¯ä¸€å †å®åˆ¤æ–­ï¼Œåˆ¤æ–­å„ç§ç‰ˆæœ¬çš„ APIï¼Œç”¨æ¥å®ç°å…¼å®¹æ‰€ä»¥ä»–ä¼šåˆ°å¤„ç¼–è¯‘</p>\n<ul>\n<li>N-API (node-api) æ— éœ€é‡æ–°ç¼–è¯‘</li>\n<li>åŸºäº C çš„ API</li>\n<li>c++ å°è£… node-addon-api</li>\n</ul>\n</li>\n</ul>\n<p>N-API æ˜¯ä¸€ä¸ªæ›´ç°ä»£çš„é€‰æ‹©ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç¨³å®šçš„ã€è·¨ç‰ˆæœ¬çš„ APIï¼Œä½¿å¾—ä½ çš„æ’ä»¶å¯ä»¥åœ¨ä¸åŒç‰ˆæœ¬çš„ Node.js ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚è¿™å¤§å¤§ç®€åŒ–äº†ç¼–å†™å’Œç»´æŠ¤æ’ä»¶çš„è¿‡ç¨‹ã€‚</p>\n<p>å¯¹äº C++ï¼Œå¯ä»¥ä½¿ç”¨ node-addon-apiï¼Œè¿™æ˜¯ N-API çš„ä¸€ä¸ªå°è£…ï¼Œæä¾›äº†ä¸€ä¸ªæ›´æ˜“äºä½¿ç”¨çš„ C++ APIã€‚è¿™å°†ä½¿ä½ çš„ä»£ç æ›´æ˜“äºé˜…è¯»å’Œç»´æŠ¤ã€‚</p>\n<p><strong>ä½¿ç”¨åœºæ™¯</strong></p>\n<ol>\n<li>ä½¿ç”¨ C++ ç¼–å†™çš„ Nodejs åº“å¦‚ <code>node-sass</code>   <code>node-jieba</code>  ç­‰</li>\n<li>CPU å¯†é›†å‹åº”ç”¨</li>\n<li>ä»£ç ä¿æŠ¤</li>\n</ol>\n<p><strong>éœ€è¦å®‰è£… C++ ç¼–è¾‘å™¨ï¼š</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">--global</span> <span class=\"token parameter variable\">--production</span> windows-build-tools <span class=\"token comment\">#ç®¡ç†å‘˜è¿è¡Œ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#å¦‚æœå®‰è£…è¿‡ python ä»¥åŠ c++ å¼€å‘è½¯ä»¶å°±ä¸éœ€è¦è£…è¿™ä¸ªäº†</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> node-gyp <span class=\"token parameter variable\">-g</span> <span class=\"token comment\">#å…¨å±€å®‰è£…</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> node-addon-api <span class=\"token parameter variable\">-D</span> <span class=\"token comment\">#è£…åˆ°é¡¹ç›®é‡Œ</span></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ï¼š</strong></p>\n<p><strong>cpu.cppï¼š</strong></p>\n<pre><code class=\"language-c++\">#define NAPI_VERSION 3  //æŒ‡å®šaddonç‰ˆæœ¬\n#define NAPI_CPP_EXCEPTIONS //å¯ç”¨ Node.js N-API ä¸­çš„ C++ å¼‚å¸¸æ”¯æŒ\n#include &lt;napi.h&gt;  //addon API\n#include &lt;windows.h&gt; //windwos API\n\nNapi::Value GetScreenSize(const Napi::CallbackInfo&amp; info) &#123;\n    Napi::Env env = info.Env(); //æŒ‡å®šç¯å¢ƒ\n\n    int cx = GetSystemMetrics(SM_CXSCREEN); //è·å–è®¾å¤‡å®½\n    int cy = GetSystemMetrics(SM_CYSCREEN); //è·å–è®¾å¤‡é«˜\n\n    Napi::Object result = Napi::Object::New(env); //åˆ›å»ºä¸€ä¸ªå¯¹è±¡\n    result.Set(&quot;width&quot;, cx);\n    result.Set(&quot;height&quot;, cy);\n\n    return result; //è¿”å›å¯¹è±¡\n&#125;\n\nNapi::Object Init(Napi::Env env, Napi::Object exports) &#123;\n    //æŠ›å‡ºä¸€ä¸ªå‡½æ•°  getScreenSize \n    exports.Set(&quot;getScreenSize&quot;, Napi::Function::New(env, GetScreenSize));\n    return exports;\n&#125;\n//addonå›ºå®šè¯­æ³• å¿…é¡»æŠ›å‡ºè¿™ä¸ªæ–¹æ³•\nNODE_API_MODULE(NODE_GYP_MODULE_NAME, Init)\n</code></pre>\n<p><strong>binding.gypï¼š</strong></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token string\">\"targets\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token string\">\"target_name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cpu\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">//</span>åç§°</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token string\">\"sources\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"cpu.cpp\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">//</span>æŒ‡å®šæ–‡ä»¶</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token string\">\"include_dirs\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                 <span class=\"token string\">\"&lt;!@(node -p \\\"require('node-addon-api').include\\\")\"</span> <span class=\"token operator\">//</span>å¼•å…¥addon</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>index.jsï¼š</strong></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> addon <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./build/Release/cpu.node'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>addon<span class=\"token punctuation\">.</span><span class=\"token function\">getScreenSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong>å‘½ä»¤è¡Œä¸­æ‰“åŒ… addonï¼š</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>node-gyp configure <span class=\"token comment\">#ç”Ÿæˆé…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>node-gyp build  <span class=\"token comment\">#æ‰“åŒ… addon</span></pre></td></tr></table></figure><h2 id=\"å¤§æ–‡ä»¶ä¸Šä¼ \"><a class=\"anchor\" href=\"#å¤§æ–‡ä»¶ä¸Šä¼ \">#</a> å¤§æ–‡ä»¶ä¸Šä¼ </h2>\n<p>å¤§æ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆï¼š</p>\n<ul>\n<li>å¤§æ–‡ä»¶åˆ†ç‰‡ï¼šå°†å¤§æ–‡ä»¶åˆ‡åˆ†æˆè¾ƒå°çš„ç‰‡æ®µï¼ˆé€šå¸¸ç§°ä¸ºåˆ†ç‰‡æˆ–è€…å—ï¼‰ï¼Œç„¶åé€ä¸ªä¸Šä¼ è¿™äº›åˆ†ç‰‡\n<ul>\n<li>ä¼˜ç‚¹æ˜¯ï¼šæé«˜ä¸Šä¼ çš„ç¨³å®šæ€§ï¼Œå› ä¸ºä¸Šä¼ å¤±è´¥æ—¶åªéœ€è¦é‡æ–°ä¸Šä¼ è¯¥åˆ†ç‰‡è€Œä¸éœ€è¦é‡æ–°ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶åˆ†ç‰‡ä¸Šä¼ è¿˜å¯ä»¥åˆ©ç”¨å¤šä¸ªç½‘ç»œè¿æ¥å¹¶è¡Œä¸Šä¼ å¤šä¸ªåˆ†ç‰‡ï¼Œæé«˜ä¸Šä¼ é€Ÿåº¦ã€‚</li>\n</ul>\n</li>\n<li>æ–­ç‚¹ç»­ä¼ ï¼šå¦‚æœä¸Šä¼ ä¸­æ­¢ï¼Œæ–­ç‚¹ä¼ è¾“å¯ä»¥è®°å½•å·²æˆåŠŸä¸Šä¼ çš„åˆ†ç‰‡ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ¢å¤ä¸Šä¼ æ—¶ç»§ç»­ä¸Šä¼ æœªå®Œæˆçš„ä»»åŠ¡ï¼Œè€Œä¸æ˜¯é‡æ–°ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶\n<ul>\n<li>ä¼˜ç‚¹æ˜¯å¯ä»¥å¤§å¤§å‡å°‘ä¸Šä¼ å¤±è´¥çš„å½±å“ï¼Œå¹¶èŠ‚çœæ—¶é—´å’Œå¸¦å®½ã€‚</li>\n</ul>\n</li>\n</ul>\n<p>å‰ç«¯ï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> fileDOM <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    fileDOM<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç‰‡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">const</span> chunks <span class=\"token operator\">=</span> <span class=\"token function\">sliceFile</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">// ä¸Šä¼ åˆ†ç‰‡æ•°æ®</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token function\">postChunksData</span><span class=\"token punctuation\">(</span>chunks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">sliceFile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file<span class=\"token punctuation\">,</span>size<span class=\"token operator\">=</span><span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">const</span> chunks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>file<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>i<span class=\"token operator\">+=</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            chunks<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>i <span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">return</span> chunks<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">postChunksData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">chunks</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>chunks<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token comment\">// ä½¿ç”¨ formData ä¸Šä¼ æ‰€æœ‰åˆ†ç‰‡</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">const</span> formData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            formData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">,</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            formData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'total'</span><span class=\"token punctuation\">,</span>chunks<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            formData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fileName'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'åˆ†ç‰‡æ–‡ä»¶'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            formData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file'</span><span class=\"token punctuation\">,</span>chunks<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            list<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/up'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> formData<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// ä¸Šä¼ å®Œæ‰€æœ‰åˆ†ç‰‡ä¹‹åå°†æ–‡ä»¶åˆå¹¶</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/merge'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>                <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span><span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                    <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"application/json\"</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>                <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                    <span class=\"token literal-property property\">fileName</span><span class=\"token operator\">:</span><span class=\"token string\">\"åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>    </pre></td></tr><tr><td data-num=\"46\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>æœåŠ¡ç«¯ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> multer <span class=\"token keyword\">from</span> <span class=\"token string\">'multer'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> cors <span class=\"token keyword\">from</span> <span class=\"token string\">'cors'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'node:fs'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">'node:path'</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> storage <span class=\"token operator\">=</span> multer<span class=\"token punctuation\">.</span><span class=\"token function\">diskStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function-variable function\">destination</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> file<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'uploads/'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token function-variable function\">filename</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> file<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>index<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>fileName<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">const</span> upload <span class=\"token operator\">=</span> <span class=\"token function\">multer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> storage <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ multer å°†æ•°æ®å­˜åˆ°æœåŠ¡å™¨ç£ç›˜ä¸­</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/up'</span><span class=\"token punctuation\">,</span> upload<span class=\"token punctuation\">.</span><span class=\"token function\">single</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ok'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ fs.appendFileSync å°†åˆ‡ç‰‡æ–‡ä»¶è¿›è¡Œåˆæˆ</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/merge'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">const</span> uploadPath <span class=\"token operator\">=</span> <span class=\"token string\">'./uploads'</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">let</span> files <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> uploadPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    files <span class=\"token operator\">=</span> files<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> b<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">const</span> writePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">video</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>fileName<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">.mp4</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    files<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        fs<span class=\"token punctuation\">.</span><span class=\"token function\">appendFileSync</span><span class=\"token punctuation\">(</span>writePath<span class=\"token punctuation\">,</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> uploadPath<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        fs<span class=\"token punctuation\">.</span><span class=\"token function\">unlinkSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> uploadPath<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ok'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Server is running on port 3000'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"æ–‡ä»¶æµä¸‹è½½\"><a class=\"anchor\" href=\"#æ–‡ä»¶æµä¸‹è½½\">#</a> æ–‡ä»¶æµä¸‹è½½</h2>\n<ul>\n<li>\n<p>æ–‡ä»¶æµä¸‹è½½æ˜¯ä¸€ç§å°†æ–‡ä»¶å†…å®¹é€šè¿‡æµçš„å½¢å¼å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®ç°æ–‡ä»¶ä¸‹è½½çš„æ–¹æ³•ï¼Œé€‚ç”¨äºå¤„ç†å¤§å‹æ–‡ä»¶æˆ–è€…éœ€è¦å®æ—¶ç”Ÿæˆæ–‡ä»¶å†…å®¹çš„æƒ…å†µã€‚</p>\n</li>\n<li>\n<p>æ ¸å¿ƒçŸ¥è¯†å“åº”å¤´ï¼š</p>\n<ul>\n<li>Content-Type æŒ‡å®šä¸‹è½½æ–‡ä»¶çš„ MIME ç±»å‹\n<ul>\n<li><code>application/octet-stream</code> ï¼ˆäºŒè¿›åˆ¶æµæ•°æ®ï¼‰</li>\n<li><code>application/pdf</code> ï¼šAdobe PDF æ–‡ä»¶ã€‚</li>\n<li><code>application/json</code> ï¼šJSON æ•°æ®æ–‡ä»¶</li>\n<li><code>image/jpeg</code> ï¼šJPEG å›¾åƒæ–‡ä»¶</li>\n</ul>\n</li>\n<li><code>Content-Disposition</code>  æŒ‡å®šæœåŠ¡å™¨è¿”å›çš„å†…å®¹åœ¨æµè§ˆå™¨ä¸­çš„å¤„ç†æ–¹å¼ã€‚å®ƒå¯ä»¥ç”¨äºæ§åˆ¶æ–‡ä»¶ä¸‹è½½ã€å†…è”æ˜¾ç¤ºæˆ–å…¶ä»–å¤„ç†æ–¹å¼\n<ul>\n<li><code>attachment</code> ï¼šæŒ‡ç¤ºæµè§ˆå™¨å°†å“åº”å†…å®¹ä½œä¸ºé™„ä»¶ä¸‹è½½ã€‚é€šå¸¸ä¸  <code>filename</code>  å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºæŒ‡å®šä¸‹è½½æ–‡ä»¶çš„åç§°</li>\n<li><code>inline</code> ï¼šæŒ‡ç¤ºæµè§ˆå™¨ç›´æ¥åœ¨æµè§ˆå™¨çª—å£ä¸­æ‰“å¼€å“åº”å†…å®¹ï¼Œå¦‚æœå†…å®¹æ˜¯å¯è¯†åˆ«çš„æ–‡ä»¶ç±»å‹ï¼ˆä¾‹å¦‚å›¾ç‰‡æˆ– PDFï¼‰ï¼Œåˆ™åœ¨æµè§ˆå™¨ä¸­å†…è”æ˜¾ç¤º</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>å‰ç«¯ï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>         <span class=\"token keyword\">const</span> btn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'btn'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>         btn<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000/download'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span><span class=\"token string\">\"post\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                    <span class=\"token literal-property property\">fileName</span><span class=\"token operator\">:</span><span class=\"token string\">'1.png'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                    <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"application/json\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token operator\">=></span>res<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// è¯·æ±‚åˆ° stream æµå¼æ•°æ®åï¼Œé€šè¿‡ res.arrayBuffer æ–¹æ³•è·å¾— Buffer æ•°æ®ï¼Œç”¨ Blob å®¹å™¨å­˜å‚¨äºŒè¿›åˆ¶ç¼“å†²æ•°æ®ï¼Œé€šè¿‡ URL.createObjectURL åˆ›å»º URL åœ°å€ï¼Œèµ‹ç»™ a æ ‡ç­¾è¿›è¡Œä¸‹è½½ã€‚</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>res<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">'image/png'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                a<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                a<span class=\"token punctuation\">.</span>download <span class=\"token operator\">=</span> <span class=\"token string\">'1.png'</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                a<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>         <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>æœåŠ¡ç«¯ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'fs'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">'path'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> cors <span class=\"token keyword\">from</span> <span class=\"token string\">'cors'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/download'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// å½“è¯·æ±‚ download è·¯å¾„æ—¶ï¼Œé€šè¿‡ fs è¯»å–æ–‡ä»¶æ•°æ®ï¼Œè®¾ç½®å“åº”å¤´åè¿”å›æ–‡ä»¶æ•°æ®</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">const</span> fileName <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>fileName</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./static'</span><span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/octet-stream'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Disposition'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'attachment;filename='</span> <span class=\"token operator\">+</span> fileName<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3000'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"httpç¼“å­˜\"><a class=\"anchor\" href=\"#httpç¼“å­˜\">#</a> HTTP ç¼“å­˜</h2>\n<p>HTTP ç¼“å­˜åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚è¿™ä¸¤ç§ç¼“å­˜éƒ½æ˜¯é€šè¿‡ HTTP å“åº”å¤´æ¥æ§åˆ¶ï¼Œç›®çš„æ˜¯æé«˜ç½‘ç«™çš„æ€§èƒ½ã€‚</p>\n<ul>\n<li>\n<p>å¼ºç¼“å­˜</p>\n<ul>\n<li>\n<p>å¼ºç¼“å­˜ä¹‹ååˆ™ä¸éœ€è¦é‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯ä»æµè§ˆå™¨ç¼“å­˜ï¼ˆå†…å­˜ç¼“å­˜æˆ–è€…ç¡¬ç›˜ç¼“å­˜ä¸­ï¼‰è¯»å–ã€‚</p>\n<ul>\n<li>memory cache (å†…å­˜ç¼“å­˜) å†…å­˜ç¼“å­˜å­˜å‚¨åœ¨æµè§ˆå™¨å†…å­˜å½“ä¸­ï¼Œä¸€èˆ¬åˆ·æ–°ç½‘é¡µçš„æ—¶å€™ä¼šå‘ç°å¾ˆå¤šå†…å­˜ç¼“å­˜</li>\n<li>disk cache (ç¡¬ç›˜ç¼“å­˜) ç¡¬ç›˜ç¼“å­˜æ˜¯å­˜å‚¨åœ¨è®¡ç®—æœºç¡¬ç›˜ä¸­ï¼Œç©ºé—´å¤§ï¼Œä½†æ˜¯è¯»å–æ•ˆç‡æ¯”å†…å­˜ç¼“å­˜æ…¢</li>\n</ul>\n</li>\n<li>\n<p>å¼ºç¼“å­˜è®¾ç½®éœ€è¦æœåŠ¡ç«¯è®¾ç½®å¯¹åº”çš„å“åº”å¤´ Cache-Controlï¼Œå“åº”å¤´å«ä¹‰å¦‚ä¸‹ï¼š</p>\n<ul>\n<li><code>max-age</code> ï¼šæµè§ˆå™¨èµ„æºç¼“å­˜çš„æ—¶é•¿ (ç§’)ã€‚</li>\n<li><code>no-cache</code> ï¼šä¸èµ°å¼ºç¼“å­˜ï¼Œ<strong>èµ°åå•†ç¼“å­˜</strong>ã€‚</li>\n<li><code>no-store</code> ï¼šç¦æ­¢ä»»ä½•ç¼“å­˜ç­–ç•¥ã€‚</li>\n<li><code>public</code> ï¼šèµ„æºå³å¯ä»¥è¢«æµè§ˆå™¨ç¼“å­˜ä¹Ÿå¯ä»¥è¢«ä»£ç†æœåŠ¡å™¨ç¼“å­˜ (CDN)ã€‚</li>\n<li><code>private</code> ï¼šèµ„æºåªèƒ½è¢«å®¢æˆ·ç«¯ç¼“å­˜ã€‚</li>\n</ul>\n</li>\n<li>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cache-Control'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'public, max-age=20'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">\"cache\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token literal-property property\">version</span><span class=\"token operator\">:</span><span class=\"token string\">'1.0.0'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æœåŠ¡å¯åŠ¨'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>åå•†ç¼“å­˜</p>\n<ul>\n<li>\n<p>å½“æ¶‰åŠåˆ°ç¼“å­˜æœºåˆ¶æ—¶ï¼Œå¼ºç¼“å­˜ä¼˜å…ˆäºåå•†ç¼“å­˜ã€‚å½“èµ„æºçš„å¼ºç¼“å­˜ç”Ÿæ•ˆæ—¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è·å–èµ„æºï¼Œè€Œæ— éœ€ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚</p>\n<p>å¦‚æœå¼ºç¼“å­˜æœªå‘½ä¸­ï¼ˆä¾‹å¦‚ <code>max-age</code>  è¿‡æœŸï¼‰ï¼Œæˆ–è€…æœåŠ¡å™¨å“åº”ä¸­è®¾ç½®äº† <code>Cache-Control: no-cache</code> ï¼Œåˆ™å®¢æˆ·ç«¯ä¼šå‘èµ·åå•†ç¼“å­˜çš„è¯·æ±‚ã€‚åœ¨åå•†ç¼“å­˜ä¸­ï¼Œå®¢æˆ·ç«¯ä¼šå‘é€å¸¦æœ‰ç¼“å­˜æ•°æ®æ ‡è¯†çš„è¯·æ±‚å¤´éƒ¨å­—æ®µï¼Œä»¥å‘æœåŠ¡å™¨éªŒè¯èµ„æºçš„æœ‰æ•ˆæ€§ã€‚</p>\n<p>æœåŠ¡å™¨ä¼šæ ¹æ®å®¢æˆ·ç«¯å‘é€çš„åå•†ç¼“å­˜å­—æ®µï¼ˆå¦‚ <code>If-Modified-Since</code>  å’Œ <code>If-None-Match</code> ï¼‰æ¥åˆ¤æ–­èµ„æºæ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚å¦‚æœèµ„æºæœªå‘ç”Ÿä¿®æ”¹ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›çŠ¶æ€ç  304ï¼ˆNot Modifiedï¼‰ï¼Œé€šçŸ¥å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ç¼“å­˜çš„ç‰ˆæœ¬ã€‚å¦‚æœèµ„æºå·²ç»å‘ç”Ÿå˜åŒ–ï¼ŒæœåŠ¡å™¨å°†è¿”å›æœ€æ–°çš„èµ„æºï¼ŒçŠ¶æ€ç ä¸º 200ã€‚</p>\n</li>\n<li>\n<blockquote>\n<p>æœåŠ¡ç«¯é€šè¿‡è®¾ç½®å“åº”å¤´ <code>Last-Modified</code>  å’Œ <code>If-Modified-Since</code>  æ¥é€šçŸ¥å®¢æˆ·ç«¯æœ€åä¿®æ”¹æ—¶é—´ï¼Œå®¢æˆ·ç«¯åœ¨åç»­è¯·æ±‚ä¸­é€šè¿‡ <code>If-Modified-Since</code>  è¯·æ±‚å¤´æºå¸¦è¯¥æ—¶é—´ï¼ŒæœåŠ¡å™¨åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰æ›´æ–°ï¼Œå¦‚ä½•æ²¡æœ‰è¿”å› 304 çŠ¶æ€ç ã€‚</p>\n</blockquote>\n</li>\n<li>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> express <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> cors <span class=\"token keyword\">from</span> <span class=\"token string\">'cors'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'node:fs'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getModifyTime</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">return</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mtime<span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è·å–æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cache-Control'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'no-cache, max-age=2592000'</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// è¡¨ç¤ºèµ°åå•†ç¼“å­˜</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">const</span> ifModifiedSince <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'if-modified-since'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// è·å–æµè§ˆå™¨ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Last-Modified'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">getModifyTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ifModifiedSince <span class=\"token operator\">&amp;&amp;</span> ifModifiedSince <span class=\"token operator\">===</span> <span class=\"token function\">getModifyTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'304'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">304</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'200'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Example app listening on port 3000!'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n<li>\n<p>ETagï¼š</p>\n<p>ETag å’Œ If-None-Matchï¼šæœåŠ¡å™¨é€šè¿‡ ETag å“åº”å¤´ç»™èµ„æºç”Ÿæˆä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®¢æˆ·ç«¯åœ¨åç»­è¯·æ±‚ä¸­é€šè¿‡ If-None-Match è¯·æ±‚å¤´æºå¸¦è¯¥æ ‡è¯†ç¬¦ï¼ŒæœåŠ¡å™¨æ ¹æ®æ ‡è¯†ç¬¦åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰æ›´æ–°ã€‚å¦‚æœæ²¡æœ‰æ›´æ–°ï¼Œè¿”å› 304 çŠ¶æ€ç ã€‚</p>\n<blockquote>\n<p>ETag ä¼˜å…ˆçº§æ¯” Last-Modified é«˜</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"http2\"><a class=\"anchor\" href=\"#http2\">#</a> HTTP2</h2>\n<ul>\n<li>\n<p>HTTP2 æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œæ˜¯å¯¹ HTTP/1.1 åè®®çš„é‡å¤§æ”¹è¿›ã€‚ç›®æ ‡æ˜¯æ”¹å–„æ€§èƒ½ã€æ•ˆç‡å’Œå®‰å…¨æ€§ï¼Œæä¾›æ›´å¿«æ›´é«˜æ•ˆçš„ç½‘ç»œé€šä¿¡ã€‚</p>\n</li>\n<li>\n<p>å¤šè·¯å¤ç”¨</p>\n</li>\n<li>\n<p>HTTP/2 æ”¯æŒåœ¨å•ä¸ª TCP è¿æ¥ä¸ŠåŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œè¿™æ„å‘³ç€å¯ä»¥é¿å…å»ºç«‹å¤šä¸ªè¿æ¥ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿï¼Œæé«˜æ•ˆç‡ã€‚</p>\n</li>\n<li>\n<p>äºŒè¿›åˆ¶åˆ†å¸§</p>\n<ul>\n<li>åœ¨ HTTP2 åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä¹‹é—´å¢åŠ äº†äºŒè¿›åˆ¶åˆ†å¸§å±‚ï¼Œå°†è¯·æ±‚å’Œå“åº”æ‹†åˆ†ä¸ºå¤šä¸ªå¸§ï¼Œè¿™ç§äºŒè¿›åˆ¶æ ¼å¼çš„è®¾è®¡ä½¿å¾—åè®®æ›´åŠ é«˜æ•ˆï¼Œå¹¶ä¸”å®¹æ˜“è§£æå’Œå¤„ç†ã€‚\n<ul>\n<li>æ•°æ®å¸§ï¼ˆData Frameï¼‰ï¼šç”¨äºä¼ è¾“è¯·æ±‚å’Œå“åº”çš„å®é™…æ•°æ®ã€‚</li>\n<li>å¤´éƒ¨å¸§ï¼ˆHeaders Frameï¼‰ï¼šåŒ…å«è¯·æ±‚æˆ–å“åº”çš„å¤´éƒ¨ä¿¡æ¯ã€‚</li>\n<li>ä¼˜å…ˆçº§å¸§ï¼ˆPriority Frameï¼‰ï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„ä¼˜å…ˆçº§ã€‚</li>\n<li>è®¾ç½®å¸§ï¼ˆSettings Frameï¼‰ï¼šç”¨äºä¼ è¾“é€šä¿¡å‚æ•°çš„è®¾ç½®ã€‚</li>\n<li>æ¨é€å¸§ï¼ˆPush Promise Frameï¼‰ï¼šç”¨äºæœåŠ¡å™¨ä¸»åŠ¨æ¨é€èµ„æºã€‚</li>\n<li>PING å¸§ï¼ˆPING Frameï¼‰ï¼šç”¨äºæ£€æµ‹è¿æ¥çš„æ´»è·ƒæ€§ã€‚</li>\n<li>é‡ç½®å¸§ï¼ˆRST_STREAM Frameï¼‰ï¼šç”¨äºé‡ç½®æ•°æ®æµæˆ–é€šçŸ¥é”™è¯¯ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>å¤´éƒ¨å‹ç¼©</p>\n<ul>\n<li>HTTP2 é‡‡ç”¨é¦–éƒ¨è¡¨å’ŒåŠ¨æ€å‹ç¼©ç®—æ³•æ¥å‡å°‘å¤´éƒ¨çš„å¤§å°ï¼Œè¿™å‡å°‘äº†æ¯ä¸ªè¯·æ±‚å’Œå“åº”çš„å¼€é”€ï¼Œæé«˜äº†ä¼ è¾“æ•ˆç‡ã€‚</li>\n</ul>\n</li>\n<li>\n<p>node ä¸­å®ç°</p>\n<ul>\n<li>\n<blockquote>\n<p>å¯ä»¥ä½¿ç”¨ openssl ç”Ÿæˆ tls è¯ä¹¦ï¼š</p>\n<p>ç”Ÿæˆç§é’¥</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl genrsa <span class=\"token parameter variable\">-out</span> server.key <span class=\"token number\">1024</span></pre></td></tr></table></figure><p>ç”Ÿæˆè¯ä¹¦è¯·æ±‚æ–‡ä»¶ (ç”¨å®Œå¯ä»¥åˆ æ‰ä¹Ÿå¯ä»¥ä¿ç•™)</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl req <span class=\"token parameter variable\">-new</span> <span class=\"token parameter variable\">-key</span> server.key <span class=\"token parameter variable\">-out</span> server.csr</pre></td></tr></table></figure><p>ç”Ÿæˆè¯ä¹¦</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>openssl x509 <span class=\"token parameter variable\">-req</span> <span class=\"token parameter variable\">-in</span> server.csr <span class=\"token parameter variable\">-out</span> server.crt <span class=\"token parameter variable\">-signkey</span> server.key <span class=\"token parameter variable\">-days</span> <span class=\"token number\">3650</span></pre></td></tr></table></figure></blockquote>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> http2 <span class=\"token keyword\">from</span> <span class=\"token string\">'node:http2'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'node:fs'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http2<span class=\"token punctuation\">.</span><span class=\"token function\">createSecureServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server.key'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token literal-property property\">cert</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server.crt'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>server<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stream'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">stream<span class=\"token punctuation\">,</span> headers</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    stream<span class=\"token punctuation\">.</span><span class=\"token function\">respond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token string-property property\">'content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/html; charset=utf-8'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token string-property property\">':status'</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    stream<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    stream<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      &lt;h1>http2&lt;/h1></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server is running on port 80'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"nodeä¸­äº‹ä»¶å¾ªç¯\"><a class=\"anchor\" href=\"#nodeä¸­äº‹ä»¶å¾ªç¯\">#</a> Node ä¸­äº‹ä»¶å¾ªç¯</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vZ29sb3ZpbmcvcC8xNjUyMzY0OC5odG1s\">https://www.cnblogs.com/goloving/p/16523648.html</span></p>\n<blockquote>\n<p>æœ¬ç¯‡å‡ºäºå­¦ä¹ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vY29sdW1uLzcyNzQ4OTM3MTQ5NzA5MTg5Njk=\"> node.js æ•™ç¨‹</span>åæ‰€æ•´ç†ï¼Œå†…å®¹ä¸­æœ‰å¤§é‡å¼•ç”¨å’Œå‚ç…§ï¼Œè¯¦ç»†å¯ç‚¹å‡»å‰å»äº†è§£</p>\n</blockquote>\n",
            "tags": [
                "Node.js",
                "node.js"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/24/%E5%BE%AE%E5%89%8D%E7%AB%AF/",
            "url": "https://dmqweb.cn/2024/05/24/%E5%BE%AE%E5%89%8D%E7%AB%AF/",
            "title": "å¾®å‰ç«¯",
            "date_published": "2024-05-24T06:26:39.000Z",
            "content_html": "<h1 id=\"å¾®å‰ç«¯\"><a class=\"anchor\" href=\"#å¾®å‰ç«¯\">#</a> å¾®å‰ç«¯</h1>\n<h2 id=\"ç›®æ ‡\"><a class=\"anchor\" href=\"#ç›®æ ‡\">#</a> ç›®æ ‡</h2>\n<p>æ ¸å¿ƒç›®æ ‡æ˜¯å°†å·¨çŸ³åº”ç”¨æ‹†è§£æˆè‹¥å¹²å¯ä»¥è‡ªæ²»çš„æ¾è€¦åˆå¾®åº”ç”¨ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å¾®åº”ç”¨çœŸæ­£å…·å¤‡ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹è¿è¡Œçš„èƒ½åŠ›ï¼ˆé˜²æ­¢å·¨çŸ³åº”ç”¨ï¼‰</p>\n<h2 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h2>\n<p>å¾®å‰ç«¯æŒ‰ä¸šåŠ¡åŠŸèƒ½å°†ä¸€æ•´å—å‰ç«¯åº”ç”¨åˆ†è§£æˆä¸€ç³»åˆ—æ›´å°çš„ã€æ›´å†…èšçš„å¾®å‰ç«¯åº”ç”¨ï¼ŒåŒæ—¶é€šè¿‡æ˜ç¡®çš„äº¤äº’åè®®æ¥ç®¡ç†è¿™äº›åº”ç”¨é—´çš„ä¾èµ–å…³ç³»ï¼Œå®ç°ä¸åŒä¸šåŠ¡çš„è§£è€¦åˆã€‚å¹¶å°†æ¯ä¸ªå‰ç«¯åº”ç”¨äº¤ç»™ç‹¬ç«‹å›¢é˜Ÿè´Ÿè´£ï¼Œå„è‡ªç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ã€å……åˆ†åˆ©ç”¨å¹¶è¡Œæ€§ã€‚</p>\n<ul>\n<li>å¾®å‰ç«¯æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œmonorepo æ˜¯ä¸€ç§å¼€å‘ç­–ç•¥ï¼Œæ¨¡å—è”é‚¦æ˜¯ä¸€ç§æ‰“åŒ…å’Œéƒ¨ç½²æ–¹å¼\n<ul>\n<li>å¾®å‰ç«¯å°†å¤§å‹çš„å‰ç«¯åº”ç”¨åˆ†è§£æˆä¸€ç»„å°çš„ã€ç‹¬ç«‹çš„å‰ç«¯æœåŠ¡ï¼Œæ¯ä¸€ä¸ªå°çš„å‰ç«¯æœåŠ¡å¯ä»¥ç”±ä¸åŒçš„å›¢é˜Ÿç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤ã€‚å¾®å‰ç«¯çš„ç›®æ ‡æ˜¯æé«˜å¤§å‹å‰ç«¯é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œçµæ´»æ€§</li>\n<li>monorepo æ˜¯ä¸€ç§å¼€å‘ç­–ç•¥ï¼ˆæŠ€å·§ï¼‰ï¼Œå®ƒå°†å¤šä¸ªé¡¹ç›®æˆ–æœåŠ¡çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªå•ä¸€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä»“åº“ä¸­ï¼Œæœ‰åŠ©äºç®€åŒ–ä¾èµ–ç®¡ç†ã€ä»£ç å…±äº«å’Œå›¢é˜Ÿåä½œã€‚å¯¹äºå·¥å…·åº“èƒ½æ›´å¥½çš„æš´éœ²å•ç‹¬æ¨¡å—ã€‚</li>\n<li>æ¨¡å—è”é‚¦æ˜¯ Webpack5 å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå…è®¸å°†å¤šä¸ª Webpack é¡¹ç›®è¿œç¨‹æ¥å…¥ã€è”åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå•ä¸€çš„åº”ç”¨ï¼Œæ¯ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ï¼ŒåŒæ—¶å…±äº«å½¼æ­¤çš„ä»£ç ï¼Œæ¨¡å—è”é‚¦æ˜¯ä¸€ç§æ–°çš„æ‰“åŒ…å’Œéƒ¨ç½²å‰ç«¯åº”ç”¨çš„æ–¹å¼ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"å¾®å‰ç«¯åº”ç”¨\"><a class=\"anchor\" href=\"#å¾®å‰ç«¯åº”ç”¨\">#</a> å¾®å‰ç«¯åº”ç”¨</h1>\n<h2 id=\"emp\"><a class=\"anchor\" href=\"#emp\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9lbXAyLm5ldGxpZnkuYXBwLw==\">EMP</span></h2>\n<p>æ¨¡å—è”é‚¦æŠ€æœ¯ï¼Œå¾®å‰ç«¯æ„å»ºæ–¹æ¡ˆï¼Œæ˜¯åŸºäº webpack 5 module federation çš„å¾®å‰ç«¯æ–¹æ¡ˆã€‚</p>\n<p><strong>ç‰¹ç‚¹</strong></p>\n<ol>\n<li>webpack è”é‚¦ç¼–è¯‘å¯ä»¥ä¿è¯æ‰€æœ‰å­åº”ç”¨ä¾èµ–è§£è€¦ï¼›</li>\n<li>åº”ç”¨é—´å»ä¸­å¿ƒåŒ–çš„è°ƒç”¨ã€å…±äº«æ¨¡å—ï¼›</li>\n<li>æ¨¡å—è¿œç¨‹ ts æ”¯æŒï¼›</li>\n</ol>\n<p><strong>ä¸è¶³</strong></p>\n<ol>\n<li>å¯¹ webpack å¼ºä¾èµ–ï¼Œè€æ—§é¡¹ç›®ä¸å‹å¥½ï¼›</li>\n<li>æ²¡æœ‰æœ‰æ•ˆçš„ css æ²™ç®±å’Œ js æ²™ç®±ï¼Œéœ€è¦é ç”¨æˆ·è‡ªè§‰ï¼›</li>\n<li>å­åº”ç”¨ä¿æ´»ã€å¤šåº”ç”¨æ¿€æ´»æ— æ³•å®ç°ï¼›</li>\n<li>ä¸»ã€å­åº”ç”¨çš„è·¯ç”±å¯èƒ½å‘ç”Ÿå†²çªï¼›</li>\n</ol>\n<p>åº•å±‚åŸç† è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹ç±»ä¼¼äºæ‹†åŒ…ï¼Œä¹Ÿå¯ä»¥å«æ¨¡å—å…±äº«ï¼Œä¾‹å¦‚ React æœ‰ä¸ªæ¨¡å—å¯ä»¥å…±äº«ç»™ Vue é¡¹ç›®ç”¨ Vue2 çš„ç»„ä»¶å¯ä»¥å…±äº«ç»™ Vue3 ç”¨ã€‚</p>\n<h2 id=\"single-spa\"><a class=\"anchor\" href=\"#single-spa\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC1oYW5zLnNpbmdsZS1zcGEuanMub3JnL2RvY3MvZ2V0dGluZy1zdGFydGVkLW92ZXJ2aWV3\">single-spa</span></h2>\n<p>single-spa æ˜¯å¾®å‰ç«¯çš„åŸºç¡€æ¡†æ¶ï¼Œä¹¾å¤æ¡†æ¶å°±æ˜¯åŸºäº single-spa æ¥å®ç°çš„ï¼Œåœ¨ single-spa çš„åŸºç¡€ä¸Šåšäº†ä¸€å±‚å°è£…ï¼Œä¹Ÿè§£å†³äº† single-spa çš„ä¸€äº›ç¼ºé™·ã€‚</p>\n<p><strong>åŸç†</strong></p>\n<ol>\n<li>single-spa åŸç†æ˜¯é€šè¿‡ç½‘ç»œè¯·æ±‚è¯·æ±‚åˆ°æ–‡ä»¶èµ„æºï¼ˆä½¿ç”¨ import å¯¼å…¥è¯­æ³•æ—¶ï¼Œéœ€è¦åœ¨ importmap ä¸­æ³¨å†ŒåŒ…åç§°å’Œåœ°å€ï¼‰</li>\n<li>å¯¹äºæ ·å¼éš”ç¦»ï¼Œsingle-spa æ¨èçš„æ–¹æ³•æœ‰ï¼šScoped CSS å’Œ shadow DOM</li>\n</ol>\n<p><strong>åˆ†æ</strong></p>\n<p>single-spa å®ç°äº†ä¸€ä¸ªå¾®å‰ç«¯æ¡†æ¶éœ€è¦å…·å¤‡çš„å„ç§åŠŸèƒ½ï¼Œä½†æ˜¯å®ç°çš„åˆä¸å¤Ÿå½»åº•ï¼Œé—ç•™äº†å¾ˆå¤šéœ€è¦è§£å†³çš„é—®é¢˜ã€‚</p>\n<h2 id=\"ä¹¾å¤\"><a class=\"anchor\" href=\"#ä¹¾å¤\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLmp1ZWppbi5jbi8/dGFyZ2V0PWh0dHBzJTNBJTJGJTJGcWlhbmt1bi51bWlqcy5vcmclMkZ6aCUyRg==\">ä¹¾å¤</span></h2>\n<p>ä¹¾å¤æ˜¯åœ¨ single-spa çš„åŸºç¡€ä¹‹ä¸Šè¿›è¡Œçš„è¿›ä¸€æ­¥å°è£…</p>\n<p><strong>ç‰¹ç‚¹</strong></p>\n<ol>\n<li>html entry çš„æ–¹å¼å¼•å…¥å­åº”ç”¨ï¼Œç›¸æ¯” js entry æå¤§çš„é™ä½äº†åº”ç”¨æ”¹é€ çš„æˆæœ¬ï¼›</li>\n<li>å®Œå¤‡çš„æ²™ç®±æ–¹æ¡ˆï¼Œjs æ²™ç®±åšäº† SnapshotSandboxã€LegacySandboxã€ProxySandbox ä¸‰å¥—æ¸è¿›å¢å¼ºæ–¹æ¡ˆï¼Œcss æ²™ç®±åšäº† strictStyleIsolationã€experimentalStyleIsolation ä¸¤å¥—é€‚ç”¨ä¸åŒåœºæ™¯çš„æ–¹æ¡ˆï¼›</li>\n<li>åšäº†é™æ€èµ„æºé¢„åŠ è½½èƒ½åŠ›ï¼›</li>\n</ol>\n<p><strong>ä¸è¶³</strong></p>\n<ol>\n<li>é€‚é…æˆæœ¬æ¯”è¾ƒé«˜ï¼Œå·¥ç¨‹åŒ–ã€ç”Ÿå‘½å‘¨æœŸã€é™æ€èµ„æºè·¯å¾„ã€è·¯ç”±ç­‰éƒ½è¦åšä¸€ç³»åˆ—çš„é€‚é…å·¥ä½œï¼›</li>\n<li>css æ²™ç®±é‡‡ç”¨ä¸¥æ ¼éš”ç¦»ä¼šæœ‰å„ç§é—®é¢˜ï¼Œjs æ²™ç®±åœ¨æŸäº›åœºæ™¯ä¸‹æ‰§è¡Œæ€§èƒ½ä¸‹é™ä¸¥é‡ï¼›</li>\n<li>æ— æ³•åŒæ—¶æ¿€æ´»å¤šä¸ªå­åº”ç”¨ï¼Œä¹Ÿä¸æ”¯æŒå­åº”ç”¨ä¿æ´»ï¼›</li>\n<li>æ— æ³•æ”¯æŒ vite ç­‰ esmodule è„šæœ¬è¿è¡Œï¼›</li>\n</ol>\n<h2 id=\"æ— ç•Œ\"><a class=\"anchor\" href=\"#æ— ç•Œ\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLmp1ZWppbi5jbi8/dGFyZ2V0PWh0dHBzJTNBJTJGJTJGd3VqaWUtbWljcm8uZ2l0aHViLmlvJTJGZG9jJTJGYXBpJTJGYnVzLmh0bWw=\">æ— ç•Œ</span></h2>\n<p><strong>ç‰¹ç‚¹</strong></p>\n<ol>\n<li>æ¥å…¥ç®€å•åªéœ€è¦å››äº”è¡Œä»£ç </li>\n<li>ä¸éœ€è¦é’ˆå¯¹ vite é¢å¤–å¤„ç†</li>\n<li>é¢„åŠ è½½</li>\n<li>åº”ç”¨ä¿æ´»æœºåˆ¶</li>\n</ol>\n<p><strong>ä¸è¶³</strong></p>\n<ol>\n<li>éš”ç¦» js ä½¿ç”¨ä¸€ä¸ªç©ºçš„ iframe è¿›è¡Œéš”ç¦»</li>\n<li>å­åº”ç”¨ axios éœ€è¦è‡ªè¡Œé€‚é…</li>\n<li>iframe æ²™ç®±çš„ src è®¾ç½®äº†ä¸»åº”ç”¨çš„ hostï¼Œåˆå§‹åŒ– iframe çš„æ—¶å€™éœ€è¦ç­‰å¾… iframe çš„ location.orign ä» 'about:blank' åˆå§‹åŒ–ä¸ºä¸»åº”ç”¨çš„ hostï¼Œè¿™ä¸ªé‡‡ç”¨çš„è®¡æ—¶å™¨å»ç­‰å¾…çš„ä¸æ˜¯å¾ˆæ‚ äºšã€‚</li>\n</ol>\n<p>åº•å±‚åŸç† ä½¿ç”¨ shadowDom éš”ç¦» cssï¼Œjs ä½¿ç”¨ç©ºçš„ iframe éš”ç¦»ï¼Œé€šè®¯ä½¿ç”¨çš„æ˜¯ proxy</p>\n<h4 id=\"åŸç†\"><a class=\"anchor\" href=\"#åŸç†\">#</a> åŸç†</h4>\n<p>æ— ç•Œçš„åŸç†å°±æ˜¯ä½¿ç”¨å¼€å¯å½±å­ dom æ¥è¿›è¡Œæ ·å¼çš„éš”ç¦»ï¼Œé€šè¿‡ä½¿ç”¨ attachShadow æ–¹æ³•å¼€å¯å½±å­ domï¼ˆç»§æ‰¿ HTMLElementï¼‰ï¼Œè·å¾—çš„ shadow å½±å­ dom æ·»åŠ  templateï¼ˆæ— ç•Œçš„åˆå§‹æ¨¡æ¿ï¼‰ä¸ºå­å…ƒç´ ï¼Œè¿™æ ·å°±è¿›è¡Œäº†æ ·å¼éš”ç¦»ï¼Œæœ€åé€šè¿‡ window.customElement.define æ³¨å†Œ dom å…ƒç´  wu-jieï¼Œä½¿ç”¨æ ‡ç­¾å³å¯ã€‚</p>\n<p>index.jsï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">class</span> <span class=\"token class-name\">WuJie</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HTMLElement</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'url'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token keyword\">const</span> shadow <span class=\"token operator\">=</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">attachShadow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">\"open\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// å¼€å¯å½±å­ dom ä¹Ÿå°±æ˜¯æ ·å¼éš”ç¦»</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>          <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#wu-jie'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLTemplateElement</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>          shadow<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span><span class=\"token function\">cloneNode</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token function\">getAttr</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">str</span><span class=\"token operator\">:</span>string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>           console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è·å–å‚æ•°'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨è§¦å‘æœ‰ä¸œè¥¿æ’å…¥</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token function\">connectedCallback</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>           console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç±»ä¼¼äºvue çš„mounted'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// ç”Ÿå‘½å‘¨æœŸå¸è½½</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token function\">disconnectedCallback</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç±»ä¼¼äºvue çš„destory'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">// è·Ÿ watch ç±»ä¼¼</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token function\">attributeChangedCallback</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span>any<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">oldVal</span><span class=\"token operator\">:</span>any<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">newVal</span><span class=\"token operator\">:</span>any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'è·Ÿvue çš„watch ç±»ä¼¼ æœ‰å±æ€§å‘ç”Ÿå˜åŒ–è‡ªåŠ¨è§¦å‘'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    window<span class=\"token punctuation\">.</span>customElements<span class=\"token punctuation\">.</span><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wu-jie'</span><span class=\"token punctuation\">,</span> WuJie<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>index.htmlï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./index.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å¤–å±‚å†™ä¸€ä¸ª div æµ‹è¯•éš”ç¦» --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>æˆ‘æ˜¯div<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>wu-jie</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>xxxxxx<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>wu-jie</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wu-jie<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>       <span class=\"token comment\">&lt;!--div çš„æ ·å¼æ˜¯ä½œç”¨äºå…¨å±€çš„ --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token selector\">div</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            æ ·å¼éš”ç¦»çš„</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h4 id=\"é¢„åŠ è½½\"><a class=\"anchor\" href=\"#é¢„åŠ è½½\">#</a> é¢„åŠ è½½</h4>\n<p>ä½¿ç”¨ï¼š</p>\n<p>éœ€è¦ä» wujie çš„å®ä¾‹å¯¼å‡º <code>preloadApp</code> , å‚æ•°è·Ÿ <code>startApp</code>  ä¸€è‡´ï¼Œé¢„åŠ è½½å¿…é¡»å¼€å¯ exec é€‰é¡¹</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">preloadApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"vue3\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://127.0.0.1:5174/\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">exec</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">preloadApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://127.0.0.1:5175/\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">exec</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li>exec ä»£è¡¨æ˜¯å¦è¿›è¡Œé¢„åŠ è½½ï¼Œé»˜è®¤å€¼æ˜¯ true</li>\n<li>js çš„æ‰§è¡Œæ¨¡å¼ï¼Œç”±äºå­åº”ç”¨çš„æ‰§è¡Œä¼šé˜»å¡ä¸»åº”ç”¨çš„æ¸²æŸ“çº¿ç¨‹ï¼Œå½“è®¾ç½®ä¸º true æ—¶ js é‡‡å–ç±»ä¼¼äº react fiber çš„æ¨¡å¼æ–¹å¼é—´æ–­æ‰§è¡Œï¼Œæ¯ä¸ª js æ–‡ä»¶çš„æ‰§è¡Œéƒ½åŒ…è£¹åœ¨ <code>requestidlecallback</code>  ä¸­ï¼Œæ¯æ‰§è¡Œä¸€ä¸ª js æ–‡ä»¶åå°±å¯ä»¥è¿”å›å»å“åº”å¤–éƒ¨çš„è¾“å…¥ï¼Œä¸ä¼šé€ æˆæµè§ˆå™¨æ¸²æŸ“å’ŒåŠ è½½ä¹‹é—´çš„å†²çªä»è€Œé€ æˆå¡é¡¿ï¼Œä½†æ˜¯è¿™ä¸ªé¢—ç²’åº¦æ˜¯ js æ–‡ä»¶ï¼Œæ‰€ä»¥åº”è¯¥ä¿è¯ js æ–‡ä»¶ä¸åº”è¿‡å¤§ã€‚</li>\n</ul>\n<p>æµè§ˆå™¨ä¸€å¸§ä¹‹å†…è¦åšçš„äº‹æƒ…ï¼š</p>\n<ul>\n<li>å¤„ç†ç”¨äºè¾“å…¥ï¼ˆäº‹ä»¶ï¼‰</li>\n<li>æ‰§è¡Œå®šæ—¶ä»»åŠ¡</li>\n<li>æ‰§è¡Œ requestAnimationFrame</li>\n<li>æ‰§è¡Œ dom çš„å›æµå’Œé‡ç»˜</li>\n<li>è®¡ç®—æ›´æ–°æ¶‚å±‚çš„æ›´æ–°æŒ‡ä»¤</li>\n<li>ç»˜åˆ¶æŒ‡ä»¤åˆå¹¶ä¸»çº¿ç¨‹ï¼Œå¦‚æœæœ‰ç©ºä½™æ—¶é—´æ‰§è¡Œ requestidlecallbask</li>\n</ul>\n<p>react ä¹Ÿæœ‰è¯¥æœºåˆ¶ ä½†æ˜¯ react å¹¶æ²¡æœ‰ç”¨  <code>requestidlecallback</code> ï¼Œè¯´æ˜¯è¿™ä¸ªä¸œè¥¿ç»è¿‡æµ‹è¯•å¯èƒ½ä¼šè¶…è¿‡ 16msï¼Œè¶…è¿‡ 16ms ç»˜åˆ¶å°±ä¼šçœ‹èµ·æ¥å¾ˆå¡ æ‰€ä»¥ react16 æ˜¯ç”¨çš„  <code>requestAnimationFrame + postMessage</code>  å®ç°çš„é‚£ä¸ºä»€ä¹ˆä¸ç”¨ <code>setTimeOut</code>  setTimeOut åŠæ—¶ä¸º 0 ä¹Ÿä¼šæœ‰ä¸€ä¸ªæœ€å°æ¯«ç§’å»¶è¿Ÿ 4msï¼Œæ‰€ä»¥æ˜¯ç”¨äº† postMessageï¼Œreact18 åˆæ¢æˆäº† <code>MessageChannel</code>  å®ç°äº†é˜Ÿåˆ—æ–¹å¼å»æ‰§è¡Œä»»åŠ¡ã€‚</p>\n<h2 id=\"micro-app\"><a class=\"anchor\" href=\"#micro-app\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLmp1ZWppbi5jbi8/dGFyZ2V0PWh0dHBzJTNBJTJGJTJGemVyb2luZy5qZC5jb20lMkZtaWNyby1hcHAlMkZkb2NzLmh0bWwlMjMlMkY=\">micro-app</span></h2>\n<p>micro-app æ˜¯åŸºäº webcomponent + qiankun sandbox çš„å¾®å‰ç«¯æ–¹æ¡ˆã€‚</p>\n<p><strong>ç‰¹ç‚¹</strong></p>\n<ol>\n<li>ä½¿ç”¨ webcomponet åŠ è½½å­åº”ç”¨ç›¸æ¯” single-spa è¿™ç§æ³¨å†Œç›‘å¬æ–¹æ¡ˆæ›´åŠ ä¼˜é›…ï¼›</li>\n<li>å¤ç”¨ç»è¿‡å¤§é‡é¡¹ç›®éªŒè¯è¿‡ qiankun çš„æ²™ç®±æœºåˆ¶ä¹Ÿä½¿å¾—æ¡†æ¶æ›´åŠ å¯é ï¼›</li>\n<li>ç»„ä»¶å¼çš„ api æ›´åŠ ç¬¦åˆä½¿ç”¨ä¹ æƒ¯ï¼Œæ”¯æŒå­åº”ç”¨ä¿æ´»ï¼›</li>\n<li>é™ä½å­åº”ç”¨æ”¹é€ çš„æˆæœ¬ï¼Œæä¾›é™æ€èµ„æºé¢„åŠ è½½èƒ½åŠ›ï¼›</li>\n</ol>\n<p><strong>ä¸è¶³</strong></p>\n<ol>\n<li>css æ²™ç®±ä¾ç„¶æ— æ³•ç»å¯¹çš„éš”ç¦»ï¼Œjs æ²™ç®±åšå…¨å±€å˜é‡æŸ¥æ‰¾ç¼“å­˜ï¼Œæ€§èƒ½æœ‰æ‰€ä¼˜åŒ–ï¼›</li>\n<li>æ”¯æŒ vite è¿è¡Œï¼Œä½†å¿…é¡»ä½¿ç”¨ plugin æ”¹é€ å­åº”ç”¨ï¼Œä¸” js ä»£ç æ²¡åŠæ³•åšæ²™ç®±éš”ç¦»ï¼›</li>\n<li>å¯¹äºä¸æ”¯æŒ webcompnent çš„æµè§ˆå™¨æ²¡æœ‰åšé™çº§å¤„ç†ï¼›</li>\n</ol>\n<p>åº•å±‚åŸç† js éš”ç¦»è·Ÿ qiankun ç±»ä¼¼ä¹Ÿæ˜¯ä½¿ç”¨ proxy + withï¼Œcss éš”ç¦»è‡ªå®šä¹‰å‰ç¼€ç±»ä¼¼äº scoped</p>\n<h1 id=\"æ¨¡å—è”é‚¦\"><a class=\"anchor\" href=\"#æ¨¡å—è”é‚¦\">#</a> æ¨¡å—è”é‚¦</h1>\n<p>æ¨¡å—è”é‚¦æ˜¯è·Ÿ <code>webpack5</code>  å¼ºè€¦åˆçš„ï¼Œæ˜¯åŸºäº webpack5 å†…ç½®æ’ä»¶çš„ æ— é¡»å®‰è£…</p>\n<p>å®ƒç›¸å½“äºæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–æŠ€æœ¯ï¼Œå®ƒå¯ä»¥è®©å¤šä¸ªç‹¬ç«‹æ„å»ºçš„åº”ç”¨ä¹‹é—´ï¼ŒåŠ¨æ€çš„è°ƒç”¨å½¼æ­¤çš„æ¨¡å—ã€‚è¿™ç§è¿è¡Œæœºåˆ¶ï¼Œå¯ä»¥è®©æˆ‘ä»¬è½»æ¾çš„æ‹†åˆ†åº”ç”¨ï¼ŒçœŸæ­£åšåˆ°è·¨åº”ç”¨çš„æ¨¡å—å…±äº«ã€‚</p>\n<p>é…ç½®è¿‡ç¨‹å°±æ˜¯åœ¨ webpack.config.js ä¸­é…ç½® ModuleFederationPlugin æ’ä»¶ï¼Œæ‰“å®ŒåŒ…ä¹‹åè§‚å¯Ÿä¼šå‘ç°å…¶å®å°±æ˜¯ import å‡½æ•°åŠ¨æ€åŠ è½½ï¼Œä½¿ç”¨æ¨¡å—è”é‚¦çš„å¥½å¤„å°±åœ¨äºä¹‹å‰å½“å¤šä¸ªé¡¹ç›®å…±æœ‰çš„æ¨¡å—æ”¹å˜æ—¶ï¼Œæ¯ä¸€ä¸ªé¡¹ç›®éƒ½éœ€è¦é‡æ–° install ä¸€ä¸‹ï¼Œè€Œä½¿ç”¨æ¨¡å—è”é‚¦ä¹‹åï¼Œå°±ç›¸å½“äºåŠ¨æ€å¯¼å…¥ï¼Œå…å»äº†é‡æ–° install çš„è¿‡ç¨‹ï¼ˆç”±é¡¹ç›®çš„å…‹éš†è½¬ä¸ºç±»ä¼¼è½¯é“¾æ¥çš„è¿‡ç¨‹ï¼‰ã€‚</p>\n",
            "tags": [
                "å¾®å‰ç«¯",
                "å¾®å‰ç«¯"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/23/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/",
            "url": "https://dmqweb.cn/2024/05/23/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/",
            "title": "ç½‘ç»œå®‰å…¨",
            "date_published": "2024-05-23T08:47:30.000Z",
            "content_html": "<h1 id=\"å‰ç«¯ç½‘ç»œå®‰å…¨\"><a class=\"anchor\" href=\"#å‰ç«¯ç½‘ç»œå®‰å…¨\">#</a> å‰ç«¯ç½‘ç»œå®‰å…¨</h1>\n<h2 id=\"\"><a class=\"anchor\" href=\"#\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly96eHBzdXBlci5naXRodWIuaW8vYWR2YW5jZWRfZnJvbnRfZW5kL2Jvb2svYnJvd3Nlci9zYWZlLmh0bWwjXzEteHNzLSVFOCVCNyVBOCVFNyVBQiU5OSVFOCU4NCU5QSVFNiU5QyVBQyVFNiU5NCVCQiVFNSU4NyVCQg==\">#</span>1. XSS è·¨ç«™è„šæœ¬æ”»å‡»</h2>\n<p><strong>åŸç†</strong></p>\n<blockquote>\n<p>XSS æ˜¯å¸¸è§çš„ Web æ”»å‡»æŠ€æœ¯ä¹‹ä¸€ã€‚æ‰€è°“çš„è·¨ç«™è„šæœ¬æ”»å‡»æŒ‡å¾—æ˜¯ï¼šæ¶æ„æ”»å‡»è€…å¾€ Web é¡µé¢é‡Œæ³¨å…¥æ¶æ„ Script ä»£ç ï¼Œç”¨æˆ·æµè§ˆè¿™äº›ç½‘é¡µæ—¶ï¼Œå°±ä¼šæ‰§è¡Œå…¶ä¸­çš„æ¶æ„ä»£ç ï¼Œå¯å¯¹ç”¨æˆ·è¿›è¡Œç›—å– cookie ä¿¡æ¯ã€ä¼šè¯åŠ«æŒç­‰å„ç§æ”»å‡»ã€‚</p>\n</blockquote>\n<p><strong>å±å®³</strong></p>\n<p>1ã€<strong>ç›—å–å„ç±»ç”¨æˆ·å¸å·</strong>ï¼Œå¦‚æœºå™¨ç™»å½•å¸å·ã€ç”¨æˆ·ç½‘é“¶å¸å·ã€å„ç±»ç®¡ç†å‘˜å¸å·</p>\n<p>2ã€<strong>æ§åˆ¶ä¼ä¸šæ•°æ®</strong>ï¼ŒåŒ…æ‹¬è¯»å–ã€ç¯¡æ”¹ã€æ·»åŠ ã€åˆ é™¤ä¼ä¸šæ•æ„Ÿæ•°æ®çš„èƒ½åŠ›</p>\n<p>3ã€<strong>ç›—çªƒä¼ä¸šé‡è¦çš„å…·æœ‰å•†ä¸šä»·å€¼çš„èµ„æ–™</strong></p>\n<p>4ã€<strong>éæ³•è½¬è´¦</strong></p>\n<p>5ã€<strong>å¼ºåˆ¶å‘é€ç”µå­é‚®ä»¶</strong></p>\n<p>6ã€<strong>ç½‘ç«™æŒ‚é©¬</strong></p>\n<p>7ã€<strong>æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶å®ƒç½‘ç«™å‘èµ·æ”»å‡»</strong></p>\n<p><strong>å‰ç«¯å¦‚ä½•å¤„ç†</strong></p>\n<ul>\n<li>è¿‡æ»¤ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼Œç¦æ­¢ç”¨æˆ·åœ¨è¾“å…¥çš„è¿‡ç¨‹ä¸­è¾“å…¥ &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;å¼•å·&quot;, &quot;$&quot;, &quot;_&quot;</li>\n<li>æ ¸å¿ƒçš„ç”¨æˆ·èº«ä»½æ ‡ç¤ºæˆ– token ä¿å­˜åœ¨ Cookie ä¸­ï¼ŒCookie ä¸­ä¸€å®šè¦åŠ  â€œHTTPOnlyâ€ åœ¨ç»“å°¾ï¼Œä¿è¯åªæœ‰åœ¨ html æ“ä½œæ—¶æ‰èƒ½å°† cookie ä¸­çš„å†…å®¹å‘é€å‡ºå»ï¼Œåœ¨ JS ä¸­æ— æ³•è·å¾—ç”¨æˆ·çš„ Cookie ä¿¡æ¯</li>\n</ul>\n<h2 id=\"-2\"><a class=\"anchor\" href=\"#-2\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly96eHBzdXBlci5naXRodWIuaW8vYWR2YW5jZWRfZnJvbnRfZW5kL2Jvb2svYnJvd3Nlci9zYWZlLmh0bWwjXzItY3NyZi0lRTclQkQlOTElRTclQkIlOUMlRTYlOTQlQkIlRTUlODclQkI=\">#</span>2. CSRF ç½‘ç»œæ”»å‡»</h2>\n<p><strong>åŸç†</strong></p>\n<blockquote>\n<p>CSRFï¼ˆCross-site request forgeryï¼‰è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸º â€œOne Click Attackâ€ æˆ–è€… Session Ridingï¼Œé€šå¸¸ç¼©å†™ä¸º CSRF æˆ–è€… XSRFï¼Œæ˜¯ä¸€ç§å¯¹ç½‘ç«™çš„æ¶æ„åˆ©ç”¨ã€‚å°½ç®¡å¬èµ·æ¥åƒè·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰ï¼Œä½†å®ƒä¸ XSS éå¸¸ä¸åŒï¼ŒXSS åˆ©ç”¨ç«™ç‚¹å†…çš„ä¿¡ä»»ç”¨æˆ·ï¼Œè€Œ CSRF åˆ™é€šè¿‡ä¼ªè£…æ¥è‡ªå—ä¿¡ä»»ç”¨æˆ·çš„è¯·æ±‚æ¥åˆ©ç”¨å—ä¿¡ä»»çš„ç½‘ç«™ã€‚ä¸ XSS æ”»å‡»ç›¸æ¯”ï¼ŒCSRF æ”»å‡»å¾€å¾€ä¸å¤§æµè¡Œï¼ˆå› æ­¤å¯¹å…¶è¿›è¡Œé˜²èŒƒçš„èµ„æºä¹Ÿç›¸å½“ç¨€å°‘ï¼‰å’Œéš¾ä»¥é˜²èŒƒï¼Œæ‰€ä»¥è¢«è®¤ä¸ºæ¯” XSS æ›´å…·å±é™©æ€§ã€‚</p>\n</blockquote>\n<p><strong>å‰ç«¯å¦‚ä½•å¤„ç†</strong></p>\n<ul>\n<li>å‡å°‘åœ¨ cookie ä¸­å­˜å‚¨å®¢æˆ·æ ¸å¿ƒå†…å®¹æ¯”å¦‚ç”¨æˆ·çš„ tokenã€IDã€access_token ç­‰</li>\n<li>GET è¯·æ±‚ä¸å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹</li>\n<li>ä¸è®©ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ° Cookie</li>\n<li>é˜»æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚æ¥å£</li>\n<li>è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œæ¯”å¦‚éªŒè¯ç æˆ–è€… Token</li>\n</ul>\n<h2 id=\"-3\"><a class=\"anchor\" href=\"#-3\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly96eHBzdXBlci5naXRodWIuaW8vYWR2YW5jZWRfZnJvbnRfZW5kL2Jvb2svYnJvd3Nlci9zYWZlLmh0bWwjXzMtZGRvcy0lRTYlOTQlQkIlRTUlODclQkI=\">#</span>3. DDOS æ”»å‡»</h2>\n<p><strong>åŸç†</strong></p>\n<blockquote>\n<p>DDOS æ”»å‡»ï¼Œå®ƒåœ¨çŸ­æ—¶é—´å†…å‘èµ·å¤§é‡è¯·æ±‚ï¼Œè€—å°½æœåŠ¡å™¨çš„èµ„æºï¼Œæ— æ³•å“åº”æ­£å¸¸çš„è®¿é—®ï¼Œé€ æˆç½‘ç«™å®è´¨ä¸‹çº¿ã€‚</p>\n</blockquote>\n<p><strong>å‰ç«¯å¦‚ä½•å¤„ç†</strong></p>\n<ul>\n<li>é˜²èŒƒ DDOS çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯ä½ è¦æœ‰ä¸€ä¸ªå¤‡ä»½ç½‘ç«™ï¼Œæˆ–è€…æœ€ä½é™åº¦æœ‰ä¸€ä¸ªä¸´æ—¶ä¸»é¡µã€‚ç”Ÿäº§æœåŠ¡å™¨ä¸‡ä¸€ä¸‹çº¿äº†ï¼Œå¯ä»¥ç«‹åˆ»åˆ‡æ¢åˆ°å¤‡ä»½ç½‘ç«™ï¼Œä¸è‡³äºæ¯«æ— åŠæ³•ã€‚</li>\n</ul>\n<p><strong>åç«¯å¦‚ä½•å¤„ç†</strong></p>\n<ul>\n<li>HTTP è¯·æ±‚çš„æ‹¦æˆªï¼Œæ¶æ„è¯·æ±‚éƒ½æ˜¯ä»æŸä¸ª IP æ®µå‘å‡ºçš„ï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ª IP æ®µå°æ‰å°±è¡Œäº†ã€‚æˆ–è€…ï¼Œå®ƒä»¬çš„ User Agent å­—æ®µæœ‰ç‰¹å¾ï¼ˆåŒ…å«æŸä¸ªç‰¹å®šçš„è¯è¯­ï¼‰ï¼Œé‚£å°±æŠŠå¸¦æœ‰è¿™ä¸ªè¯è¯­çš„è¯·æ±‚æ‹¦æˆªã€‚</li>\n<li>å¸¦å®½æ‰©å®¹ï¼Œæˆ–è€…ä½¿ç”¨ CDN</li>\n</ul>\n",
            "tags": [
                "ç½‘ç»œå®‰å…¨",
                "ç½‘ç»œå®‰å…¨"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/21/electron/",
            "url": "https://dmqweb.cn/2024/05/21/electron/",
            "title": "electron",
            "date_published": "2024-05-21T11:35:27.000Z",
            "content_html": "<p><strong>Electron ä¸­ preload æ¨¡å—æœ€ä¸ºé‡è¦ï¼Œå®ƒçš„æºç é€»è¾‘å¦‚ä¸‹ï¼š</strong></p>\n<ul>\n<li>é¦–å…ˆ electron ä¸­å°è£…äº† c++ æ¨¡å—å¯¹æ¥ node.js çš„ addon æ¨¡å—ï¼Œæ–¹æ³•æ˜¯ï¼šåœ¨å¤´æ–‡ä»¶ä¸­æ ‡æ³¨äº†ï¼š#include &lt;node/addon.h&gt;</li>\n<li>æ­¤ c++ æ¨¡å—å°† app å®ä¾‹ç»‘å®š (linkedBinding) åˆ° process ä¸Šï¼Œapp å®ä¾‹ä¸­æœ‰ <code>exposeAPIInWorld</code>  æ–¹æ³•</li>\n<li>æ¥ç€ <code>contextBridge</code>  ä¸­çš„ <code>expostInMainWorld</code>  æ–¹æ³•è¿”å›çš„æ˜¯ <code>process.linkedBinding.exposeAPIInWorld</code>  æ–¹æ³•ã€‚<br />\n<img data-src=\"https://dmqweb.cn/images/Electron.pdf\" alt=\"Electron.pdf\" /><br />\n<a href=\"https://dmqweb.cn/images/Electron.pdf\">Electron pdf ç¬”è®°</a></li>\n</ul>\n<h1 id=\"æœ€è¿‘æœ‰äº›å¿™æœªå®Œå¾…ç»­å“ˆ\"><a class=\"anchor\" href=\"#æœ€è¿‘æœ‰äº›å¿™æœªå®Œå¾…ç»­å“ˆ\">#</a> æœ€è¿‘æœ‰äº›å¿™ï¼Œæœªå®Œå¾…ç»­å“ˆ</h1>\n",
            "tags": [
                "electron",
                "electron"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/21/v8%E5%BC%95%E6%93%8E%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/",
            "url": "https://dmqweb.cn/2024/05/21/v8%E5%BC%95%E6%93%8E%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/",
            "title": "v8å¼•æ“ç¼–è¯‘åŸç†",
            "date_published": "2024-05-21T10:36:10.000Z",
            "content_html": "<h1 id=\"v8-æ‰§è¡Œ-js\"><a class=\"anchor\" href=\"#v8-æ‰§è¡Œ-js\">#</a> v8 æ‰§è¡Œ JS</h1>\n<p><img data-src=\"/images/image123.png\" alt=\"alt text\" /></p>\n<h1 id=\"v8-å¼•æ“ä»‹ç»\"><a class=\"anchor\" href=\"#v8-å¼•æ“ä»‹ç»\">#</a> v8 å¼•æ“ä»‹ç»</h1>\n<p>Blink å†…æ ¸ç”¨äºè§£æ HTMLã€DOMã€CSS æ¸²æŸ“ã€åµŒå…¥äº† v8 å¼•æ“ç”¨äºè§£æ Javascript</p>\n<p>V8 æ˜¯è°·æ­Œçš„å¼€æºé«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ï¼Œç”¨ C++ ç¼–å†™ã€‚å®ƒè¢«ç”¨äº Chrome å’Œ Node.js ç­‰ã€‚<strong>ç”¨äºè§£æå¹¶æ‰§è¡Œ JavaScript ä»£ç ã€‚</strong></p>\n<h1 id=\"æ‰§è¡Œè¿‡ç¨‹\"><a class=\"anchor\" href=\"#æ‰§è¡Œè¿‡ç¨‹\">#</a> æ‰§è¡Œè¿‡ç¨‹</h1>\n<ul>\n<li>åˆå§‹åŒ–è¿è¡Œç¯å¢ƒ\n<ul>\n<li>å †æ ˆç©ºé—´</li>\n<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li>\n<li>å…¨å±€ä½œç”¨åŸŸ</li>\n<li>äº‹ä»¶å¾ªç¯ç³»ç»Ÿ</li>\n</ul>\n</li>\n<li>åˆ©ç”¨ Scanner æ‰«æå™¨å°†è¾“å…¥çš„ä»£ç è¯æ³•åˆ†ææˆ tokens\n<ul>\n<li>åˆ†æçš„ç»“æœå°±æ˜¯ä¸€ä¸ªä¸ªçš„ tokens å¯¹è±¡ç»„æˆçš„æ•°ç»„</li>\n<li>åˆ†æçš„è¿‡ç¨‹åˆ©ç”¨äº†æœ‰é™è‡ªåŠ¨çŠ¶æ€æœºçš„æ¦‚å¿µ</li>\n</ul>\n</li>\n<li>åˆ©ç”¨ parser è§£æå™¨å°† tokens è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘\n<ul>\n<li>æ ¹æ®åˆ†æ tokens æ„é€ å‡ºä¸€ç§æ ‘å½¢å…³ç³»ç»“æ„</li>\n<li><strong>é¢„è§£æ</strong>ï¼šåœ¨ JS ä»£ç æ‰§è¡Œä¹‹å‰å¯¹ä»£ç è¿›è¡Œå¯é€‰çš„é¢„å¤„ç†ï¼Œç”¨äºæé«˜æ‰§è¡Œæ•ˆç‡</li>\n<li><strong>å»¶è¿Ÿè§£æ</strong>ï¼šåªæœ‰ä»£ç æ‰§è¡Œåˆ°çš„éƒ¨åˆ†æ‰ä¼šå»è§£æï¼ŒèŠ‚çœäº†ä¸å¿…è¦çš„æ—¶é—´å’Œå¼€é”€ï¼Œæé«˜äº† JavaScript çš„æ‰§è¡Œæ•ˆç‡ï¼Œå…¶ä¸­ vite è„šæ‰‹æ¶å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸ªä¼˜ç‚¹ï¼ˆè¿˜æœ‰ esbuild æ‰“åŒ…å¿«çš„ä¼˜åŠ¿ï¼‰ï¼Œæé«˜äº†æ•ˆç‡ã€‚</li>\n</ul>\n</li>\n<li>åˆ©ç”¨  <code>ignationè§£é‡Šå™¨</code> å°† ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰è½¬ä¸ºå­—èŠ‚ç ï¼ˆä¸ç›´æ¥è½¬ä¸ºæœºå™¨ç ï¼Ÿï¼‰\n<ul>\n<li>å½“å¹´ v8 ä»¥è¶…è¶ŠåŒè¡Œ 10 å€çš„è¿è¡Œé€Ÿåº¦è€Œå¤‡å—é’çï¼Œå…¶æœ¬è´¨åŸå› æ˜¯å½“æ—¶ v8 å°† JS æºç ç›´æ¥ç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œä½¿å¾—é¦–æ¬¡è¿è¡Œé€Ÿåº¦å’Œåç»­æ‰§è¡Œé€Ÿåº¦éƒ½å¾ˆå¿«ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯å†…å­˜å ç”¨å¤ªå¤§ï¼Œå¹¶ä¸”ç¼–è¯‘æ—¶å ç”¨å¤ªå¤šæ—¶é—´</li>\n<li>å­—èŠ‚ç ä½¿å¾— v8 èƒ½å¤Ÿå¾ˆå¥½çš„è¿›è¡Œä¼˜åŒ–ä¸åä¼˜åŒ–ï¼Œå½“æ‰§è¡Œä»£ç æ—¶ï¼Œå¯¹æœºå™¨ç çš„å­˜å‚¨å’Œå¤ç”¨ç­‰æ“ä½œæ—¶éƒ½ååˆ†ç¹ç (å­˜å‚¨å ç”¨å¤§ï¼Œåˆ†æç¹çç­‰), ä½†æ˜¯åˆ†æå­—èŠ‚ç å°±æ›´åŠ å®¹æ˜“ä¸€äº›</li>\n<li>å­—èŠ‚ç è·¨å¹³å°èƒ½åŠ›å¼º</li>\n<li>å­—èŠ‚ç æ›´å¿«çš„åŠ è½½å’Œè§£ææ‰§è¡Œ</li>\n<li>åŠ¨æ€ä¼˜åŒ–æ˜“æ“ä½œ</li>\n<li>ä»£ç å®‰å…¨æ€§</li>\n</ul>\n</li>\n<li>åˆ©ç”¨  <code>TurboFanç¼–è¯‘å™¨</code> å°†å­—èŠ‚ç è½¬ä¸º CPU å’Œ ARM è¯†åˆ«çš„æœºå™¨ç </li>\n</ul>\n<h1 id=\"v8-ä¸­çš„å¯¹è±¡ç»“æ„\"><a class=\"anchor\" href=\"#v8-ä¸­çš„å¯¹è±¡ç»“æ„\">#</a> v8 ä¸­çš„å¯¹è±¡ç»“æ„</h1>\n<h3 id=\"å¸¸è§„å±æ€§å’Œæ’åºå±æ€§\"><a class=\"anchor\" href=\"#å¸¸è§„å±æ€§å’Œæ’åºå±æ€§\">#</a> å¸¸è§„å±æ€§å’Œæ’åºå±æ€§</h3>\n<ul>\n<li>v8 ä¸­çš„å¯¹è±¡ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæŒ‡é’ˆæ„æˆçš„ï¼Œåˆ†åˆ«æ˜¯ï¼šéšè—ç±»ã€å¸¸è§„å±æ€§å’Œæ’åºå±æ€§ã€‚</li>\n<li>å¯¹è±¡çš„å±æ€§æ•°å­—ä¼šä»å°åˆ°å¤§æ’åˆ—ï¼Œå­—ç¬¦ä¸²ä¼šæŒ‰ç…§åŸåˆ›å»ºé¡ºåº</li>\n<li>å¯¹è±¡ä¸­æ•°å­—å±æ€§è¢«ç§°ä¸ºæ’åºå±æ€§ï¼Œå­—ç¬¦ä¸²å±æ€§è¢«ç§°ä¸ºå¸¸è§„å±æ€§</li>\n</ul>\n<h3 id=\"å¿«å±æ€§å’Œæ…¢å±æ€§\"><a class=\"anchor\" href=\"#å¿«å±æ€§å’Œæ…¢å±æ€§\">#</a> å¿«å±æ€§å’Œæ…¢å±æ€§</h3>\n<ul>\n<li>JS å¯¹è±¡å¾ˆå¤šå±æ€§æ˜¯åœ¨åŸå‹é“¾ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼Œè¿™æ ·å°±ä¼šå¾ˆæ…¢ï¼Œv8 å°†éƒ¨åˆ†å¸¸è§„å±æ€§ï¼ˆ10 ä¸ªï¼‰ç›´æ¥å­˜å‚¨åˆ°å¯¹è±¡æœ¬èº«ï¼ˆå¯¹è±¡å†…å±æ€§ï¼‰ï¼Œä»¥æé«˜å±æ€§çš„æŸ¥è¯¢æ•ˆç‡ã€‚</li>\n<li>å¿«å±æ€§å®¹é‡æ˜¯ 10 ä¸ªã€‚</li>\n</ul>\n<h3 id=\"å°è£…-ç»§æ‰¿-å¤šæ€\"><a class=\"anchor\" href=\"#å°è£…-ç»§æ‰¿-å¤šæ€\">#</a> å°è£…ã€ç»§æ‰¿ã€å¤šæ€</h3>\n<ul>\n<li>å°è£…å°±æ˜¯å°†æŠ½è±¡å‡ºæ¥çš„æ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ•°æ®åœ¨å†…éƒ¨è¢«ä¿æŠ¤ï¼Œç¨‹åºå…¶ä»–éƒ¨åˆ†åªæœ‰é€šè¿‡æˆå‘˜æ‰èƒ½å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</li>\n<li>ç»§æ‰¿ï¼šæœ‰åŸå‹é“¾ç»§æ‰¿ã€å¯„ç”Ÿç»§æ‰¿å’Œ callã€apply å€Ÿç”¨æ³•ç»§æ‰¿ã€‚</li>\n<li>å¤šæ€å°±æ˜¯å‡½æ•°é‡è½½ï¼šåŒä¸€ä¸ªå‡½æ•°å¯ä»¥æ ¹æ®è°ƒç”¨çš„æƒ…å†µï¼ˆå‚æ•°ç±»å‹å’Œæ•°é‡ç­‰ï¼‰æ¥è¿›è¡Œä¸åŒçš„æ“ä½œã€‚</li>\n</ul>\n<h1 id=\"éšè—ç±»\"><a class=\"anchor\" href=\"#éšè—ç±»\">#</a> éšè—ç±»</h1>\n<p>JavaScript æ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå…¶å„ç§ä¸ç¡®å®šæ€§å¯¼è‡´ JavaScript çš„æ‰§è¡Œæ•ˆç‡è¦è¿œä½äºé™æ€è¯­è¨€ï¼ŒV8 ä¸ºäº†æå‡ JavaScript çš„æ‰§è¡Œæ•ˆç‡ï¼Œå€Ÿé‰´äº†å¾ˆå¤šé™æ€è¯­è¨€çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šJIT æœºåˆ¶ï¼Œä¸ºäº†åŠ é€Ÿè¿ç®—è€Œå¼•å…¥äº†å†…è”ç¼“å­˜ï¼Œä¸ºäº†æå‡å¯¹è±¡çš„å±æ€§è®¿é—®é€Ÿåº¦è€Œå¼•å…¥äº†éšè—ç±»ã€‚</p>\n<p>éšè—ç±»æ˜¯ V8 å¼•æ“åœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†çš„æ•°æ®ç»“æ„ï¼Œç”¨äºè·Ÿè¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œç›¸å½“äºæå‰å®šä¹‰å¥½å¯¹è±¡çš„å½¢çŠ¶ï¼Œä»¥ä¾¿äºæé«˜æ“ä½œå¯¹è±¡çš„æ•ˆç‡ã€‚</p>\n<h3 id=\"åŸå› \"><a class=\"anchor\" href=\"#åŸå› \">#</a> åŸå› </h3>\n<ul>\n<li>å½“ JavaScript è¿è¡Œæ—¶ï¼Œä¾‹å¦‚æŸ¥æ‰¾å¯¹è±¡ä¸Šçš„æŸä¸€ä¸ªå±æ€§ï¼ŒV8 å¼•æ“ä¼šé€šè¿‡å¿«æ…¢å±æ€§å»æŸ¥æ‰¾ï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œå› ä¸º V8 åœ¨ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¹¶ä¸çŸ¥é“å¯¹è±¡çš„å…·ä½“å½¢çŠ¶ï¼ˆå±æ€§æ–¹æ³•ç­‰ï¼‰</li>\n<li>è€Œ C<ins> åœ¨å£°æ˜ä¸€ä¸ªå¯¹è±¡å‰å°±éœ€è¦å®šä¹‰è¯¥å¯¹è±¡çš„ç»“æ„ï¼ŒC</ins> ä»£ç æ‰§è¡Œå‰æ˜¯éœ€è¦è¢«ç¼–è¯‘çš„ï¼Œç¼–è¯‘æ—¶å¯¹è±¡çš„ç»“æ„å°±å·²ç»å›ºå®šï¼Œä¹Ÿå°±æ˜¯å½“ä»£ç æ‰§è¡Œæ—¶ï¼Œå¯¹è±¡çš„å½¢çŠ¶æ˜¯æ— æ³•æ”¹å˜</li>\n<li>æ‰€ä»¥ V8 å¼•å…¥äº†éšè—ç±»çš„æ¦‚å¿µï¼Œç”¨äºè·Ÿè¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ä»¥æ­¤åœ¨å†…å­˜ä¸­å¿«é€ŸæŸ¥æ‰¾å¯¹è±¡å±æ€§</li>\n</ul>\n<h3 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h3>\n<p>éšè—ç±»å°±æ˜¯æŠŠ JavaScript çš„å¯¹è±¡ä¹Ÿè¿›è¡Œé™æ€åŒ–ï¼Œ <code>æˆ‘ä»¬å‡è®¾è¿™ä¸ªå¯¹è±¡ä¸ä¼šåˆ é™¤å’Œæ–°å¢</code> ï¼Œè¿™æ ·å½¢çŠ¶å°±å›ºå®šäº†</p>\n<p>æ»¡è¶³æ¡ä»¶ä¹‹å V8 å°±ä¼šåˆ›å»ºéšè—ç±»ï¼Œåœ¨è¿™ä¸ªéšè—ç±»ä¼šåˆ›å»ºå¯¹è±¡çš„åŸºç¡€å±æ€§</p>\n<p>åœ¨ V8 å¼•æ“ä¸­ï¼Œæ¯ä¸ªéšè—ç±»éƒ½æœ‰ä¸€ä¸ªç¼–å·ï¼ˆ <code>map id</code> ï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†è¯¥éšè—ç±»</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸¤ä¸ªå¯¹è±¡ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">address</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œå³éƒ½æœ‰å±æ€§ <code>name</code>  å’Œ <code>age</code> ï¼Œä½† <code>obj2</code>  è¿˜é¢å¤–æœ‰ä¸€ä¸ªå±æ€§ <code>address</code> ã€‚V8 ä¼šä¸ºå®ƒä»¬ç”Ÿæˆä¸¤ä¸ªä¸åŒçš„éšè—ç±»</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>// éšè—ç±»1ï¼šåŒ…å«å±æ€§nameå’Œage</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>HiddenClass_1</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>â”œâ”€â”€ map_id: <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>â”œâ”€â”€ property_names: <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span>, <span class=\"token string\">'age'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>â”œâ”€â”€ transitions: <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>â””â”€â”€ prototype: Object.prototype</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>// éšè—ç±»2ï¼šåŒ…å«å±æ€§nameã€ageå’Œaddress</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>HiddenClass_2</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>â”œâ”€â”€ map_id: <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>â”œâ”€â”€ property_names: <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span>, <span class=\"token string\">'age'</span>, <span class=\"token string\">'address'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>â”œâ”€â”€ transitions:</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>â”‚   â”œâ”€â”€ a: HiddenClass_1</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>â”‚   â”œâ”€â”€ b: HiddenClass_1</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>â”‚   â””â”€â”€ c: null</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>â””â”€â”€ prototype: Object.prototype</pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œéšè—ç±» 1 åŒ…å«å±æ€§ <code>name</code>  å’Œ <code>age</code> ï¼Œæ²¡æœ‰è¿‡æ¸¡è¡¨ï¼›è€Œéšè—ç±» 2 åŒ…å«å±æ€§ <code>name</code> ã€ <code>age</code>  å’Œ <code>address</code> ï¼Œå…¶ä¸­å±æ€§ <code>name</code>  å’Œ <code>age</code>  çš„è¿‡æ¸¡è¡¨æŒ‡å‘éšè—ç±» 1ï¼Œå±æ€§ <code>address</code>  æ²¡æœ‰è¿‡æ¸¡è¡¨ï¼Œè¡¨ç¤ºè¯¥å±æ€§æ˜¯æ–°æ·»åŠ çš„</p>\n<p><strong>å¦‚æœä¸¤ä¸ªå¯¹è±¡å±æ€§ä¸€æ ·å‘¢ï¼Ÿ</strong></p>\n<p>å¦‚æœä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„å±æ€§ï¼Œå®ƒä»¬å°†å…±äº«åŒä¸€ä¸ªéšè—ç±»ã€‚å…·ä½“æ¥è¯´ï¼Œå½“ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§é¡ºåºå’Œç±»å‹éƒ½ç›¸åŒæ—¶ï¼ŒV8 ä¼šä¸ºå®ƒä»¬ç”Ÿæˆä¸€ä¸ªå…±äº«çš„éšè—ç±»ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸¤ä¸ªå¯¹è±¡ï¼š</p>\n<figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key attr-name\">let obj1</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">&#123; name: 1, age: 2 &#125;;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key attr-name\">let obj2</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">&#123; name: 1, age: 2 &#125;;</span></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œå³éƒ½æœ‰å±æ€§ <code>name</code>  å’Œ <code>age</code> ï¼Œä¸”å±æ€§çš„é¡ºåºå’Œç±»å‹å®Œå…¨ä¸€è‡´ã€‚V8 ä¼šä¸ºå®ƒä»¬ç”Ÿæˆä¸€ä¸ªå…±äº«çš„éšè—ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>HiddenClass_1</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>â”œâ”€â”€ map_id<span class=\"token operator\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>â”œâ”€â”€ property_names<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>â”œâ”€â”€ transitions<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>â””â”€â”€ prototype<span class=\"token operator\">:</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype</pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œéšè—ç±» 1 åŒ…å«å±æ€§ <code>name</code>  å’Œ <code>age</code> ï¼Œæ²¡æœ‰è¿‡æ¸¡è¡¨ï¼Œè€Œä¸”ä¸¤ä¸ªå¯¹è±¡éƒ½ <code>å…±äº«</code> è¿™ä¸ªéšè—ç±»ã€‚</p>\n<blockquote>\n<p>è¿™ç§å…±äº«éšè—ç±»çš„æœºåˆ¶å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´ï¼Œå› ä¸ºä¸åŒçš„å¯¹è±¡å¯ä»¥å…±äº«ç›¸åŒçš„éšè—ç±»ç»“æ„ã€‚</p>\n</blockquote>\n<p><img data-src=\"/images/Snipaste_2024-05-28_21-49-19.png\" alt=\"JavaScriptéšè—ç±»æœºåˆ¶\" /></p>\n<h1 id=\"v8å¼•æ“åƒåœ¾å›æ”¶\"><a class=\"anchor\" href=\"#v8å¼•æ“åƒåœ¾å›æ”¶\">#</a> v8 å¼•æ“åƒåœ¾å›æ”¶</h1>\n<blockquote>\n<p>é¦–å…ˆåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¯¹äº <code>å¼•ç”¨æ•°æ®ç±»å‹è€Œè¨€çš„</code> ï¼Œæ™®é€šæ•°æ®ç±»å‹ç”±äºä¸çŸ¥é“åç»­æ˜¯å¦ä¼šå¼•ç”¨æŸä¸ªå˜é‡å¯¼è‡´ä¸èƒ½è½»æ˜“å°†å˜é‡è¿›è¡Œé”€æ¯</p>\n</blockquote>\n<h3 id=\"æ ‡è®°æ¸…é™¤æ³•\"><a class=\"anchor\" href=\"#æ ‡è®°æ¸…é™¤æ³•\">#</a> æ ‡è®°æ¸…é™¤æ³•</h3>\n<blockquote>\n<p>æ ‡è®°æ¸…é™¤æ³•æ˜¯ç›®å‰åœ¨ JS å¼•æ“ä¸­æœ€å¸¸ç”¨çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•åˆ†ä¸º <code>æ ‡è®°</code> å’Œ <code>æ¸…é™¤</code> ä¸¤ä¸ªé˜¶æ®µï¼Œæ ‡è®°é˜¶æ®µå°†æ‰€æœ‰ <code>æ´»åŠ¨å¯¹è±¡åšä¸Šæ ‡è®°</code> ï¼Œé»˜è®¤æ ‡è®°ä¸º 0, æ¸…é™¤é˜¶æ®µå°† <code>æ²¡æœ‰æ ‡è®°çš„æ´»åŠ¨å¯¹è±¡è¿›è¡Œæ¸…é™¤</code> ï¼Œä¹Ÿå°±æ˜¯é”€æ¯æ‰æ ‡è®°ä¸º 0 çš„å¯¹è±¡</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå®ç°ç®€å•</li>\n<li>ç¼ºç‚¹ï¼šæ¸…é™¤ä¹‹åç”±äºå‰©ä½™å¯¹è±¡çš„å†…å­˜ä½ç½®ä¸å˜ï¼Œå°±ä¼šå‡ºç° <code>å†…å­˜ç¢ç‰‡</code> ï¼Œè¿™æ—¶å€™ä¸ºäº†åˆ†é…åˆ°åˆé€‚çš„ä½ç½®å°±è¦è¿›è¡Œå†…å­˜åˆ©ç”¨çš„ç®—æ³•åˆ¤æ–­ï¼Œ <code>å¯¼è‡´åˆ†é…æ•ˆç‡æ…¢</code></li>\n</ul>\n<h3 id=\"å¼•ç”¨è®¡æ•°æ³•\"><a class=\"anchor\" href=\"#å¼•ç”¨è®¡æ•°æ³•\">#</a> å¼•ç”¨è®¡æ•°æ³•</h3>\n<blockquote>\n<p>å¼•ç”¨è®¡æ•°æ³•çš„ç­–ç•¥æ˜¯è·Ÿè¸ªæ¯ä¸ªå¯¹è±¡è¢«ä½¿ç”¨çš„æ¬¡æ•°ï¼Œå½“å¯¹è±¡è¢«å…¶ä»–å˜é‡å¼•ç”¨æ—¶ï¼Œå®ƒçš„ <code>å¼•ç”¨æ¬¡æ•°å°±ä¼šåŠ 1</code> , å¼•ç”¨æ¬¡æ•°ä¸º 0 å°±è¡¨ç¤ºæ²¡æœ‰å˜é‡åœ¨ä½¿ç”¨å®ƒï¼Œå°±å¯ä»¥å°†å…¶æ¸…é™¤</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹ï¼šæ¸…æ™°ï¼Œå¹¶ä¸”å¯ä»¥ç«‹å³å›æ”¶åƒåœ¾</li>\n<li>ç¼ºç‚¹ï¼šéœ€è¦ä¸€ä¸ªè®¡æ•°å™¨ï¼ŒåŒæ—¶è®¡æ•°å™¨éœ€è¦å å¾ˆå¤§çš„ä½ç½®ï¼Œå› ä¸º <code>å¼•ç”¨æ•°é‡çš„ä¸Šé™å¯èƒ½ä¼šå¾ˆå¤§</code> ï¼ŒåŒæ—¶æœ€é‡è¦çš„æ˜¯æ— æ³•è§£å†³ <code>å¾ªç¯å¼•ç”¨è€Œæ— æ³•å›æ”¶çš„é—®é¢˜</code></li>\n</ul>\n<h3 id=\"åˆ†ä»£å¼åƒåœ¾å›æ”¶\"><a class=\"anchor\" href=\"#åˆ†ä»£å¼åƒåœ¾å›æ”¶\">#</a> åˆ†ä»£å¼åƒåœ¾å›æ”¶</h3>\n<blockquote>\n<p>V8 ä¸­å°†å †å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¸¤åŒºåŸŸï¼Œé‡‡ç”¨ä¸åŒçš„ç­–ç•¥ç®¡ç†åƒåœ¾å›æ”¶<br />\næ–°ç”Ÿä»£çš„å¯¹è±¡ä¸ºå­˜æ´»æ—¶é—´è¾ƒçŸ­çš„å¯¹è±¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ–°äº§ç”Ÿçš„å¯¹è±¡ï¼Œé€šå¸¸åªæ”¯æŒ 1ï½8M çš„å®¹é‡ï¼Œè€Œè€ç”Ÿä»£çš„å¯¹è±¡ä¸ºå­˜æ´»äº‹ä»¶è¾ƒé•¿æˆ–å¸¸é©»å†…å­˜çš„å¯¹è±¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç»å†è¿‡æ–°ç”Ÿä»£åƒåœ¾å›æ”¶åè¿˜å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ï¼Œå®¹é‡é€šå¸¸æ¯”è¾ƒå¤§</p>\n</blockquote>\n<h5 id=\"æ–°ç”Ÿä»£\"><a class=\"anchor\" href=\"#æ–°ç”Ÿä»£\">#</a> æ–°ç”Ÿä»£</h5>\n<blockquote>\n<p>æ–°ç”Ÿä»£å †å†…å­˜ä¸€åˆ†ä¸ºäºŒ: <code>ä½¿ç”¨åŒº</code> å’Œ <code>ç©ºé—²åŒº</code> ï¼Œæ–°åŠ å…¥çš„å¯¹è±¡å°±ä¼šæ”¾åœ¨ä½¿ç”¨åŒºï¼Œå½“ <code>ä½¿ç”¨åŒºå¿«å†™æ»¡æ—¶,å°±å¼€å§‹è¿›è¡Œåƒåœ¾å›æ”¶</code> ï¼Œæ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ä¼šå¯¹ä½¿ç”¨åŒºä¸­çš„ <code>æ´»åŠ¨å¯¹è±¡åšæ ‡è®°</code> ï¼Œæ ‡è®°å®Œæˆä¹‹å <code>å°†ä½¿ç”¨åŒºçš„ æ´»åŠ¨å¯¹è±¡ å¤åˆ¶è¿›ç©ºé—²åŒº</code> å¹¶è¿›è¡Œæ’åºï¼Œéšåè¿›å…¥åƒåœ¾æ¸…ç†é˜¶æ®µï¼Œå³ <code>å°†éæ´»åŠ¨å¯¹è±¡å ç”¨çš„ç©ºé—´æ¸…ç†æ‰</code> ã€‚æœ€å <code>è¿›è¡Œè§’è‰²äº’æ¢</code> ï¼ŒæŠŠåŸæ¥çš„ä½¿ç”¨åŒºå˜æˆç©ºé—²åŒºï¼ŒæŠŠåŸæ¥çš„ç©ºé—²åŒºå˜æˆä½¿ç”¨åŒºã€‚å½“ä¸€ä¸ªå¯¹è±¡ç»è¿‡ <code>å¤šæ¬¡å¤åˆ¶åä¾ç„¶å­˜æ´»</code> ï¼Œå®ƒå°†ä¼šè¢«è®¤ä¸ºæ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ï¼Œéšå <code>ä¼šè¢«ç§»åŠ¨åˆ°è€ç”Ÿä»£ä¸­</code> ï¼Œé‡‡ç”¨è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ç­–ç•¥è¿›è¡Œç®¡ç†<br />\nå¦å¤–è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå¦‚æœå¤åˆ¶ä¸€ä¸ªå¯¹è±¡åˆ°ç©ºé—²åŒºæ—¶ï¼Œç©ºé—²åŒºç©ºé—´å ç”¨è¶…è¿‡äº† 25%ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¼šè¢«ç›´æ¥æ™‹å‡åˆ°è€ç”Ÿä»£ç©ºé—´ä¸­<br />\næ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶æ–¹å¼çš„åŸå› æ˜¯å› ä¸ºï¼šæ–°ç”Ÿä»£ä¸­çš„å¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯å¾ˆå¿«å˜ä¸ºåƒåœ¾ (éœ€è¦è¿›è¡Œæ¸…é™¤), å¦‚æœç›´æ¥åŸåœ°æ¸…é™¤å°±è¦é¢‘ç¹æ¸…ç†å¯¹è±¡ï¼Œ <code>åªå¤åˆ¶æ´»åŠ¨å¯¹è±¡åˆ°ç©ºé—²åŒºä¹‹åå°±å¯ä»¥ç›´æ¥æ¸…é™¤æ•´ä¸ªä½¿ç”¨åŒº</code> ï¼Œæé«˜äº†æ¸…é™¤æ•ˆç‡</p>\n</blockquote>\n<h5 id=\"è€ç”Ÿä»£\"><a class=\"anchor\" href=\"#è€ç”Ÿä»£\">#</a> è€ç”Ÿä»£</h5>\n<blockquote>\n<p>å¯¹äºå¤§å¤šæ•°å ç”¨ç©ºé—´å¤§ã€å­˜æ´»æ—¶é—´é•¿çš„å¯¹è±¡ä¼šè¢«åˆ†é…åˆ°è€ç”Ÿä»£é‡Œï¼Œå› ä¸ºè€ç”Ÿä»£ä¸­çš„å¯¹è±¡é€šå¸¸æ¯”è¾ƒå¤§ï¼Œå¦‚æœå†å¦‚æ–°ç”Ÿä»£ä¸€èˆ¬åˆ†åŒºç„¶åå¤åˆ¶æ¥å¤åˆ¶å»å°±ä¼šéå¸¸è€—æ—¶ï¼Œä»è€Œå¯¼è‡´å›æ”¶æ‰§è¡Œæ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥è€ç”Ÿä»£åƒåœ¾å›æ”¶å™¨æ¥ç®¡ç†å…¶åƒåœ¾å›æ”¶æ‰§è¡Œï¼Œå®ƒçš„æ•´ä¸ªæµç¨‹å°±é‡‡ç”¨çš„å°±æ˜¯ <code>æ ‡è®°æ¸…é™¤æ³•</code> äº†<br />\nè€Œæ ‡è®°æ¸…é™¤æ³•é€ æˆçš„ <code>å†…å­˜ç¢ç‰‡é—®é¢˜</code> é‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•è¿›è¡Œä¼˜åŒ–.</p>\n</blockquote>\n<h5 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h5>\n<blockquote>\n<p>åˆ†ä»£å¼æœºåˆ¶æŠŠä¸€äº›æ–°ã€å°ã€å­˜æ´»æ—¶é—´çŸ­çš„å¯¹è±¡ä½œä¸ºæ–°ç”Ÿä»£ï¼Œé‡‡ç”¨ä¸€å°å—å†…å­˜é¢‘ç‡è¾ƒé«˜çš„å¿«é€Ÿæ¸…ç†ï¼Œè€Œä¸€äº›å¤§ã€è€ã€å­˜æ´»æ—¶é—´é•¿çš„å¯¹è±¡ä½œä¸ºè€ç”Ÿä»£ï¼Œä½¿å…¶å¾ˆå°‘æ¥å—æ£€æŸ¥ï¼Œ <code>æ–°è€ç”Ÿä»£çš„å›æ”¶æœºåˆ¶åŠé¢‘ç‡æ˜¯ä¸åŒçš„</code> ï¼Œå¯ä»¥è¯´æ­¤æœºåˆ¶çš„å‡ºç°å¾ˆå¤§ç¨‹åº¦ <code>æé«˜äº†åƒåœ¾å›æ”¶æœºåˆ¶çš„æ•ˆç‡</code></p>\n</blockquote>\n<h3 id=\"å¹¶è¡Œå›æ”¶\"><a class=\"anchor\" href=\"#å¹¶è¡Œå›æ”¶\">#</a> å¹¶è¡Œå›æ”¶</h3>\n<p>æ–°ç”Ÿä»£å¯¹è±¡ç©ºé—´é‡‡ç”¨å¹¶è¡Œç­–ç•¥ï¼Œåœ¨æ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹æ¥è´Ÿè´£åƒåœ¾æ¸…ç†ï¼Œä»¥æ­¤å¢åŠ æ•ˆç‡</p>\n<blockquote>\n<p>å¹¶è¡Œå’Œå¹¶å‘ï¼šå¹¶å‘æ˜¯ï¼šä¸€ä¸ªå¤„ç†å™¨åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ (å¹¶å‘æ˜¯é€»è¾‘ä¸ŠåŒæ—¶å‘ç”Ÿ), å¹¶è¡Œæ˜¯ï¼šå¤šä¸ªå¤„ç†å™¨åŒæ—¶å¤„ç†å¤šä¸ªä¸åŒä»»åŠ¡ (å¹¶è¡Œæ˜¯ç‰©ç†ä¸ŠåŒæ—¶å‘ç”Ÿ)</p>\n</blockquote>\n",
            "tags": [
                "v8å¼•æ“ç¼–è¯‘åŸç†",
                "v8å¼•æ“",
                "åº•å±‚åŸç†"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/17/Blob%E5%92%8CFile/",
            "url": "https://dmqweb.cn/2024/05/17/Blob%E5%92%8CFile/",
            "title": "Blobã€Fileå’ŒFileReader",
            "date_published": "2024-05-17T02:22:13.000Z",
            "content_html": "<h1 id=\"blob\"><a class=\"anchor\" href=\"#blob\">#</a> Blob</h1>\n<p>Blob çš„å…¨ç§°ä¸ºï¼šbinary larget objectï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ï¼Œblob çš„æœ¬è´¨æ˜¯ä¸€ä¸ª js å¯¹è±¡ï¼Œé‡Œé¢å¯ä»¥å­˜å‚¨å¤§é‡çš„äºŒè¿›åˆ¶ç¼–ç çš„æ•°æ®ã€‚</p>\n<h3 id=\"ç‰¹ç‚¹\"><a class=\"anchor\" href=\"#ç‰¹ç‚¹\">#</a> ç‰¹ç‚¹ï¼š</h3>\n<ul>\n<li>ä¸å¯ä¿®æ”¹</li>\n<li>åªèƒ½ä½¿ç”¨ FileReader è¯»å–å†…å®¹</li>\n<li>å­˜å‚¨å¤§é‡äºŒè¿›åˆ¶æ•°æ®çš„ js å¯¹è±¡</li>\n</ul>\n<h3 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨ï¼š</h3>\n<p><strong>new Blob(array,options)</strong></p>\n<ul>\n<li>\n<p>array æ˜¯ç”± ArrayBufferã€ArrayBufferViewã€Blob å’Œ DOMString å¯¹è±¡æ„æˆçš„ï¼Œå°†å¯¹è¢«æ”¾è¿› blob ä¸­</p>\n</li>\n<li>\n<p>options é…ç½®é¡¹æœ‰ï¼š</p>\n<ul>\n<li>\n<p>typeï¼šé»˜è®¤å€¼ä¸ºï¼šâ€ â€œï¼Œè¡¨ç¤ºå°†ä¼šè¢«æ”¾å…¥åˆ° blob ä¸­çš„æ•°ç»„å†…å®¹çš„ MIME ç±»å‹ã€‚</p>\n</li>\n<li>\n<p>endingsï¼šé»˜è®¤å€¼ä¸ºï¼šâ€transparentâ€œï¼Œç”¨äºæŒ‡å®šåŒ…å«è¡Œç»“æŸç¬¦ \\n çš„å­—ç¬¦ä¸²å¦‚ä½•è¢«å†™å…¥ï¼Œä¸å¸¸ç”¨ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>MIME ç±»å‹</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>text/plain</td>\n<td>çº¯æ–‡æœ¬æ–‡æ¡£</td>\n</tr>\n<tr>\n<td>text/html</td>\n<td>HTML æ–‡æ¡£</td>\n</tr>\n<tr>\n<td>text/javascript</td>\n<td>JavaScript æ–‡æ¡£</td>\n</tr>\n<tr>\n<td>text/css</td>\n<td>CSS æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/json</td>\n<td>JSON æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/pdf</td>\n<td>pdf æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/xml</td>\n<td>XML æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>image/jpeg</td>\n<td>JPEG æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>image/png</td>\n<td>PNG æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>image/gif</td>\n<td>GIF æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>image/svg+xml</td>\n<td>SVG+XML æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>audio/mpeg</td>\n<td>MP3 æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>video/mpeg</td>\n<td>MP4 æ–‡ä»¶</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'hello world'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"åˆ†ç‰‡\"><a class=\"anchor\" href=\"#åˆ†ç‰‡\">#</a> åˆ†ç‰‡ï¼š</h3>\n<p>Blob å¯¹è±¡å†…ç½®äº† slice () æ–¹æ³•ç”¨æ¥å°† blob å¯¹è±¡åˆ†ç‰‡</p>\n<p>å…¶æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>\n<p>startï¼šè®¾ç½®åˆ‡ç‰‡çš„èµ·ç‚¹ï¼Œå³åˆ‡ç‰‡å¼€å§‹ä½ç½®ã€‚é»˜è®¤å€¼ä¸º 0ï¼Œè¿™æ„å‘³ç€åˆ‡ç‰‡åº”è¯¥ä»ç¬¬ä¸€ä¸ªå­—èŠ‚å¼€å§‹ï¼›</p>\n<p>endï¼šè®¾ç½®åˆ‡ç‰‡çš„ç»“æŸç‚¹ï¼Œä¼šå¯¹è¯¥ä½ç½®ä¹‹å‰çš„æ•°æ®è¿›è¡Œåˆ‡ç‰‡ã€‚é»˜è®¤å€¼ä¸º blob.sizeï¼›</p>\n<p>contentTypeï¼šè®¾ç½®æ–° blob çš„ MIME ç±»å‹ã€‚å¦‚æœçœç•¥ typeï¼Œåˆ™é»˜è®¤ä¸º blob çš„åŸå§‹å€¼ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'hello world'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> blob1 <span class=\"token operator\">=</span> blob<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"è¯»å–\"><a class=\"anchor\" href=\"#è¯»å–\">#</a> è¯»å–ï¼š</h3>\n<p>blob å¯¹è±¡åªèƒ½é€šè¿‡ FileReader è¯»å–å†…å®¹ã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'hello world'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">fileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsText</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>reader<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"file\"><a class=\"anchor\" href=\"#file\">#</a> File</h1>\n<h3 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»ï¼š</h3>\n<p>File å¯¹è±¡æ˜¯ç‰¹æ®Šçš„ Blob å¯¹è±¡ã€‚æ˜¯åŸºäº Blob å¯¹è±¡çš„è¿›ä¸€æ­¥å°è£…ï¼Œjs ä¸­ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼è·å¾— FIle å¯¹è±¡ï¼š</p>\n<ol>\n<li>input å…ƒç´ é€‰æ‹©åè¿”å›çš„ FileList å¯¹è±¡ï¼ˆé€šè¿‡ change äº‹ä»¶çš„ event.target.files è·å–ï¼‰</li>\n<li>æ–‡ä»¶æ‹–æ”¾æ“ä½œç”Ÿæˆçš„ DataTransfer å¯¹è±¡ï¼ˆé€šè¿‡ ondrop äº‹ä»¶çš„ event.dataTransfer.files è·å–ï¼‰</li>\n</ol>\n<h1 id=\"filereader\"><a class=\"anchor\" href=\"#filereader\">#</a> FileReader</h1>\n<h3 id=\"ä»‹ç»-2\"><a class=\"anchor\" href=\"#ä»‹ç»-2\">#</a> ä»‹ç»ï¼š</h3>\n<p>FileReader ç”¨äºè¯»å– Blob å¯¹è±¡ï¼ˆåŒ…å« File å¯¹è±¡ï¼‰å†…å®¹çš„æ–¹æ³•ï¼Œé€šè¿‡ result å±æ€§è·å–ã€‚</p>\n<ul>\n<li>\n<p>readAsArrayBuffer æ–¹æ³•ï¼šè¯»å–ä¸º ArrayBuffer</p>\n</li>\n<li>\n<p>readAsDataURL æ–¹æ³•ï¼šè¯»å–ä¸º data:URL çš„ Base64 å­—ç¬¦ä¸²è¡¨ç¤ºæ–‡ä»¶å†…å®¹</p>\n</li>\n<li>\n<p>readAsText æ–¹æ³•ï¼šè¯»å–ä¸ºåŸå§‹ text æ–‡ä»¶å†…å®¹</p>\n</li>\n<li>\n<p>readAsBinaryString æ–¹æ³•ï¼šè¯»å–ä¸ºåŸå§‹äºŒè¿›åˆ¶æ•°æ®</p>\n<p>ä½†æ˜¯ç›´æ¥ä½¿ç”¨æ­¤æ–¹æ³•è¿˜æ˜¯ä¼šå¾—åˆ°åŸå§‹çš„æ–‡æœ¬å†…å®¹ï¼Œå› ä¸ºäºŒè¿›åˆ¶æ•°æ®éœ€è¦ä½¿ç”¨ ArrayBuffer å¯¹è±¡æ¥è¿›è¡Œå¤„ç†ã€‚</p>\n</li>\n</ul>\n<h1 id=\"arraybuffer\"><a class=\"anchor\" href=\"#arraybuffer\">#</a> ArrayBuffer</h1>\n<h3 id=\"ä»‹ç»-3\"><a class=\"anchor\" href=\"#ä»‹ç»-3\">#</a> ä»‹ç»ï¼š</h3>\n<p>ArrayBuffer å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç‰¹æ®Šçš„æ•°ç»„ï¼Œå…¶æœ¬èº«æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œä¸èƒ½ç›´æ¥è¯»å†™æ‰€å­˜å‚¨çš„æ•°æ®ï¼Œéœ€è¦å€ŸåŠ©è§†å›¾å¯¹è±¡æ¥è¯»å†™ã€‚å®ƒåªæ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„ç¼“å†²åŒºï¼Œåˆ›å»ºæ—¶åªèƒ½ä¼ ä¸€ä¸ªç©ºé—´å¤§å° biteLengthã€‚</p>\n<p><strong>è¯»å†™ ArrayBuffer çš„æ–¹å¼ï¼š</strong></p>\n<ol>\n<li>TypedArray</li>\n<li>DataView</li>\n<li>TextDecoder</li>\n<li>ç”¨ Blob å­˜å‚¨ï¼Œç„¶åç”¨ FileReader è¯»å†™</li>\n</ol>\n<h3 id=\"æ–¹æ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•\">#</a> æ–¹æ³•ï¼š</h3>\n<p>ArrayBuffer æä¾›äº†ä¸€ä¸ª slice æ–¹æ³•ç”¨äºåˆ‡ç‰‡ã€‚å‚æ•°ä¸ºï¼šå¼€å§‹ä½ç½®ï¼Œç»“æŸä½ç½®å’Œè§£æç±»å‹ã€‚</p>\n<h3 id=\"ä½¿ç”¨-2\"><a class=\"anchor\" href=\"#ä½¿ç”¨-2\">#</a> ä½¿ç”¨ï¼š</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>buffer<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"typedarray\"><a class=\"anchor\" href=\"#typedarray\">#</a> TypedArray</h1>\n<p>TypedArray åªæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶æ¥è§£è¯» ArrayBuffer ä¸­çš„æ•°æ®ï¼ˆç›¸å½“äºä¸€ä¸ªè§†å›¾ï¼Œå°† ArrayBuffer ä¸­çš„æ•°æ®è¿›è¡Œå±•ç¤ºå’Œæ“ä½œï¼‰ï¼Œå®é™…ä¸Šæ˜¯é‚£ä¹ä¸ªç±»å‹å¯¹è±¡ï¼ˆæ¯ä¸ªç±»å‹å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„æ•°æ®ç±»å‹å’Œå¤§å°ï¼‰ï¼š</p>\n<ul>\n<li><code>Int8Array</code> ï¼š8 ä½æœ‰ç¬¦å·æ•´æ•°</li>\n<li><code>Uint8Array</code> ï¼š8 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li><code>Int16Array</code> ï¼š16 ä½æœ‰ç¬¦å·æ•´æ•°</li>\n<li><code>Uint16Array</code> ï¼š16 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li><code>Int32Array</code> ï¼š32 ä½æœ‰ç¬¦å·æ•´æ•°</li>\n<li><code>Uint32Array</code> ï¼š32 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li><code>Float32Array</code> ï¼š32 ä½æµ®ç‚¹æ•°</li>\n<li><code>Float64Array</code> ï¼š64 ä½æµ®ç‚¹æ•°</li>\n</ul>\n<h3 id=\"ä½¿ç”¨-3\"><a class=\"anchor\" href=\"#ä½¿ç”¨-3\">#</a> ä½¿ç”¨ï¼š</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> slice <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> sliceView <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int8Array</span><span class=\"token punctuation\">(</span>slice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>sliceView<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>sliceView<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span>index</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"dataview\"><a class=\"anchor\" href=\"#dataview\">#</a> DataView</h1>\n<h3 id=\"è¯»å–-2\"><a class=\"anchor\" href=\"#è¯»å–-2\">#</a> è¯»å–ï¼š</h3>\n<p>DataView æ•°æ®è§†å›¾å¯ä»¥ç”¨äºè¯»å†™ buffer,DataView å®ä¾‹æä¾›äº†è®¸å¤šæ–¹æ³•æ¥è¯»å–å†…å­˜ï¼Œä»–ä»¬å‘¢çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚åºå·ã€‚è¡¨ç¤ºå¼€å§‹è¯»å–çš„å­—èŠ‚ä½ç½®ï¼š</p>\n<ul>\n<li>getInt8ï¼šè¯»å– 1 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 8 ä½æ•´æ•°</li>\n<li>getUint8ï¼šè¯»å– 1 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å· 8 ä½æ•´æ•°</li>\n<li>getInt16ï¼šè¯»å– 2 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 16 ä½æ•´æ•°</li>\n<li>getUnit16ï¼šè¯»å– 2 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å· 16 ä½æ•´æ•°</li>\n<li>getInt32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 32 ä½æ•´æ•°</li>\n<li>getUnit32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å· 32 ä½æ•´æ•°</li>\n<li>getFloat32ï¼šè¯»å– 4 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 32 ä½æµ®ç‚¹æ•°</li>\n<li>getUnit64ï¼šè¯»å– 8 ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª 64 ä½æµ®ç‚¹æ•°</li>\n</ul>\n<h3 id=\"å†™å…¥\"><a class=\"anchor\" href=\"#å†™å…¥\">#</a> å†™å…¥ï¼š</h3>\n<p>DataView å®ä¾‹æä¾›ä»¥ä¸‹æ–¹æ³•å†™å…¥å†…å­˜ï¼Œä»–ä»¬éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå¼€å§‹å†™å…¥æ•°æ®çš„å­—èŠ‚åºå·ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ•°æ®ï¼š</p>\n<ul>\n<li>setInt8ï¼šå†™å…¥ 1 ä¸ªå­—èŠ‚çš„ 8 ä½æ•´æ•°</li>\n<li>setUint8ï¼šå†™å…¥ 1 ä¸ªå­—èŠ‚çš„ 8 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li>setInt16ï¼šå†™å…¥ 2 ä¸ªå­—èŠ‚çš„ 16 ä½æ•´æ•°</li>\n<li>setUint16ï¼šå†™å…¥ 2 ä¸ªå­—èŠ‚çš„ 16 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li>setInt32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æ•´æ•°</li>\n<li>setUnit32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æ— ç¬¦å·æ•´æ•°</li>\n<li>setFloat32ï¼šå†™å…¥ 4 ä¸ªå­—èŠ‚çš„ 32 ä½æµ®ç‚¹æ•°</li>\n<li>setFloat64ï¼šå†™å…¥ 8 ä¸ªè‡ªå·±çš„ 64 ä½æµ®ç‚¹æ•°</li>\n</ul>\n<h1 id=\"object-url\"><a class=\"anchor\" href=\"#object-url\">#</a> Object URL</h1>\n<p>Object URL æ˜¯ä¸€ä¸ªç”¨äºè¡¨ç¤º File Object æˆ–è€… Blob Object çš„ URLï¼Œå¯ä»¥å°† **Blob å¯¹è±¡ï¼ˆåŒ…æ‹¬ File å¯¹è±¡ï¼‰** å˜ä¸ºä¸€ä¸ª URL åœ°å€ã€‚</p>\n<h3 id=\"ä½¿ç”¨-4\"><a class=\"anchor\" href=\"#ä½¿ç”¨-4\">#</a> ä½¿ç”¨ï¼š</h3>\n<p>ä½¿ç”¨ URL.createObjectURL æ¥åˆ›å»ºã€‚</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'ä½ å¥½ä¸–ç•Œ'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> newUrl <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"base64ç¼–ç \"><a class=\"anchor\" href=\"#base64ç¼–ç \">#</a> base64 ç¼–ç </h1>\n<h3 id=\"ä»‹ç»-4\"><a class=\"anchor\" href=\"#ä»‹ç»-4\">#</a> ä»‹ç»ï¼š</h3>\n<p>base64 æ˜¯ä¸€ä¸ªä¿å­˜äºŒè¿›åˆ¶æ•°æ®çš„å·¥å…·ï¼Œå°†å¤šç§å½¢å¼çš„äºŒè¿›åˆ¶æ•°æ®æˆ–å…¶æ„æˆçš„æ–‡ä»¶<strong>ä»¥ ASCII çš„å½¢å¼ä¿å­˜</strong>ï¼Œå› ä¸ºå¾ˆå¤šåœ°æ–¹ä¸æ”¯æŒç›´æ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¿å­˜æˆ–å‘ˆç°ï¼Œæ¯”å¦‚å¯ä»¥å°†å›¾ç‰‡ç›´æ¥è½¬æ¢æˆ base64 ç åµŒå…¥ HTML æ–‡æ¡£ä¸­ï¼Œè€Œé¿å…ä½¿ç”¨ç½‘ç»œ http åŠ è½½å›¾ç‰‡ã€‚å¦å¤–ï¼Œå°†æ•°æ®ç¼–ç ä¸º base64 è¿›è¡Œä¼ è¾“ï¼Œç„¶åè§£ç è·å¾—æ•°æ®ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¿è¯æ•°æ®çš„å®Œæ•´å¹¶ä¸”ä¸ç”¨åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¿®æ”¹è¿™äº›æ•°æ®ï¼Œé¿å…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼›</p>\n<h3 id=\"ç»„æˆ\"><a class=\"anchor\" href=\"#ç»„æˆ\">#</a> ç»„æˆï¼š</h3>\n<p><code>A-Z a-z 0-9 + /</code>  å…± 64 ä¸ªå­—ç¬¦ç»„æˆï¼›</p>\n<h3 id=\"ä½¿ç”¨-5\"><a class=\"anchor\" href=\"#ä½¿ç”¨-5\">#</a> ä½¿ç”¨ï¼š</h3>\n<p>JS ä¸­æœ‰ä¸¤ä¸ªå‡½æ•°ç”¨äº base64 æ ¼å¼ï¼ˆASCII ç ï¼‰çš„è½¬æ¢:</p>\n<ul>\n<li>\n<p>btoa ()ï¼šç¼–ç ï¼ˆBinary To ASCII  äºŒè¿›åˆ¶è½¬ ASCIIï¼‰</p>\n<p>è¯¥å‡½æ•°ç”¨äºå°†äºŒè¿›åˆ¶è½¬ä¸º Base64 å­—ç¬¦ä¸²ï¼ˆASCII ç ï¼‰</p>\n</li>\n<li>\n<p>atob ()ï¼šè§£ç ï¼ˆASCII To Binary  ASCII ç è½¬äºŒè¿›åˆ¶ï¼‰</p>\n<p>è¯¥å‡½æ•°ç”¨äºå°† Base64 å­—ç¬¦ä¸²ï¼ˆASCII ç ï¼‰è§£ç ä¸ºäºŒè¿›åˆ¶</p>\n</li>\n</ul>\n<h3 id=\"æ³¨æ„\"><a class=\"anchor\" href=\"#æ³¨æ„\">#</a> æ³¨æ„ï¼š</h3>\n<p>btoa å’Œ atob æ–¹æ³•æœ‰ä¸ªå¼Šç«¯å°±æ˜¯åªèƒ½å¤„ç†æ‹‰ä¸å­—ç¬¦é›†å†…çš„å­—ç¬¦ï¼Œå…¶ä¸åŒ…æ‹¬ä¸­æ–‡æˆ–éè¥¿æ¬§è¯­è¨€çš„å­—ç¬¦ï¼ˆ<strong>åªèƒ½å¤„ç†å•å­—èŠ‚å­—ç¬¦</strong>ï¼‰ã€‚è¦å¤„ç†å¤šå­—èŠ‚å­—ç¬¦éœ€è¦ä½¿ç”¨ TextEncoder API å°†å­—ç¬¦ä¸²è½¬ä¸º Uint8Arrayï¼Œç„¶åæ‰‹åŠ¨å°†è¿™äº›å­—èŠ‚è½¬ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆString.fromCharCodeï¼‰ã€‚</p>\n<h1 id=\"textencoder\"><a class=\"anchor\" href=\"#textencoder\">#</a> TextEncoder</h1>\n<h3 id=\"ä»‹ç»-5\"><a class=\"anchor\" href=\"#ä»‹ç»-5\">#</a> ä»‹ç»ï¼š</h3>\n<p>TextEncoder æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªç¼–ç å™¨ï¼Œencode æ–¹æ³•ç”¨äºå°†å­—ç¬¦ä¸²ç¼–ç ä¸ºä¸€ä¸ª UTF-8 ç¼–ç æ–‡æœ¬çš„ Uint8Array è§†å›¾ã€‚</p>\n<h3 id=\"ä½¿ç”¨-6\"><a class=\"anchor\" href=\"#ä½¿ç”¨-6\">#</a> ä½¿ç”¨ï¼š</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> view <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>view<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "Blob",
                "Blob",
                "FileReader"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/17/eslint%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/",
            "url": "https://dmqweb.cn/2024/05/17/eslint%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/",
            "title": "eslintæºç ",
            "date_published": "2024-05-17T01:14:12.000Z",
            "content_html": "<h1 id=\"eslintçŸ¥è¯†ç‚¹\"><a class=\"anchor\" href=\"#eslintçŸ¥è¯†ç‚¹\">#</a> eslint çŸ¥è¯†ç‚¹</h1>\n<h3 id=\"extendsä¸plugins\"><a class=\"anchor\" href=\"#extendsä¸plugins\">#</a> extends ä¸ plugins</h3>\n<ol>\n<li>plugins æœ¬è´¨æ˜¯ä¸ºäº†åŠ å¼º eslint çš„æ‰©å±•æ€§ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«äººå†™å¥½çš„ eslint è§„åˆ™ï¼Œæ–¹ä¾¿å¿«é€Ÿç”¨äºé¡¹ç›®ä¸­ã€‚</li>\n<li>å®˜æ–¹è§„å®š npm åŒ…çš„æ‰©å±•å¿…é¡»ä»¥ eslint-config - å¼€å¤´ï¼Œæ’ä»¶ä»¥ eslint-plugin - å¼€å¤´ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯ä»¥çœç•¥è¿™ä¸ªå¼€å¤´ã€‚</li>\n<li>eslint-config - æ–‡ä»¶æ˜¯æˆ‘ä»¬å…±äº«çš„ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å°±æ˜¯ä¸€ä¸ª JS å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œè€Œ eslint-plugin - æ–‡ä»¶æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„é›†åˆè§„åˆ™ï¼Œå¯ä»¥å¯¼å…¥å’Œä½¿ç”¨ã€‚</li>\n<li>ä¸€ä¸ªæ’ä»¶èƒ½å¸¦æ¥ï¼š\n<ul>\n<li>é¢å¤–çš„è§„åˆ™ï¼Œå¦‚ <code>&#123;&quot;rules&quot;: &#123;&quot;react/boolean-prop-naming&quot;: &quot;warning&quot;&#125;&#125;</code> ã€‚</li>\n<li>ç¯å¢ƒï¼Œå¦‚ <code>&#123;&quot;env&quot;: &#123;&quot;jest/global&quot;: true&#125;&#125;</code> ã€‚</li>\n<li>é…ç½®ï¼Œå¦‚ <code>&#123;&quot;extends&quot;: [&quot;plugin:react/recommended&quot;]&#125;</code> ã€‚</li>\n<li>é¢„å¤„ç†å™¨ï¼Œå¦‚ <code>&#123;&quot;process&quot;: &quot;a-plugin/a-processor&quot;&#125;</code> ã€‚</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"eslinté…ç½®å¤§å…¨\"><a class=\"anchor\" href=\"#eslinté…ç½®å¤§å…¨\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzODU5NDg4MjkyODcx\">eslint é…ç½®å¤§å…¨</span></h1>\n<h1 id=\"eslintæºç åˆ†æ\"><a class=\"anchor\" href=\"#eslintæºç åˆ†æ\">#</a> eslint æºç åˆ†æ</h1>\n",
            "tags": [
                "eslint",
                "eslint",
                "æºç "
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/17/esbuild/",
            "url": "https://dmqweb.cn/2024/05/17/esbuild/",
            "title": "esbuild",
            "date_published": "2024-05-17T01:14:12.000Z",
            "content_html": "<p>å…³äºæ‰“åŒ…å·¥å…·ï¼šesbuildã€webpack å’Œ rollup ä¸‰è€…çš„ä»‹ç»æ¨è<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MjI0MDk4NDIyOTM5MjU0ODIx\">è¿™é‡Œ</span>ï¼š</p>\n<p>ç®€å•æ¥è¯´å°±æ˜¯ esbuild æ‰“åŒ…æ›´å¿«ï¼›rollup æ‰“åŒ…äº§ç‰©æ›´çº¯å‡€ã€ä½“ç§¯æ›´å°ï¼Œä½†ä¸æ”¯æŒçƒ­æ›´æ–°ï¼›webpack åŠŸèƒ½æ›´å…¨ï¼Œç”Ÿæ€æ›´å®Œå–„ï¼Œæ”¯æŒæ–‡ä»¶ç±»å‹æ›´å¤šã€‚</p>\n<h1 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»</h1>\n<p>Esbuild æ˜¯ä¸€ä¸ªç±» webpack çš„æ‰“åŒ…å·¥å…·ï¼Œé€Ÿåº¦æ˜¯ webpack çš„å‡ åå€ã€‚å…¶åº•å±‚åŸºäº go è¯­è¨€è¿›è¡Œç¼–å†™ï¼Œä¸ä½¿ç”¨ ASTï¼Œä¼˜åŒ–äº†æ„å»ºæµç¨‹ã€‚js æ˜¯å•çº¿ç¨‹ä¸²è¡Œï¼Œesbuild æ˜¯æ–°å¼€äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œï¼Œå……åˆ†å‘æŒ¥äº†å¤šæ ¸çš„ä¼˜åŠ¿ã€‚</p>\n<h1 id=\"ä½œç”¨\"><a class=\"anchor\" href=\"#ä½œç”¨\">#</a> ä½œç”¨</h1>\n<p>esbuild æœ€æ˜¾è‘—çš„ä½œç”¨å°±æ˜¯ï¼šå¿«ã€‚å®ƒä¹Ÿæ˜¯ vite å’Œ snowpack åº•å±‚çš„æ‰“åŒ…å·¥å…·ã€‚åŒæ—¶ä¹Ÿå¯ä»¥å°† esbuild æ‰“åŒ…å·¥å…·é›†æˆåˆ° webpack ä¸­ï¼ˆä½¿ç”¨ pluginï¼‰ã€‚ä¹‹æ‰€ä»¥ esbuild æ²¡æœ‰æµè¡Œèµ·æ¥æ˜¯å› ä¸ºå®ƒç»•è¿‡äº† ASTï¼Œè€Œç›´æ¥è¿›è¡Œæ„å»ºï¼Œä½¿æ²¡æœ‰å¾ˆå¥½çš„è¿‡æ¸¡åˆ°åŸºäº babel-loader è¿™æ ·é€šè¿‡ AST è¿›è¡Œæ‰“åŒ…çš„ä¸Šå±‚å·¥å…·ä¸­ã€‚</p>\n<h1 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨</h1>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> esbuild <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'esbuild'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * åˆ©ç”¨ esbuild ç”Ÿæˆæ–‡ä»¶</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>esbuild<span class=\"token punctuation\">.</span><span class=\"token function\">buildSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token literal-property property\">entryPoints</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">'vite.config.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token literal-property property\">outfile</span><span class=\"token operator\">:</span> <span class=\"token string\">'out.js'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * åˆ©ç”¨ esbuild å¤„ç† jsx è¯­æ³•</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    esbuild<span class=\"token punctuation\">.</span><span class=\"token function\">transformSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;div>åˆ©ç”¨esbuildå¤„ç†jsxè¯­æ³•&lt;/div>'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token literal-property property\">jsxFragment</span><span class=\"token operator\">:</span><span class=\"token string\">'Fragment'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span><span class=\"token string\">'jsx'</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> * åˆ©ç”¨ esbuld å‹ç¼©ä»£ç ä½“ç§¯</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    esbuild<span class=\"token punctuation\">.</span><span class=\"token function\">transformSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'const a = \"ä½ å¥½ä¸–ç•Œ\"'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token literal-property property\">minify</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> * esbuild å†…ç½®äº†ä¸€äº› loaderï¼Œä½¿ç”¨æ—¶ä¼šæ ¹æ®æ–‡ä»¶åç¼€è‡ªåŠ¨æ‰§è¡Œ loaderï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¡®å®š loader</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> * æ”¯æŒï¼šjs,jsx,ts,tsx,css,text,binary,dataurl,file</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    esbuild<span class=\"token punctuation\">.</span><span class=\"token function\">buildSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token literal-property property\">entryPoints</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'vite.config.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token literal-property property\">bundle</span><span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string-property property\">'.js'</span><span class=\"token operator\">:</span><span class=\"token string\">'jsx'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// é»˜è®¤ä½¿ç”¨ js loaderï¼Œæ‰‹åŠ¨æ”¹ä¸º jsx-loader</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token literal-property property\">outfile</span><span class=\"token operator\">:</span> <span class=\"token string\">'out.js'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"39\"></td><td><pre> * ä½¿ç”¨ esbuild å¯åŠ¨ä¸€ä¸ª web server ç”¨äºè°ƒè¯•ï¼ˆçƒ­æ›´æ–°ï¼‰</pre></td></tr><tr><td data-num=\"40\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>esbuild<span class=\"token punctuation\">.</span><span class=\"token function\">serve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token literal-property property\">entryPoints</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'vite.config.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token literal-property property\">bundle</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token literal-property property\">outfile</span><span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">serve</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    serve<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "esbuild",
                "esbuild",
                "æ‰“åŒ…å·¥å…·"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/17/whistle%E4%BD%BF%E7%94%A8/",
            "url": "https://dmqweb.cn/2024/05/17/whistle%E4%BD%BF%E7%94%A8/",
            "title": "whistleæŠ“åŒ…",
            "date_published": "2024-05-17T01:14:12.000Z",
            "content_html": "<h1 id=\"whistleç®€å•ä½¿ç”¨\"><a class=\"anchor\" href=\"#whistleç®€å•ä½¿ç”¨\">#</a> whistle ç®€å•ä½¿ç”¨</h1>\n<h3 id=\"whistleå®‰è£…å¯åŠ¨\"><a class=\"anchor\" href=\"#whistleå®‰è£…å¯åŠ¨\">#</a> whistle å®‰è£…å¯åŠ¨</h3>\n<p>å®‰è£…ï¼šnpm i -g whistle</p>\n<p>ä½¿ç”¨ï¼šw2 start</p>\n<p>è®¿é—®ï¼šè®¿é—®å¯¹åº”çš„é¡µé¢</p>\n<p>ä½œç”¨ï¼š</p>\n<ul>\n<li>ä»»ä½•çš„é“¾æ¥éƒ½ä¼šç»è¿‡å·¥å…·è½¬å‘ä¸€ä¸‹ï¼Œå¹¶è®°å½•ä¸‹æ¥</li>\n<li>ä½¿ç”¨å‰éœ€è¦é…ç½®ä»£ç†åˆ° whistle æœåŠ¡çš„åœ°å€å’Œç«¯å£ä¸Šï¼ˆè®¾ç½®ä»£ç†å¦‚ä¸‹ï¼‰</li>\n</ul>\n<h3 id=\"ä½¿ç”¨æ­¥éª¤\"><a class=\"anchor\" href=\"#ä½¿ç”¨æ­¥éª¤\">#</a> ä½¿ç”¨æ­¥éª¤</h3>\n<p>è®¾ç½®ä»£ç†ï¼š</p>\n<ul>\n<li>æ‰‹æœºç«¯çœç•¥</li>\n<li>ç”µè„‘ç«¯ï¼š\n<ul>\n<li>ç½‘ç»œåå¥½è®¾ç½® --- é«˜çº§ --- ä»£ç† --- ç½‘é¡µä»£ç†ã€å®‰å…¨ç½‘é¡µä»£ç†</li>\n<li>é…ç½®ä»£ç†çš„ ip åœ°å€å’Œç«¯å£å·ï¼ˆ8899ï¼‰</li>\n</ul>\n</li>\n</ul>\n<p>ç¡®è®¤è¯ä¹¦ï¼š</p>\n<p>ä¸€èˆ¬ä¼šè‡ªåŠ¨ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ 8899 ç«¯å£æ‰¾åˆ°è¯ä¹¦ä¸‹è½½å¹¶ç¡®è®¤ä¿¡ä»»</p>\n<p><strong>æŸ¥çœ‹æŠ“åŒ…æƒ…å†µå’Œè®¾ç½®ä»£ç†è½¬å‘ï¼š</strong></p>\n<p>æ‰“å¼€ 127.0.0.1:8899 ç«¯å£è¿›è¡Œè®¾ç½®</p>\n<h1 id=\"whistleé«˜çº§\"><a class=\"anchor\" href=\"#whistleé«˜çº§\">#</a> whistle é«˜çº§</h1>\n<h3 id=\"mockæ•°æ®\"><a class=\"anchor\" href=\"#mockæ•°æ®\">#</a> mock æ•°æ®</h3>\n<p>è®¾ç½®çº¿ä¸Šåœ°å€è½¬å‘åˆ°æœ¬åœ° json æ–‡ä»¶ï¼ˆä½¿ç”¨ file è·¯å¾„ï¼‰ï¼Œæ¨¡æ‹Ÿè¯·æ±‚æ•°æ®ã€‚</p>\n<h3 id=\"éƒ¨åˆ†æ–‡ä»¶è¯·æ±‚è½¬å‘é‡è¦\"><a class=\"anchor\" href=\"#éƒ¨åˆ†æ–‡ä»¶è¯·æ±‚è½¬å‘é‡è¦\">#</a> éƒ¨åˆ†æ–‡ä»¶è¯·æ±‚è½¬å‘ï¼ˆé‡è¦ï¼‰</h3>\n<p>ä¾‹å¦‚çº¿ä¸Šç¯å¢ƒæœ‰æŸä¸ªæ–‡ä»¶æŠ¥é”™ï¼Œç”Ÿäº§ç¯å¢ƒæ— æ³•å¤ç°ï¼Œå¯ä»¥å°†è¯¥æ–‡ä»¶åœ°å€è½¬å‘åˆ°æœ¬åœ°çš„ js æ–‡ä»¶ï¼ˆä½¿ç”¨ file è·¯å¾„ï¼‰ï¼Œæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ï¼Œæé«˜è°ƒè¯•æ•ˆç‡ã€‚</p>\n<h3 id=\"è¯·æ±‚è½¬å‘\"><a class=\"anchor\" href=\"#è¯·æ±‚è½¬å‘\">#</a> è¯·æ±‚è½¬å‘</h3>\n<p>å¯ä»¥ä½œä¸ºè·¨åŸŸçš„ä¸€ç§æ–¹æ¡ˆï¼Œå°†æœ¬åœ°çš„è¯·æ±‚è½¬å‘åˆ°çº¿ä¸Šçš„è·¯å¾„ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿè·¨åŸŸé—®é¢˜</p>\n<h3 id=\"æ³¨å…¥html-csså’Œ-js\"><a class=\"anchor\" href=\"#æ³¨å…¥html-csså’Œ-js\">#</a> æ³¨å…¥ htmlã€css å’Œ js</h3>\n<p>whistle ä¼šè‡ªåŠ¨æ ¹æ®å“åº”å†…å®¹çš„ç±»å‹ï¼Œåˆ¤æ–­æ˜¯å¦æ³¨å…¥ç›¸åº”çš„æ–‡æœ¬ä»¥åŠå¦‚ä½•æ³¨å…¥ï¼ˆæ˜¯å¦ç”¨æ ‡ç­¾åŒ…è£¹ï¼‰</p>\n<p>ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>https<span class=\"token punctuation\">:</span>//www.baidu.com  css<span class=\"token punctuation\">:</span>///Users/dmq/Desktop/test.css</pre></td></tr></table></figure><p>è¿™å°†ä¼šåœ¨ç™¾åº¦çš„å®˜ç½‘æ³¨å…¥è‡ªå®šä¹‰çš„ css æ ·å¼ã€‚</p>\n<h6 id=\"ä¸¾ä¾‹\"><a class=\"anchor\" href=\"#ä¸¾ä¾‹\">#</a> ä¸¾ä¾‹ï¼š</h6>\n<p>å‘ç™¾åº¦ç½‘ç«™æ³¨å…¥ vconsole.js æºç ï¼Œæ–¹ä¾¿è°ƒè¯•æ‰“å°æ—¥å¿—ã€‚</p>\n<ol>\n<li>\n<p>ä¸‹è½½ vconsole åˆ°æœ¬åœ°æˆ–è€…ç›´æ¥å¤åˆ¶æºç åˆ° whistle ä¸­çš„ values ä¸­</p>\n</li>\n<li>\n<p>æœ¬åœ° js æ–‡ä»¶åˆ›å»º VConsole å®ä¾‹ï¼Œæˆ–è€…ç›´æ¥åœ¨ whistle çš„ values ä¸­åˆ›å»º js æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­åˆ›å»º vconsole å®ä¾‹ã€‚</p>\n</li>\n<li>\n<p>åœ¨ rules ä¸­å‘ç™¾åº¦ç½‘ç«™æ³¨å…¥ä¸¤ä¸ª js æ–‡ä»¶ï¼ˆä»¥ whistle ä¸­é…ç½® values ä¸ºç¤ºä¾‹ï¼‰</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>www.baidu.com  jsPrepend<span class=\"token punctuation\">:</span>//<span class=\"token punctuation\">&#123;</span>vConsole.min.js<span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\">#å¼•å…¥æºç </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>www.baidu.com  jsPrepend<span class=\"token punctuation\">:</span>//<span class=\"token punctuation\">&#123;</span>vconsole.js<span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\">#å¼•å…¥å®ä¾‹åŒ– js</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>www.baidu.com  log<span class=\"token punctuation\">:</span>//  <span class=\"token comment\">#åœ¨ whistle ä¸­ä¹Ÿæ‰“å° log</span></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"åŒæ­¥æŠ“åŒ…æ—¥å¿—\"><a class=\"anchor\" href=\"#åŒæ­¥æŠ“åŒ…æ—¥å¿—\">#</a> åŒæ­¥æŠ“åŒ…æ—¥å¿—</h3>\n<p>åœ¨ rules ä¸­é…ç½®ç½‘ç«™çš„è¾“å‡ºï¼Œå¯ä»¥å°†æŠ“åŒ…çš„ log æ—¥å¿—åŒæ­¥åˆ° whistle ä¸­çš„ log é¢æ¿ï¼Œé…ç½®ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>www.baidu.com   log<span class=\"token punctuation\">:</span>// <span class=\"token comment\">#åŒæ­¥æ—¥å¿—</span></pre></td></tr></table></figure><h3 id=\"è§£å†³è·¨åŸŸé—®é¢˜\"><a class=\"anchor\" href=\"#è§£å†³è·¨åŸŸé—®é¢˜\">#</a> è§£å†³è·¨åŸŸé—®é¢˜</h3>\n<p>å¯ä»¥å•ç‹¬è®¾ç½®ç½‘ç«™å…è®¸è·¨åŸŸè®¿é—®ï¼Œä¾‹å¦‚åœ¨ rules ä¸­é…ç½®ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>https<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>5500/list   resCors<span class=\"token punctuation\">:</span>//*  <span class=\"token comment\">#è¡¨ç¤ºè¯¥ç½‘ç«™å…è®¸è·¨åŸŸè®¿é—®</span></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨å‰ç«¯è½¬å‘ä»£ç†æ¥å¤„ç†è·¨åŸŸï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>https<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>8080/list   https<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>5500/list  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#å°†è¯·æ±‚çš„ç½‘å€ä»£ç†åˆ°åŒåŸŸååŒç«¯å£çš„ç½‘å€ï¼Œå°±ä¸ä¼šå‘ç”Ÿè·¨åŸŸã€‚</span></pre></td></tr></table></figure><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1NTc3NjU1L2FydGljbGUvZGV0YWlscy8xMTkyODMwMjg=\">æœ¬æ–‡å­¦ä¹ è‡ª b ç«™ï¼ŒåŸæ–‡æ¡£åœ°å€</span></p>\n",
            "tags": [
                "whistle",
                "whistle",
                "æŠ“åŒ…å·¥å…·"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/11/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/",
            "url": "https://dmqweb.cn/2024/05/11/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/",
            "title": "æ€§èƒ½æŒ‡æ ‡",
            "date_published": "2024-05-11T01:14:12.000Z",
            "content_html": "<h1 id=\"å¸¸è§æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡\"><a class=\"anchor\" href=\"#å¸¸è§æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡\">#</a> å¸¸è§æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡</h1>\n<h1 id=\"ttfbtime-to-first-byte\"><a class=\"anchor\" href=\"#ttfbtime-to-first-byte\">#</a> TTFB(Time To First Byte)</h1>\n<p>å‘å‡ºé¡µé¢è¯·æ±‚åˆ°æ¥æ”¶åˆ°åº”ç­”æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´æ€»å’Œï¼ŒåŒ…å«äº†ï¼š</p>\n<ol>\n<li>DNS è§£ææ—¶é—´</li>\n<li>TCP é“¾æ¥æ—¶é—´</li>\n<li>å‘é€ HTTP è¯·æ±‚æ—¶é—´</li>\n<li>è·å¾—å“åº”æ¶ˆæ¯ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€‚</li>\n</ol>\n<h1 id=\"fpfirst-paint\"><a class=\"anchor\" href=\"#fpfirst-paint\">#</a> <strong>FP</strong>ï¼ˆFirst Paintï¼‰</h1>\n<p>é¦–æ¬¡ç»˜åˆ¶æ—¶é—´ï¼Œè¿™ä¸ªæŒ‡æ ‡ç”¨äºè®°å½•é¡µé¢ç¬¬ä¸€æ¬¡ç»˜åˆ¶åƒç´ çš„æ—¶é—´ã€‚</p>\n<h1 id=\"fcpfirst-contentful-paint\"><a class=\"anchor\" href=\"#fcpfirst-contentful-paint\">#</a> <strong>FCP</strong>ï¼ˆFirst Contentful Paintï¼‰</h1>\n<p>é¦–æ¬¡å†…å®¹ç»˜åˆ¶æ—¶é—´ï¼Œè¿™ä¸ªæŒ‡æ ‡ç”¨äºè®°å½•é¡µé¢é¦–æ¬¡ç»˜åˆ¶æ–‡æœ¬ã€å›¾ç‰‡ã€éç©ºç™½ Canvas æˆ– SVG çš„æ—¶é—´ã€‚</p>\n<h1 id=\"lcplargest-contentful-paint\"><a class=\"anchor\" href=\"#lcplargest-contentful-paint\">#</a> <strong>LCP</strong>ï¼ˆLargest Contentful Paintï¼‰</h1>\n<p>æœ€å¤§å†…å®¹ç»˜åˆ¶æ—¶é—´ï¼Œç”¨äºè®°å½•è§†çª—å†…æœ€å¤§çš„å…ƒç´ ç»˜åˆ¶çš„æ—¶é—´ï¼Œè¯¥æ—¶é—´ä¼šéšç€é¡µé¢æ¸²æŸ“å˜åŒ–è€Œå˜åŒ–ï¼Œå› ä¸ºé¡µé¢ä¸­çš„æœ€å¤§å…ƒç´ åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå¦å¤–è¯¥æŒ‡æ ‡ä¼šåœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡äº¤äº’ååœæ­¢è®°å½•ã€‚</p>\n<h1 id=\"clscumulative-layout-shift\"><a class=\"anchor\" href=\"#clscumulative-layout-shift\">#</a> <strong>CLS</strong>ï¼ˆCumulative Layout Shiftï¼‰</h1>\n<p>ç´¯è®¡ä½ç§»åç§»ï¼Œè®°å½•äº†é¡µé¢ä¸Šéé¢„æœŸçš„ä½ç§»æ³¢åŠ¨ã€‚è®¡ç®—æ–¹å¼ä¸ºï¼šä½ç§»å½±å“çš„é¢ç§¯ * ä½ç§»è·ç¦»ã€‚</p>\n<h1 id=\"ttitime-to-interactive\"><a class=\"anchor\" href=\"#ttitime-to-interactive\">#</a> <strong>TTI</strong>ï¼ˆTime to Interactiveï¼‰</h1>\n<p>é¦–æ¬¡å¯äº¤äº’æ—¶é—´ã€‚è¿™ä¸ªæŒ‡æ ‡è®¡ç®—è¿‡ç¨‹ç•¥å¾®å¤æ‚ï¼Œå®ƒéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p>\n<ol>\n<li>ä» FCP æŒ‡æ ‡åå¼€å§‹è®¡ç®—ï¼›</li>\n<li>æŒç»­ 5 ç§’å†…æ— é•¿ä»»åŠ¡ï¼ˆæ‰§è¡Œæ—¶é—´è¶…è¿‡ 50 msï¼‰ä¸”æ— ä¸¤ä¸ªä»¥ä¸Šæ­£åœ¨è¿›è¡Œä¸­çš„ GET è¯·æ±‚ï¼›</li>\n<li>å¾€å‰å›æº¯è‡³ 5 ç§’å‰çš„æœ€åä¸€ä¸ªé•¿ä»»åŠ¡ç»“æŸçš„æ—¶é—´ã€‚</li>\n</ol>\n<h1 id=\"fidfirst-input-delay\"><a class=\"anchor\" href=\"#fidfirst-input-delay\">#</a> <strong>FID</strong>ï¼ˆFirst Input Delayï¼‰</h1>\n<p>é¦–æ¬¡è¾“å…¥å»¶è¿Ÿæ—¶é—´ï¼Œè®°å½•åœ¨ FCP å’Œ TTI ä¹‹é—´ç”¨æˆ·é¦–æ¬¡ä¸é¡µé¢äº¤äº’æ—¶å“åº”çš„å»¶è¿Ÿã€‚</p>\n<h1 id=\"tbttotal-blocking-time\"><a class=\"anchor\" href=\"#tbttotal-blocking-time\">#</a> <strong>TBT</strong>ï¼ˆTotal Blocking Timeï¼‰</h1>\n<p>é˜»å¡æ€»æ—¶é—´ï¼Œè®°å½•åœ¨ FCP åˆ° TTI ä¹‹é—´æ‰€æœ‰é•¿ä»»åŠ¡çš„é˜»å¡æ—¶é—´æ€»å’Œã€‚</p>\n",
            "tags": [
                "æ€§èƒ½ä¼˜åŒ–",
                "æ€§èƒ½æŒ‡æ ‡"
            ]
        },
        {
            "id": "https://dmqweb.cn/2024/05/08/%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/",
            "url": "https://dmqweb.cn/2024/05/08/%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/",
            "title": "å‡½æ•°é‡è½½",
            "date_published": "2024-05-08T14:35:51.000Z",
            "content_html": "<h1 id=\"æ¦‚å¿µ\"><a class=\"anchor\" href=\"#æ¦‚å¿µ\">#</a> æ¦‚å¿µ</h1>\n<p>å‡½æ•°é‡è½½æ˜¯æŒ‡åœ¨ç¼–ç¨‹è¯­è¨€ä¸­å…è®¸å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œä½†æ˜¯ä»–ä»¬çš„å‚æ•°ç±»å‹ã€å‚æ•°ä¸ªæ•°æˆ–è€…è¿”å›ç±»å‹ä¸åŒï¼Œç¼–è¯‘å™¨æˆ–è§£æå™¨ä¼šæ ¹æ®è°ƒç”¨æ—¶æä¾›çš„å‚æ•°ç±»å‹å’Œä¸ªæ•°æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªå‡½æ•°</p>\n<h1 id=\"ä½œç”¨\"><a class=\"anchor\" href=\"#ä½œç”¨\">#</a> ä½œç”¨</h1>\n<p>å‡½æ•°é‡è½½çš„ä¸»è¦ç›®çš„å°±æ˜¯æé«˜ä»£ç çš„å¯è¯»æ€§å’Œçµæ´»æ€§ï¼ŒåŒæ—¶é¿å…äº†ä¸ºä¸åŒåŠŸèƒ½ç¼–å†™ä¸åŒçš„å‡½æ•°åå¯¼è‡´çš„å˜é‡å‘½åå†²çªå’Œæ··ä¹±ã€‚</p>\n<h1 id=\"å®ç°å‡½æ•°é‡è½½\"><a class=\"anchor\" href=\"#å®ç°å‡½æ•°é‡è½½\">#</a> å®ç°å‡½æ•°é‡è½½</h1>\n<h2 id=\"ts\"><a class=\"anchor\" href=\"#ts\">#</a> ts</h2>\n<p>ts ä¸­è¿›è¡Œå‡½æ•°é‡è½½å…¶å®å°±æ˜¯æ ¹æ®å‹å‚æ•°ç»„çš„ä¸ªæ•°å’Œå¯¹å˜é‡è¿›è¡Œ typeof æ£€æµ‹ï¼Œç„¶åæ ¹æ®ä¸åŒçš„æƒ…å†µè¿›è¡Œåˆ†æ”¯å¤„ç†</p>\n<figure class=\"highlight ts\"><figcaption data-lang=\"TypeScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å‡½æ•°é‡è½½çš„å£°æ˜</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">average</span><span class=\"token punctuation\">(</span>numbers<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å‡½æ•°ç­¾å 1ï¼šæ¥å—æ•°å­—æ•°ç»„å¹¶è¿”å›æ•°å­—</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">average</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>numbers<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å‡½æ•°ç­¾å 2ï¼šæ¥å—å¯å˜æ•°é‡çš„æ•°å­—å‚æ•°å¹¶è¿”å›æ•°å­—</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// å‡½æ•°å®ç°</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">average</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// å®é™…å‡½æ•°å®ç°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">let</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// å¦‚æœä¼ å…¥çš„æ˜¯æ•°ç»„</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç±»å‹æ–­è¨€ä¸ºæ•°å­—æ•°ç»„</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> num <span class=\"token keyword\">of</span> numbers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            sum <span class=\"token operator\">+=</span> num<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">return</span> sum <span class=\"token operator\">/</span> numbers<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// å¦‚æœä¼ å…¥çš„æ˜¯å¤šä¸ªæ•°å­—</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> num <span class=\"token keyword\">of</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            sum <span class=\"token operator\">+=</span> num<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">return</span> sum <span class=\"token operator\">/</span> args<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid arguments'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æŠ›å‡ºé”™è¯¯ï¼Œä¸æ”¯æŒçš„å‚æ•°ç±»å‹</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// è°ƒç”¨å‡½æ•°é‡è½½</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">average</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¾“å‡º: 3</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">average</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¾“å‡º: 3</span></pre></td></tr></table></figure><h2 id=\"js\"><a class=\"anchor\" href=\"#js\">#</a> js</h2>\n<p>js ä¸­ä¹Ÿå¯ä»¥é€šè¿‡ typeof å’Œå½¢å‚æ•°ç»„è¿›è¡Œå‡½æ•°é‡è½½ï¼Œä¸è¿‡å½“ç„¶è¿˜æœ‰æ›´å¥½çš„åšæ³•ï¼ŒjQuery ä½œè€…å¸¸ç”¨å¦‚ä¸‹å®ç°å‡½æ•°é‡è½½ï¼ˆè¿›è¡Œé‡è½½ä¹‹å‰è¦è°ƒç”¨ä¸€æ¬¡å‡½æ•°ï¼‰ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">addMethod</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">object<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">,</span>fn</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> old <span class=\"token operator\">=</span> object<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    object<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> fn<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> old <span class=\"token operator\">===</span> <span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token function\">old</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> searcher <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å°†å¯¹è±¡ä¸­å¯¹åº”å±æ€§çš„é‡è½½æ–¹æ³•å…¨éƒ¨å­˜å‚¨èµ·æ¥</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">addMethod</span><span class=\"token punctuation\">(</span>searcher<span class=\"token punctuation\">,</span><span class=\"token string\">'getUsers'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">addMethod</span><span class=\"token punctuation\">(</span>searcher<span class=\"token punctuation\">,</span><span class=\"token string\">'getUsers'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æ³¨æ„é»˜è®¤å‚æ•°çš„å½¢å‚æ•°é‡ä¸ä¸è®¡æ•°</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŒ‰ç…§å§“åæŸ¥è¯¢ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>searcher<span class=\"token punctuation\">.</span><span class=\"token function\">getUsers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>å¦ä¸€ç§å®ç°æ–¹æ³•å°±æ˜¯ä½¿ç”¨æ˜ å°„ï¼š</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">createOverload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> fnMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">overload</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">it</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">typeof</span> it<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">const</span> fn <span class=\"token operator\">=</span> fnMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å®ç°'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    overload<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">addImpl</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">const</span> fn <span class=\"token operator\">=</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> fn <span class=\"token operator\">!==</span> <span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æœ€åä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯å‡½æ•°'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        fnMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span>fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> overload<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">const</span> getUsers <span class=\"token operator\">=</span> <span class=\"token function\">createOverload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>getUsers<span class=\"token punctuation\">.</span><span class=\"token function\">addImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>getUsers<span class=\"token punctuation\">.</span><span class=\"token function\">addImpl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'number'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">page<span class=\"token punctuation\">,</span>size<span class=\"token operator\">=</span><span class=\"token number\">10</span></span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŒ‰ç…§é¡µç å’Œæ•°é‡æŸ¥è¯¢ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>getUsers<span class=\"token punctuation\">.</span><span class=\"token function\">addImpl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'number'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'number'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">page<span class=\"token punctuation\">,</span>size<span class=\"token operator\">=</span><span class=\"token number\">10</span></span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŒ‰ç…§é¡µç å’Œæ•°é‡æŸ¥è¯¢ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>getUsers<span class=\"token punctuation\">.</span><span class=\"token function\">addImpl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŒ‰ç…§å§“åæŸ¥è¯¢ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>getUsers<span class=\"token punctuation\">.</span><span class=\"token function\">addImpl</span><span class=\"token punctuation\">(</span><span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'æŒ‰ç…§æ€§åˆ«æŸ¥è¯¢ç”¨æˆ·'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token function\">getUsers</span><span class=\"token punctuation\">(</span><span class=\"token string\">'asfsdf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ€»ç»“ä¸€ä¸‹å®ç°æ€è·¯ï¼Œé€šè¿‡ createOverload å‡½æ•°è°ƒç”¨å¯ä»¥è¿”å›ä¸€ä¸ªé‡è½½åçš„å‡½æ•°ï¼ŒcreateOverload å‡½æ•°ä¸­åˆ›å»ºäº†ä¸€ä¸ª mapï¼Œmap ä¸­å°†å‚æ•°ç±»å‹å’Œä¸ªæ•°ä¸å¯¹åº”çš„å‡½æ•°ç›¸åŒ¹é…ï¼Œè¿”å›çš„é‡è½½å‡½æ•°åœ¨è°ƒç”¨æ—¶ä¼šæ ¹æ®å‚æ•°çš„ç±»å‹å» map ä¸­å¯»æ‰¾å¯¹åº”çš„å‡½æ•°ï¼Œé€šè¿‡ apply ç»‘å®š this ä½œç”¨åŸŸå’Œå‚æ•°æ‰§è¡Œå³å¯ã€‚</p>\n",
            "tags": [
                "JS",
                "JS,å‡½æ•°é‡è½½"
            ]
        }
    ]
}